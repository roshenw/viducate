/*!CK:2212837790!*//*1396476088,178158945*/

if (self.CavalryLogger) { CavalryLogger.start_js(["KkmxW"]); }

__d("AdsAccountCapabilities",[],function(a,b,c,d,e,f){e.exports={DIRECT_SALES:"DIRECT_SALES",PREMIUM:"PREMIUM",VIEW_TAGS:"VIEW_TAGS",CUSTOM_CLUSTER_SHARING:"CUSTOM_CLUSTER_SHARING",LOOKALIKE_AUDIENCE:"LOOKALIKE_AUDIENCE",CUSTOM_AUDIENCES_OPT_OUT_LINK:"CUSTOM_AUDIENCES_OPT_OUT_LINK",CUSTOM_AUDIENCES_REV_SHARE:"CUSTOM_AUDIENCES_REV_SHARE",SYNDICATED_AUDIENCE:"SYNDICATED_AUDIENCE",CUSTOM_AUDIENCES_TOKEN_UPLOAD:"CUSTOM_AUDIENCES_TOKEN_UPLOAD",LOOKALIKE_ADVANCED_CONFIG:"LOOKALIKE_ADVANCED_CONFIG",CUSTOM_AUDIENCES_FOLDERS:"CUSTOM_AUDIENCES_FOLDERS",PLATFORM_ADVERTISER_TOKEN_UPLOAD:"PLATFORM_ADVERTISER_TOKEN_UPLOAD",OFFSITE_CONVERSION_HIGH_BID:"OFFSITE_CONVERSION_HIGH_BID",MOBILE_ADVERTISER_ID_UPLOAD:"MOBILE_ADVERTISER_ID_UPLOAD",CAN_SEND_FEEDBACK:"CAN_SEND_FEEDBACK",CAN_CREATE_LOOKALIKES_WITH_CUSTOM_RATIO:"CAN_CREATE_LOOKALIKES_WITH_CUSTOM_RATIO",MOBILE_APP_REENGAGEMENT_ADS:"MOBILE_APP_REENGAGEMENT_ADS",HAS_ACCEPTED_MOBILE_APP_ENGAGEMENT_TOS:"HAS_ACCEPTED_MOBILE_APP_ENGAGEMENT_TOS",NEKO_DESKTOP_CANVAS_APP_ADS:"NEKO_DESKTOP_CANVAS_APP_ADS",MOBILE_APP_VIDEO_ADS:"MOBILE_APP_VIDEO_ADS",CAN_USE_IMPROVED_GEO:"CAN_USE_IMPROVED_GEO",CAN_USE_REACH_AND_FREQUENCY:"CAN_USE_REACH_AND_FREQUENCY",HOLDOUT_VIEW_TAGS:"HOLDOUT_VIEW_TAGS",NEW_CAMPAIGN_STRUCTURE:"NEW_CAMPAIGN_STRUCTURE",CAN_USE_UNIFIED_INTERESTS:"CAN_USE_UNIFIED_INTERESTS",CAN_USE_CONVERSION_LOOKALIKES:"CAN_USE_CONVERSION_LOOKALIKES",CAN_USE_INVENTORY_MANAGER:"CAN_USE_INVENTORY_MANAGER",CAN_UPDATE_CURRENCY:"CAN_UPDATE_CURRENCY",HAS_AVAILABLE_PAYMENT_METHODS:"HAS_AVAILABLE_PAYMENT_METHODS",CAN_USE_ADVANCED_DEMO:"CAN_USE_ADVANCED_DEMO",CAN_USE_MOBILE_EXTERNAL_PAGE_TYPE:"CAN_USE_MOBILE_EXTERNAL_PAGE_TYPE",CAN_USE_OLD_AD_TYPES:"CAN_USE_OLD_AD_TYPES",PRORATED_BUDGET:"PRORATED_BUDGET"};});
__d("AdsAPIObjectives",[],function(a,b,c,d,e,f){e.exports={NONE:"NONE",OFFER_CLAIMS:"OFFER_CLAIMS",PAGE_LIKES:"PAGE_LIKES",CANVAS_APP_INSTALLS:"CANVAS_APP_INSTALLS",EVENT_RESPONSES:"EVENT_RESPONSES",CANVAS_APP_ENGAGEMENT:"CANVAS_APP_ENGAGEMENT",POST_ENGAGEMENT:"POST_ENGAGEMENT",WEBSITE_CONVERSIONS:"WEBSITE_CONVERSIONS",MOBILE_APP_INSTALLS:"MOBILE_APP_INSTALLS",WEBSITE_CLICKS:"WEBSITE_CLICKS",MOBILE_APP_ENGAGEMENT:"MOBILE_APP_ENGAGEMENT",IMPRESSIONS:"IMPRESSIONS",VIDEO_PLAYS:"VIDEO_PLAYS",MULTIPLE:"MULTIPLE",DEPRECATED_CLICKS:"DEPRECATED_CLICKS",INCOMPATIBLE_OFFER_CLAIMS:"INCOMPATIBLE_OFFER_CLAIMS",INCOMPATIBLE_PAGE_LIKES:"INCOMPATIBLE_PAGE_LIKES",INCOMPATIBLE_CANVAS_APP_INSTALLS:"INCOMPATIBLE_CANVAS_APP_INSTALLS",INCOMPATIBLE_EVENT_RESPONSES:"INCOMPATIBLE_EVENT_RESPONSES",INCOMPATIBLE_CANVAS_APP_ENGAGEMENT:"INCOMPATIBLE_CANVAS_APP_ENGAGEMENT",INCOMPATIBLE_POST_ENGAGEMENT:"INCOMPATIBLE_POST_ENGAGEMENT",INCOMPATIBLE_WEBSITE_CONVERSIONS:"INCOMPATIBLE_WEBSITE_CONVERSIONS",INCOMPATIBLE_MOBILE_APP_INSTALLS:"INCOMPATIBLE_MOBILE_APP_INSTALLS",INCOMPATIBLE_WEBSITE_CLICKS:"INCOMPATIBLE_WEBSITE_CLICKS",INCOMPATIBLE_PAGE_ENGAGEMENT:"INCOMPATIBLE_PAGE_ENGAGEMENT"};});
__d("AdsCFApiSpecFields",[],function(a,b,c,d,e,f){e.exports={ACCOUNT_FIELDS:["id","account_id","age","business_country_code","capabilities","currency","daily_spend_limit","funding_source","funding_source_details","moo_default_conversion_bid","min_daily_budget","name","account_status","timezone_id","timezone_offset_hours_utc","tos_accepted","users","user_role","spend_cap","amount_spent","offsite_pixels_tos_accepted"],USER_PAGE_FIELDS:["id","name","global_brand_page_name","category","link","picture","likes","is_published","is_verified","userpermissions"]};});
__d("AdsTimezoneConfig",[],function(a,b,c,d,e,f){e.exports={countryCodeToTimezoneIDsMap:{US:[3,4,1,2,5,6,7],AE:[8],AR:[9,10,11],AT:[12],AU:[13,14,15],BA:[16],BD:[17],BE:[18],BG:[19],BH:[20],BO:[21],BR:[22,23,24,25],BS:[26],CA:[27,28,29,30,31,32,33,34,35,36,37,38],CH:[39],CL:[40,41],CN:[42],CO:[43],CR:[44],CY:[45],CZ:[46],DE:[47],DK:[48],DO:[49],EC:[50,51],EE:[52],EG:[53],ES:[54,55],FI:[56],FR:[57],GB:[58],GH:[59],GR:[60],GT:[61],HK:[62],HN:[63],HR:[64],HU:[65],ID:[66,67,68],IE:[69],IL:[70],IN:[71],IQ:[72],IS:[73],IT:[74],JM:[75],JO:[76],JP:[77],KE:[78],KR:[79],KW:[80],LB:[81],LK:[82],LT:[83],LU:[84],LV:[85],MA:[86],MK:[87],MT:[88],MU:[89],MV:[90],MX:[91,92,93,94],MY:[95],NG:[96],NI:[97],NL:[98],NO:[99],NZ:[100],OM:[101],PA:[102],PE:[103],PH:[104],PK:[105],PL:[106],PR:[107],PS:[108],PT:[109,110],PY:[111],QA:[112],RO:[113],RS:[114],RU:[115,116,117,118,119,120,121,122,123,124,125],SA:[126],SE:[127],SG:[128],SI:[129],SK:[130],SV:[131],TH:[132],TN:[133],TR:[134],TT:[135],TW:[136],UA:[137],UY:[138],VE:[139],VN:[140],ZA:[141],DZ:[1],AL:[1],NP:[1],MO:[1],ME:[1],SN:[1],GE:[1],BN:[1],UG:[1],GP:[1],BB:[1],AZ:[1],TZ:[1],LY:[1],MQ:[1],CM:[1],BW:[1],ET:[1],KZ:[1],NA:[1],MG:[1],NC:[1],MD:[1],FJ:[1],BY:[1],JE:[1],GU:[1],YE:[1],ZM:[1],IM:[1],HT:[1],KH:[1],AW:[1],PF:[1],AF:[1],BM:[1],GY:[1],AM:[1],MW:[1],AG:[1],RW:[1],GG:[1],GM:[1],FO:[1],LC:[1],KY:[1],BJ:[1],AD:[1],GD:[1],VI:[1],BZ:[1],VC:[1],MN:[1],MZ:[1],ML:[1],AO:[1],GF:[1],UZ:[1],DJ:[1],BF:[1],MC:[1],TG:[1],GL:[1],GA:[1],GI:[1],CD:[1],KG:[1],PG:[1],BT:[1],KN:[1],SZ:[1],LS:[1],LA:[1],LI:[1],MP:[1],SR:[1],SC:[1],VG:[1],TC:[1],DM:[1],MR:[1],AX:[1],SM:[1],SL:[1],NE:[1],CG:[1],AI:[1],YT:[1],CV:[1],GN:[1],TM:[1],BI:[1],TJ:[1],VU:[1],SB:[1],ER:[1],WS:[1],AS:[1],FK:[1],GQ:[1],TO:[1],KM:[1],PW:[1],FM:[1],CF:[1],SO:[1],MH:[1],VA:[1],TD:[1],KI:[1],ST:[1],TV:[1],NR:[1],RE:[1],LR:[1],ZW:[1],CI:[1],MM:[1],AN:[1],AQ:[1],BQ:[1],BV:[1],IO:[1],CX:[1],CC:[1],CK:[1],CW:[1],TF:[1],GW:[1],HM:[1],XK:[1],MS:[1],NU:[1],NF:[1],KP:[1],PN:[1],BL:[1],SH:[1],MF:[1],PM:[1],SX:[1],GS:[1],SS:[1],SJ:[1],TL:[1],TK:[1],UM:[1],WF:[1],EH:[1]},names:["","America\/Los_Angeles","America\/Denver","Pacific\/Honolulu","America\/Anchorage","America\/Phoenix","America\/Chicago","America\/New_York","Asia\/Dubai","America\/Argentina\/San_Luis","America\/Argentina\/Buenos_Aires","America\/Argentina\/Salta","Europe\/Vienna","Australia\/Perth","Australia\/Broken_Hill","Australia\/Sydney","Europe\/Sarajevo","Asia\/Dhaka","Europe\/Brussels","Europe\/Sofia","Asia\/Bahrain","America\/La_Paz","America\/Noronha","America\/Campo_Grande","America\/Belem","America\/Sao_Paulo","America\/Nassau","America\/Dawson","America\/Vancouver","America\/Dawson_Creek","America\/Edmonton","America\/Rainy_River","America\/Regina","America\/Atikokan","America\/Iqaluit","America\/Toronto","America\/Blanc-Sablon","America\/Halifax","America\/St_Johns","Europe\/Zurich","Pacific\/Easter","America\/Santiago","Asia\/Shanghai","America\/Bogota","America\/Costa_Rica","Asia\/Nicosia","Europe\/Prague","Europe\/Berlin","Europe\/Copenhagen","America\/Santo_Domingo","Pacific\/Galapagos","America\/Guayaquil","Europe\/Tallinn","Africa\/Cairo","Atlantic\/Canary","Europe\/Madrid","Europe\/Helsinki","Europe\/Paris","Europe\/London","Africa\/Accra","Europe\/Athens","America\/Guatemala","Asia\/Hong_Kong","America\/Tegucigalpa","Europe\/Zagreb","Europe\/Budapest","Asia\/Jakarta","Asia\/Makassar","Asia\/Jayapura","Europe\/Dublin","Asia\/Jerusalem","Asia\/Kolkata","Asia\/Baghdad","Atlantic\/Reykjavik","Europe\/Rome","America\/Jamaica","Asia\/Amman","Asia\/Tokyo","Africa\/Nairobi","Asia\/Seoul","Asia\/Kuwait","Asia\/Beirut","Asia\/Colombo","Europe\/Vilnius","Europe\/Luxembourg","Europe\/Riga","Africa\/Casablanca","Europe\/Skopje","Europe\/Malta","Indian\/Mauritius","Indian\/Maldives","America\/Tijuana","America\/Hermosillo","America\/Mazatlan","America\/Mexico_City","Asia\/Kuala_Lumpur","Africa\/Lagos","America\/Managua","Europe\/Amsterdam","Europe\/Oslo","Pacific\/Auckland","Asia\/Muscat","America\/Panama","America\/Lima","Asia\/Manila","Asia\/Karachi","Europe\/Warsaw","America\/Puerto_Rico","Asia\/Gaza","Atlantic\/Azores","Europe\/Lisbon","America\/Asuncion","Asia\/Qatar","Europe\/Bucharest","Europe\/Belgrade","Europe\/Kaliningrad","Europe\/Moscow","Europe\/Samara","Asia\/Yekaterinburg","Asia\/Omsk","Asia\/Krasnoyarsk","Asia\/Irkutsk","Asia\/Yakutsk","Asia\/Vladivostok","Asia\/Magadan","Asia\/Kamchatka","Asia\/Riyadh","Europe\/Stockholm","Asia\/Singapore","Europe\/Ljubljana","Europe\/Bratislava","America\/El_Salvador","Asia\/Bangkok","Africa\/Tunis","Europe\/Istanbul","America\/Port_of_Spain","Asia\/Taipei","Europe\/Kiev","America\/Montevideo","America\/Caracas","Asia\/Ho_Chi_Minh","Africa\/Johannesburg"],tzIDsByDisplayName:{"(GMT-08:00) America\/Los Angeles":1,"(GMT-07:00) America\/Denver":2,"(GMT-10:00) Pacific\/Honolulu":3,"(GMT-09:00) America\/Anchorage":4,"(GMT-07:00) America\/Phoenix":5,"(GMT-06:00) America\/Chicago":6,"(GMT-05:00) America\/New York":7,"(GMT+04:00) Asia\/Dubai":8,"(GMT-04:00) America\/Argentina\/San Luis":9,"(GMT-03:00) America\/Argentina\/Buenos Aires":10,"(GMT-03:00) America\/Argentina\/Salta":11,"(GMT+01:00) Europe\/Vienna":12,"(GMT+08:00) Australia\/Perth":13,"(GMT+09:30) Australia\/Broken Hill":14,"(GMT+10:00) Australia\/Sydney":15,"(GMT+01:00) Europe\/Sarajevo":16,"(GMT+06:00) Asia\/Dhaka":17,"(GMT+01:00) Europe\/Brussels":18,"(GMT+02:00) Europe\/Sofia":19,"(GMT+03:00) Asia\/Bahrain":20,"(GMT-04:00) America\/La Paz":21,"(GMT-02:00) America\/Noronha":22,"(GMT-04:00) America\/Campo Grande":23,"(GMT-03:00) America\/Belem":24,"(GMT-03:00) America\/Sao Paulo":25,"(GMT-05:00) America\/Nassau":26,"(GMT-08:00) America\/Dawson":27,"(GMT-08:00) America\/Vancouver":28,"(GMT-07:00) America\/Dawson Creek":29,"(GMT-07:00) America\/Edmonton":30,"(GMT-06:00) America\/Rainy River":31,"(GMT-06:00) America\/Regina":32,"(GMT-05:00) America\/Atikokan":33,"(GMT-05:00) America\/Iqaluit":34,"(GMT-05:00) America\/Toronto":35,"(GMT-04:00) America\/Blanc-Sablon":36,"(GMT-04:00) America\/Halifax":37,"(GMT-03:30) America\/St Johns":38,"(GMT+01:00) Europe\/Zurich":39,"(GMT-06:00) Pacific\/Easter":40,"(GMT-04:00) America\/Santiago":41,"(GMT+08:00) Asia\/Shanghai":42,"(GMT-05:00) America\/Bogota":43,"(GMT-06:00) America\/Costa Rica":44,"(GMT+02:00) Asia\/Nicosia":45,"(GMT+01:00) Europe\/Prague":46,"(GMT+01:00) Europe\/Berlin":47,"(GMT+01:00) Europe\/Copenhagen":48,"(GMT-04:00) America\/Santo Domingo":49,"(GMT-06:00) Pacific\/Galapagos":50,"(GMT-05:00) America\/Guayaquil":51,"(GMT+02:00) Europe\/Tallinn":52,"(GMT+02:00) Africa\/Cairo":53,"(GMT+01:00) Europe\/Madrid":55,"(GMT+02:00) Europe\/Helsinki":56,"(GMT+01:00) Europe\/Paris":57,"(GMT+02:00) Europe\/Athens":60,"(GMT-06:00) America\/Guatemala":61,"(GMT+08:00) Asia\/Hong Kong":62,"(GMT-06:00) America\/Tegucigalpa":63,"(GMT+01:00) Europe\/Zagreb":64,"(GMT+01:00) Europe\/Budapest":65,"(GMT+07:00) Asia\/Jakarta":66,"(GMT+08:00) Asia\/Makassar":67,"(GMT+09:00) Asia\/Jayapura":68,"(GMT+02:00) Asia\/Jerusalem":70,"(GMT+05:30) Asia\/Kolkata":71,"(GMT+03:00) Asia\/Baghdad":72,"(GMT+01:00) Europe\/Rome":74,"(GMT-05:00) America\/Jamaica":75,"(GMT+02:00) Asia\/Amman":76,"(GMT+09:00) Asia\/Tokyo":77,"(GMT+03:00) Africa\/Nairobi":78,"(GMT+09:00) Asia\/Seoul":79,"(GMT+03:00) Asia\/Kuwait":80,"(GMT+02:00) Asia\/Beirut":81,"(GMT+05:30) Asia\/Colombo":82,"(GMT+02:00) Europe\/Vilnius":83,"(GMT+01:00) Europe\/Luxembourg":84,"(GMT+02:00) Europe\/Riga":85,"(GMT+01:00) Europe\/Skopje":87,"(GMT+01:00) Europe\/Malta":88,"(GMT+04:00) Indian\/Mauritius":89,"(GMT+05:00) Indian\/Maldives":90,"(GMT-08:00) America\/Tijuana":91,"(GMT-07:00) America\/Hermosillo":92,"(GMT-07:00) America\/Mazatlan":93,"(GMT-06:00) America\/Mexico City":94,"(GMT+08:00) Asia\/Kuala Lumpur":95,"(GMT+01:00) Africa\/Lagos":96,"(GMT-06:00) America\/Managua":97,"(GMT+01:00) Europe\/Amsterdam":98,"(GMT+01:00) Europe\/Oslo":99,"(GMT+12:00) Pacific\/Auckland":100,"(GMT+04:00) Asia\/Muscat":101,"(GMT-05:00) America\/Panama":102,"(GMT-05:00) America\/Lima":103,"(GMT+08:00) Asia\/Manila":104,"(GMT+05:00) Asia\/Karachi":105,"(GMT+01:00) Europe\/Warsaw":106,"(GMT-04:00) America\/Puerto Rico":107,"(GMT+02:00) Asia\/Gaza":108,"(GMT-01:00) Atlantic\/Azores":109,"(GMT-04:00) America\/Asuncion":111,"(GMT+03:00) Asia\/Qatar":112,"(GMT+02:00) Europe\/Bucharest":113,"(GMT+01:00) Europe\/Belgrade":114,"(GMT+02:00) Europe\/Kaliningrad":115,"(GMT+03:00) Europe\/Moscow":116,"(GMT+04:00) Europe\/Samara":117,"(GMT+05:00) Asia\/Yekaterinburg":118,"(GMT+06:00) Asia\/Omsk":119,"(GMT+07:00) Asia\/Krasnoyarsk":120,"(GMT+08:00) Asia\/Irkutsk":121,"(GMT+09:00) Asia\/Yakutsk":122,"(GMT+10:00) Asia\/Vladivostok":123,"(GMT+11:00) Asia\/Magadan":124,"(GMT+12:00) Asia\/Kamchatka":125,"(GMT+03:00) Asia\/Riyadh":126,"(GMT+01:00) Europe\/Stockholm":127,"(GMT+08:00) Asia\/Singapore":128,"(GMT+01:00) Europe\/Ljubljana":129,"(GMT+01:00) Europe\/Bratislava":130,"(GMT-06:00) America\/El Salvador":131,"(GMT+07:00) Asia\/Bangkok":132,"(GMT+01:00) Africa\/Tunis":133,"(GMT+02:00) Europe\/Istanbul":134,"(GMT-04:00) America\/Port of Spain":135,"(GMT+08:00) Asia\/Taipei":136,"(GMT+02:00) Europe\/Kiev":137,"(GMT-03:00) America\/Montevideo":138,"(GMT-04:30) America\/Caracas":139,"(GMT+07:00) Asia\/Ho Chi Minh":140,"(GMT+02:00) Africa\/Johannesburg":141}};});
__d("ApiCreativeTypes",[],function(a,b,c,d,e,f){e.exports={STANDARD:1,INLINE_FAN:2,INLINE_RSVP:3,PLATFORM_CONTEXT:4,BASS_PLATFORM_STORY:8,BASS_PAGE_CONNECTIONS:9,BASS_PAGE_CHECKINS:10,PREMIUM_STANDARD:12,PREMIUM_PLATFORM:15,BASS_APP_CONNECTIONS:16,BASS_ENGAGEMENT:17,BASS_LINK_SHARE:19,BASS_QUESTIONS_VOTE:20,QUERY_BASED:25,PAGE_POSTS_V2:27,RESEARCH_POLL:28,TYPEAHEAD:31,CONTEXTUAL_APP_AD:32,PREMIUM_FEED_VIDEO_AD:34,INSTAGRAM_AD:35,EXOTIC_OR_INVALID:999};});
__d("BoostedPostEventType",[],function(a,b,c,d,e,f){e.exports={INITIALIZE:"initialize",FIRST_INITIALIZE:"first_initialize",EXTEND:"extend",DELETE:"delete",ACTIVATE:"activate",PAUSE:"pause",ADD_BUDGET:"add_budget",ADGROUP_CREATE_FAIL:"adgroup_create_fail",ASYNC_DELETE_FAIL:"async_delete_fail",REVIEWED:"reviewed",ACTION_MENU_OPEN:"action_menu_open",ACTION_MENU_CLOSE:"action_menu_close",ADD_PAYMENT_HEADER_EDIT_CLICKED:"add_payment_header_edit_clicked",ADD_PAYMENT_HEADER_EDIT_COMPLETED:"add_payment_header_edit_completed",ADD_PAYMENT_HEADER_EDIT_NOT_COMPLETED:"add_payment_header_edit_not_completed",BOOST_BUTTON_RENDERED:"boost_button_rendered",BUDGET_CHANGED:"budget_changed",BUDGET_SELECTOR_EDIT_BUTTON:"budget_selector_edit_button",BUDGET_TEXT_CHANGED:"budget_text_changed",BUDGET_TEXT_TOO_LOW:"budget_text_too_low",CAMPAIGN_FINISHED:"campaign_finished",CLICKED_AFTER_BUDGET_NOTIFICATION:"clicked_after_budget_notification",COMPOSER_CREATE_CANCEL:"composer_create_cancel",COMPOSER_CREATE_SAVE:"composer_create_save",COMPOSER_FLYOUT_OPEN:"composer_flyout_open",CREATE_MORE_OPTIONS:"create_more_options",CREATE_SAVE_CLICK:"create_save_click",DURATION_CHANGED:"duration_changed",EDIT_BUDGET_BUTTON:"edit_budget_button",EDIT_BUDGET_SAVE:"edit_budget_save",ERROR_BOX_RENDER:"error_box_render",FUNDING_SOURCE_CHECKED:"funding_source_checked",PAYMENT_FLOW_COMPLETE:"payment_flow_complete",RETARGET_BUTTON_RENDER:"retarget_button_render",RETARGET_ATTEMPT:"retarget_attempt",TIMELINE_CREATE_FLYOUT_OPEN:"timeline_create_flyout_open",TIMELINE_CREATE_SAVE:"timeline_create_save",TIMELINE_EDIT_FLYOUT_OPEN:"timeline_edit_flyout_open",TIMELINE_RESUME_BOOSTING:"timeline_resume_boosting",TIMELINE_STOP_BOOSTING:"timeline_stop_boosting",SNOWLIFT_FLYOUT_OPEN:"snowlift_flyout_open",PHOTO_PERMALINK_FLYOUT_OPEN:"photo_permalink_flyout_open",MONITOR_SCHEDULE:"monitor_schedule",MONITOR_HEARTBEAT:"monitor_heartbeat",NCPP_SELECTED:"ncpp_selected",GROUPER_SELECTED:"grouper_selected",SURVEY_STAR_RATING:"survey_star_rating",SURVEY_TEXT_FEEDBACK:"survey_text_feedback",SCHEDULE_ADGROUP_CREATE:"schedule_adgroup_create",TARGETING_CHANGED:"targeting_changed",ADGROUP_CREATE:"adgroup_create",TARGETING_WARNING_SHOWN:"targeting_warning_shown",OBJECTIVE_CHANGED:"objective_changed",DELETE_PROMOTION:"delete_promotion",UNKNOWN:"unknown",AM_LAST_USED_AUDIENCE_SHOWN:"am_last_used_audience_shown",AM_FIRST_AUDIENCE_SHOWN:"am_first_audience_shown",AM_DEFAULT_AUDIENCE_SHOWN:"am_default_audience_shown",AM_DEFAULT_AUDIENCE_EDITED:"am_default_audience_edited",AM_AUDIENCE_CREATED:"am_audience_created",AM_AUDIENCE_EDITED:"am_audience_edited",AM_AUDIENCE_DELETED:"am_audience_deleted",AM_AUDIENCE_CHANGED:"am_audience_changed"};});
__d("OcpmAdConfig",[],function(a,b,c,d,e,f){e.exports={actionsMultiplier:.5,clicksMultiplier:.5,mobileInstallMultiplier:1,offsiteMultiplier:3};});
__d("AdsDispatchActionTypeUtils",[],function(a,b,c,d,e,f){"use strict";var g='_supportedActions';function h(i,j){var k={},l={};for(var m in j){k[m]=i+m;l[i+m]=m;}k[g]=l;return k;}e.exports={createActionTypeMap:h};});
__d("AdsCFActionTypes",["AdsDispatchActionTypeUtils"],function(a,b,c,d,e,f,g){var h='ADS_CF_',i={IMAGE_CROP_CHANGE:null,IMAGE_CROP_ITEM_CLICK:null,IMAGE_CROP_DIALOG_SHOW:null,ACCOUNT_INIT:null,CONVERSION_PIXELS_CHANGE:null,OFFSITE_PIXELS_TOS_ACCEPTED:null,CHANGE_ACCOUNT_CURRENCY:null,CHANGE_ACCOUNT_TIMEZONE_ID:null,CHANGE_ACCOUNT_COUNTRY:null,COUPON_ACTIVATED:null,CHANGE_FUNDING_SOURCE:null,CHANGE_ACTORS:null,ADD_ACTOR:null,CHANGE_AD_NAME:null,CAROUSEL_ITEM_NAVIGATION:null,OBJECTIVE_CHANGE:null,KPI_OBJECTIVE_CHANGE:null,KPI_OBJECTIVE_CONFIRM:null,KPI_OBJECTIVE_SEE_MORE:null,CREATIVE_INIT:null,CREATIVE_CHANGE:null,CREATIVE_PLACEMENTS_CHANGE:null,CREATIVE_STATUS_CHANGE:null,SPONSORED_STORY_CHANGE:null,IMAGE_VALIDATED:null,PREVIEW_TAB_SWITCH:null,PREVIEW_LOADING_CHANGE:null,MEDIA_UPDATE:null,IMAGE_VERSION_ADD:null,IMAGE_DIMENSIONS_READY:null,STOCK_SEARCH:null,STOCK_SEARCH_RESULTS_READY:null,IMAGE_UPLOAD_CLICK:null,IMAGE_UPLOAD_SUCCESS:null,IMAGE_DOWNLOAD_ERROR:null,IMAGE_SELECT_CLICK:null,IMAGE_SELECT_SUCCESS:null,IMAGE_DESELECT_SUCCESS:null,IMAGE_SELECT_CONFIRMED:null,IMAGE_SELECT_CANCEL:null,IMAGE_LIBRARY_TAB_CLICK:null,STOCK_IMAGE_SEARCH:null,STOCK_IMAGE_SEARCH_TEXT_CHANGE:null,STOCK_IMAGE_GUIDELINES_SHOW:null,CAMPAIGNS_LOADED:null,CAMPAIGN_SELECT:null,CANCEL_EDITED_CAMPAIGN:null,CHANGE_CAMPAIGN:null,CHANGE_CAMPAIGN_BUDGET:null,CHANGE_CAMPAIGN_BUDGET_MODE:null,CHANGE_CAMPAIGN_NAME:null,CHANGE_CAMPAIGN_SCHEDULE_MODE:null,CHANGE_CAMPAIGN_SCHEDULE:null,CHANGE_CAMPAIGN_STATUS:null,DISMISS_CAMPAIGN_SAVE_SUCCESS:null,EDIT_CAMPAIGN_BUTTON_CLICK:null,SAVE_EDITED_CAMPAIGN_CLICK:null,SAVE_EDITED_CAMPAIGN_ERROR:null,SAVE_EDITED_CAMPAIGN_SUCCESS:null,SAVE_EDITED_CAMPAIGN_TIMEOUT:null,SELECT_EXISTING_CAMPAIGN:null,SELECT_NEW_CAMPAIGN:null,CAMPAIGN_GROUP_SELECT:null,CAMPAIGN_GROUP_SELECT_AND_UPDATE:null,CAMPAIGN_GROUP_LOAD:null,CAMPAIGN_GROUPS_LOADED:null,INIT_STARTED:null,INIT_DATA_RECEIVED:null,INIT_DATA_LOADED:null,PLACE_ORDER_INITIATED:null,REVIEW_AD_INITIATED:null,REVIEW_DIALOG_SHOW:null,REVIEW_DIALOG_CANCEL:null,SAVE_AD_INITIATED:null,CREATE_MODE_CONFIG_CHANGE:null,SHOW_MODE_CHANGED:null,URI_CHANGE:null,HELP_LINK_CLICK:null,DESTINATION_CHANGE:null,DESTINATION_FETCH_ERROR:null,DESTINATION_SELECT:null,DESTINATION_UPDATE:null,KPI_DESTINATION_SELECT:null,PAGE_POSTS_LOADED:null,PAGE_POSTS_LOAD_COMPLETE:null,PAGE_POSTS_PUBLISHED:null,POST_LINK_DATA_LOADED:null,RESET_DESTINATION:null,CLICK_CONTACT_ADMIN:null,PAGE_SELECTOR_CLICK:null,PAGE_CREATE_CLICK:null,BID_ESTIMATE_CHANGE:null,AUDIENCE_ESTIMATE_CHANGE:null,TARGETING_SENTENCE_CHANGE:null,TARGETING_CHANGE:null,TARGETABLE_COUNTRIES_CHANGE:null,TARGETABLE_LANGUAGES_CHANGE:null,TARGETABLE_AUDIENCES_CHANGE:null,TARGETING_RESET_DEFAULTS:null,BID_CHANGE:null,BID_OPTION_CHANGE:null,BID_PRICE_CHANGE:null,CONVERSION_PIXEL_CHANGE:null,CPA_BID_AVAILABLE:null,DSO_FIELD_CHANGE:null,RESTORE_PRICING_DEFAULTS:null,CHANGE_PIXEL_EMAIL_PERSONAL_MESSAGE:null,CHANGE_PIXEL_EMAIL_RECIPIENT:null,CHANGE_PIXEL_SNIPPET_VIEW_MODE:null,CONFIRM_SNIPPET_VIEW:null,CONVERSION_PIXEL_CREATED:null,CODE_MAP_CHANGE:null,CODE_MAP_RESET:null,LOG:null,FOCUS_REQUEST:null,PAYMENTS_FLOW_CANCELLED:null,PAYMENTS_FLOW_ERROR:null,PAYMENTS_FLOW_SUCCESS:null,ADS_MANAGER_REDIRECT:null,CONVERSION_PIXEL_LINK_CLICK:null,CREATE_AD_SUCCESS:null,CREATE_AD_FAIL:null,CREATE_AD_FAIL_WITH_CAMPAIGN_SUCCESS:null,CREATE_AD_TIMEOUT:null,CREATE_SIMILAR_AD:null,EXTEND_CAMPAIGN:null,EXTEND_CAMPAIGN_FAIL:null,EXTEND_CAMPAIGN_SUCCESS:null,INCREASE_BUDGET:null,INCREASE_BUDGET_FAIL:null,INCREASE_BUDGET_SUCCESS:null,REQUEST_RELATED_DATA_FAIL:null,REQUEST_RELATED_DATA_SUCCESS:null,TRACK_MOBILE_APP_INSTALL_COMPOSE:null,TRACK_MOBILE_APP_INSTALL_SEND:null,TRACK_MOBILE_APP_INSTALL_SEND_FAIL:null,TRACK_MOBILE_APP_INSTALL_SEND_SUCCESS:null,TRACK_MOBILE_APP_INSTALL_INFO:null,SAVE_AD_SUCCESS:null,NAVIGATION_SECTION_ADD:null,NAVIGATION_SECTION_REMOVE:null,NAVIGATION_SECTION_ENTERED:null,NAVIGATION_SECTION_EXITED:null,NAVIGATION_SECTION_GO:null,NAVIGATION_SECTION_SCROLL_DONE:null},j=g.createActionTypeMap(h,i);e.exports=j;});
__d("AdsActionTypes",["keyMirror"],function(a,b,c,d,e,f,g){var h=g({PAGE_TRANSITION:true});e.exports=h;});
__d("AdsPayloadSource",[],function(a,b,c,d,e,f){var g={INITIAL_SERVER:'initial-server',SERVER_RESPONSE:'server-response',UNKNOWN_SOURCE:'unknown-source',VIEW_ACTION:'view-action',URL_PARAM_LOAD:'url-param-load',PAGE_TRANSITION:'page-transition'};e.exports=g;});
__d("Informer",["Arbiter","copyProperties","emptyFunction"],function(a,b,c,d,e,f,g,h,i){'use strict';function j(){this._arbiter=new g();this._isBatching=false;this.subscribe=this._arbiter.subscribe.bind(this._arbiter),this._storesToInform={};}j.prototype.inform=function(k,l){if(this._isBatching){this._storesToInform[k]=this._storesToInform[k]||[];var m=this._storesToInform[k].indexOf(l);if(m!==-1)this._storesToInform[k].splice(m,1);this._storesToInform[k].push(l);}else this._arbiter.inform(k,l);};j.prototype.beginBatch=function(){this._isBatching=true;};j.prototype.endBatch=function(){this._isBatching=false;var k=this._storesToInform;this._storesToInform={};Object.keys(k).forEach(function(l){var m=k[l];m.forEach(function(n){this._arbiter.inform(l,n);}.bind(this));}.bind(this));};h(j.prototype,{subscribe:i});e.exports=j;});
__d("AdsInformer",["Informer"],function(a,b,c,d,e,f,g){'use strict';e.exports=new g();});
__d("adsGKCheck",["AdsCreationConfig","invariant"],function(a,b,c,d,e,f,g){function h(j){return !!g.gk[j];}function i(j,k){g.gk[j]=k;}h.overrideGK=i;e.exports=h;});
__d("AdsDispatcher",["AdsActionTypes","AdsPayloadSource","AdsInformer","BanzaiLogger","Dispatcher","ReactUpdates","Run","URI","adsGKCheck","copyProperties","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';function r(t){return function(u){var v=Date.now();l.batchedUpdates(function(){i.beginBatch();this.dispatch({payloadsource:t,action:u});i.endBatch();}.bind(this));if(o('ads_cf_log_dispatch_perf')){var w=Date.now()-v;j.log('AdsCFLoggerConfig',{event_name:'dispatch',time_since_load:Date.now()-a._cstart,event_detail:u.actionType,duration:w});}};}var s=p(new k(),{handleUpdateFromInitialServer:r(h.INITIAL_SERVER),handleUpdateFromServerResponse:r(h.SERVER_RESPONSE),handleUpdateFromURLParams:r(h.URL_PARAM_LOAD),handleUpdateFromUnknownSource:r(h.UNKNOWN_SOURCE),handleUpdateFromViewAction:r(h.VIEW_ACTION),handlePageTransition:function(){this.dispatch({payloadsource:h.PAGE_TRANSITION,action:{actionType:g.PAGE_TRANSITION}});}});m.onAfterUnload(s.handlePageTransition.bind(s));e.exports=s;});
__d("AdsCFConstants",["fbt","keyMirror"],function(a,b,c,d,e,f,g,h){var i={ACTIONS:'actions',CLICKS:'clicks',IMPRESSIONS:'impressions'},j=h({PENDING:null,SUCCESS:null,FAILURE:null}),k={DAILY:'daily',LIFETIME:'lifetime'},l=h({EXTEND_CAMPAIGN:null,INCREASE_BUDGET:null,UNPAUSE:null}),m=h({ACTIVE:null,PAUSED:null}),n=h({ACTIVE:null,PAUSED:null}),o=h({CONTINUOUSLY:null,SCHEDULED:null}),p=h({START_DATE_BEFORE_NOW:null,END_DATE_BEFORE_START_DATE:null,END_DATE_BEFORE_NOW:null,INSUFFICIENT_DAILY_BUDGET:null}),q='canonical-id',r="error entity",s={CREATE_NEW:'create-new',CREATE_SIMILAR:'create-similar',EDIT_EXISTING:'edit-existing'},t={PRIMARY:'primary-creative-id',SECONDARY:'secondary-creative-id'},u=h({ENABLED:null,DISABLED:null,UNAVAILABLE:null,DISQUALIFIED:null}),v=h({AUTO_FILL_OTHER:null,PREFILLED_FROM_URL:null,SINGLE_OBJECT_PREFILL:null,USER_SELECTED:null}),w={};w[s.CREATE_NEW]="Advertise on Facebook";w[s.CREATE_SIMILAR]="Create a Similar Ad";w[s.EDIT_EXISTING]="Edit Your Ad";var x=h({DEFAULT:null,AYMT_DIALOG:null,AYMT_REFERRAL:null}),y={INCREASE_ACCOUNT_SPEND_CAP:1,EXTEND_CAMPAIGN:1,INCREASE_BUDGET:1,CONVERSION_PIXEL:2,TRACK_MOBILE_APP_INSTALL:2},z={ACTIVE:1,DISABLED:2,UNSETTLED:3,PENDING_REVIEW:7,PENDING_CLOSURE:100,CLOSED:101},aa=h({EXTEND_CAMPAIGN:null,INCREASE_BUDGET:null,CONVERSION_PIXEL:null,TRACK_MOBILE_APP_INSTALL:null,INCREASE_ACCOUNT_SPEND_CAP:null}),ba=h({DEFAULT:null,FAILURE:null,IN_PROGRESS:null,SUCCESS:null}),ca=h({BEGIN:null,COMPOSE:null,SENDING:null,SUCCESS:null,FAILURE:null}),da=h({OBJECTIVE_SELECTOR:null,SUGGESTION:null,PIXEL_UPSELL:null}),ea={ENABLED:'enabled',DISABLED:'disabled',NOT_SUPPORTED:'not_supported'},fa=h({RHC:null,NEWS_FEED:null,MOBILE_NEWS_FEED:null,FAN:null}),ga={NONE:'none',ONLY_PLACEMENT:'only-placement',ONLY_PLACEMENT_EXCEPT_FAN:'only-placement-except-fan'},ha={};ha[ga.ONLY_PLACEMENT]="You need at least one placement to show your ad on Facebook. This is the only placement you've selected, so it can't be removed.";ha[ga.ONLY_PLACEMENT_EXCEPT_FAN]="The mobile News Feed placement can't be removed if you want to show your ad in third-party mobile apps.";e.exports={AccountStatus:z,BidOptions:i,CampaignBudgetModes:k,CampaignDialogActionTypes:l,CampaignGroupRunStatuses:m,CampaignRunStatuses:n,CampaignScheduleModes:o,CampaignValidationErrors:p,CanonicalID:q,CreateMode:s,CreativeID:t,CreativeStatusModes:u,DestinationSelectionSource:v,DocumentTitles:w,Environments:x,ErrorEntityID:r,MobileAppInstallUpsellStates:ca,NEW_CAMPAIGN_ID:'NEW_CAMPAIGN_ID',NEW_CAMPAIGN_GROUP_ID:'NEW_CAMPAIGN_GROUP_ID',ObjectiveChangeSource:da,PlacementCannotDisableReason:ga,PlacementCannotDisableDescription:ha,PlacementID:fa,PlacementStates:ea,RemoteCallStatus:j,UpsellRankings:y,UpsellTypes:aa,UpsellViewStates:ba};});
__d("AdsCFCreateModeStore",["AdsCFActionTypes","AdsDispatcher","Arbiter","copyProperties","AdsCFConstants","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m,n,o,p,q,r=l(),s;function t(){var aa=r.getQueryData();if(aa.adgroup_id&&aa.edit){m=aa.adgroup_id;}else m=null;}function u(){var aa=r.getQueryData();if(aa.adgroup_id){if(aa.edit){n=k.CreateMode.EDIT_EXISTING;}else n=k.CreateMode.CREATE_SIMILAR;}else n=k.CreateMode.CREATE_NEW;}function v(){var aa=r.getQueryData();q=aa.show_only;}function w(){var aa=r.getQueryData();s=!!aa.dialog;}function x(){var aa=r.getQueryData();if(aa.oid){o=aa.oid;}else o=null;}function y(){t();u();x();v();w();p=false;}y();var z=j(new i(),{getCurrentMode:function(){return n;},getAdgroupID:function(){return m;},getShowMode:function(){return q;},getAllowRedirect:function(){return p;},getPendingObjectID:function(){return o;},getURI:function(){return l(r.toString());},isCreatingNew:function(){return n===k.CreateMode.CREATE_NEW;},isCreatingSimilar:function(){return n===k.CreateMode.CREATE_SIMILAR;},isDialog:function(){return s;},isEditingExisting:function(){return n===k.CreateMode.EDIT_EXISTING;},dispatchToken:h.register(function(aa){var ba=aa.action;switch(ba.actionType){case g.CREATE_MODE_CONFIG_CHANGE:p=!!ba.allowRedirect;break;case g.URI_CHANGE:r=ba.uri;y();z.inform('change');break;case g.CREATE_SIMILAR_AD:n=k.CreateMode.CREATE_SIMILAR;m=null;o=null;z.inform('change');break;case g.REQUEST_RELATED_DATA_SUCCESS:p=true;z.inform('change');break;case g.SHOW_MODE_CHANGED:q=ba.showMode;z.inform('change');break;}})});e.exports=z;});
__d("URIInitDataUtil",["AdsCFCreateModeStore","ApiCreativeTypes","URI","AdsAPIObjectives"],function(a,b,c,d,e,f,g,h,i,j){function k(x){return i().getQueryData()[x];}function l(){return k('fbid');}function m(){return k('default_campaign_id');}function n(){return k('campaign_group');}function o(){if(k('storyid'))return j.POST_ENGAGEMENT;return k('objective');}function p(){return k('creativetype');}function q(){if(k('storyid'))return {creativeType:h.PAGE_POSTS_V2,objectId:l(),storyId:k('storyid'),enabled:true};if(p())return {creativeType:parseInt(k('creativetype'),10),objectId:l(),enabled:true};return;}function r(){return k('showlog');}function s(){return k('environment');}function t(){return k('daily_budget');}function u(){var x=k('targeting_spec');if(x)return JSON.parse(x);}function v(){return k('conversion_pixel_id');}function w(){if(!g.isCreatingNew())return false;return !!(q()||p()||l()||o()||u());}e.exports={getDailyBudget:t,getDefaultCampaignID:m,getDefaultCampaignGroupID:n,getDefaultCreative:q,getDefaultDestinationID:l,getDefaultObjective:o,getDefaultTargeting:u,getDefaultConversionPixel:v,getEnvironment:s,getShowLog:r,isPrefilledFromURI:w};});
__d("AdsCFLoggerInternal",["AsyncRequest","URIInitDataUtil","copyProperties","mergeInto"],function(a,b,c,d,e,f,g,h,i,j){function k(m,n,o){h.getShowLog();var p=i({category:m,event:n,time_since_env_flush:Date.now()-a._cstart},o||{});new g('/ads/manage/adscreator/logger/').setData(p).send();}var l={defaultData:{},setDefaultData:function(m){this.defaultData=m;return this;},getDefaultData:function(){return this.defaultData;},updateDefaultData:function(m){j(this.defaultData,m);return this;},CATEGORIES:{CREATE:'create',RETRIEVE:'retrieve',UPDATE:'update',DELETE:'delete',VALIDATION_ERROR:'validation_error',PAYMENT:'ads_payment',NO_DB_OP:'no_db_op'},log:function(m,n,o){o=i(o,this.getDefaultData());var p=i({message:m},{message:o}||{});try{p=JSON.parse(JSON.stringify(p));}catch(q){p={};}k(m||'js_info',n||'general_info',p);}};e.exports=l;});
__d("AdManagerFunding",["AdsCFLoggerInternal","GiftCredits","URI","copyProperties","goURI","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=function(o,p,q,r){g.log(g.CATEGORIES.PAYMENT,o,{account_id:p,ncf:i(window.location.href).getQueryData().ncf,source:q,url_user:r?r:'No url user'});},n={POWER_EDITOR_APP_ID:'119211728144504',_business_id:null,addCredentialCallbackFromFunding:function(o,p){if(p.credential_state){var q=i('/ads/manage/funding.php').addQueryData({credential_state:p.credential_state,act:o});if(n.getBusinessID())q.addQueryData({business_id:n.getBusinessID()});k(q);}},addCredentialCallbackFromFundingInPE:function(o){if(o){var p=i('/ads/manage/powereditor/funding').addQueryData({host:n.POWER_EDITOR_APP_ID}).addQueryData({account:o});if(n.getBusinessID())p.addQueryData({business_id:n.getBusinessID()});k(p);}},addCredentialCallbackFromUnsettled:function(o,p){if(p.credential_state){var q=i('/ads/manage/unsettled.php').addQueryData({primary:1}).addQueryData({act:o}).addQueryData({redirect:p.redirect});if(n.getBusinessID())q.addQueryData({business_id:n.getBusinessID()});k(q);}},addCredentialCallbackFromPageNAX:function(o){if(o.credential_state){var p=i().addQueryData({success:true});if(n.getBusinessID())p.addQueryData({business_id:n.getBusinessID()});k(p);}},addCredential:function(o,p,q,r,s,t,u,v,w,x,y,z){if(!v)v=0;m('payment_initiated',q,o,w);if(!s)switch(o){case 'funding_page':if(u==n.POWER_EDITOR_APP_ID){s=function(){n.addCredentialCallbackFromFundingInPE(q);};}else s=function(ba){n.addCredentialCallbackFromFunding(q,ba);};break;case 'unsettled':case 'grace_period':s=function(ba){n.addCredentialCallbackFromUnsettled(q,ba);};break;case 'create_flow':l(false);break;case 'page_nax':s=n.addCredentialCallbackFromPageNAX;break;default:return;}var aa=function(ba){m(ba.credential_state?'payment_completed':'payment_cancelled',q,o,w);s(ba);};h.getPrompt(p,null,{},null,aa,'admanager',null,null,'ads',j({account_id:q,coupon_code:r,product_name:t,pending_ad_id:v,show_existing_coupon:y},z),{placement:o},null,null,null,null,null,null,null,null,null,null,w,x);},setBusinessID:function(o){n._business_id=o;},getBusinessID:function(){return n._business_id;},verifyCredential:function(o,p,q,r){var s={shortcut:o,credential_id:p,account_id:r};h.getPrompt(q,null,{},null,n.addCredentialCallbackFromFunding,'admanager',null,null,'ads',s,{placement:'funding_page'});},chargeCredential:function(o,p,q,r,s){var t={funding_id:r,payment_method:s,payment_method_type:s,shortcut_charge_flow:true};n.addCredential(o,p,q,null,null,null,null,null,null,null,null,t);}};e.exports=n;});
__d("AdsCommonTargetingProperties",[],function(a,b,c,d,e,f){var g={ageMax:null,ageMin:null,ageMinLimit:null,behaviors:null,cities:null,collegeMajors:null,collegeNetworks:null,countries:null,connections:null,conjunctiveUserAdclusters:null,customAudiences:null,educationMajors:null,educationSchools:null,educationStatuses:null,ethnicAffinity:null,excludedConnections:null,excludedCustomAudiences:null,excludedUserAdclusters:null,familyStatuses:null,friendsOfConnections:null,generation:null,homeOwnership:null,homeType:null,homeValue:null,householdComposition:null,income:null,industries:null,interestedInSex:null,interests:null,keywords:null,lifeEvents:null,locTargeting:null,locales:null,maxGradYear:null,minAndroidVersion:null,minGradYear:null,minIosVersion:null,mobileDevices:null,mobileOperatingSystem:null,moms:null,netWorth:null,officeType:null,pageTypes:null,politics:null,radiusIfValid:null,relationshipStatuses:null,regions:null,requireExactAgeMatch:null,sex:null,syndicatedCustomAudiencesLibrary:null,targetAllGraduationYears:null,userAdclusters:null,userOs:null,wifiOnly:null,workEmployers:null,workNetworks:null,workPositions:null,zips:null,geoLocations:null,excludedGeoLocations:null};e.exports=g;});
__d("XUITextInput.react",["AbstractTextInput.react","React","cx"],function(a,b,c,d,e,f,g,h,i){var j=h.createClass({displayName:'XUITextInput',render:function(){var k=(("_55r1")+(this.props.height=='tall'?' '+"_55r2":''));return this.transferPropsTo(g({ref:"textInput",className:k}));},focusInput:function(){this.refs.textInput.focusInput();}});e.exports=j;});
__d("AdsCurrencyInput.react",["AdsCurrencyFormatter","Keys","React","XUITextInput.react"],function(a,b,c,d,e,f,g,h,i,j){var k=i.PropTypes,l=g.formatCurrency,m=g.parseCurrency,n=i.createClass({displayName:'AdsCurrencyInput',propTypes:{currency:k.string.isRequired,nonnegative:k.bool,onDataUpdate:k.func.isRequired,value:k.number,withISO:k.bool,eventType:k.oneOf(['change','blur'])},getDefaultProps:function(){return {eventType:'blur'};},getInitialState:function(){return {dirtyValue:null};},render:function(){var o=this.state.dirtyValue;if(o===null){o=this.props.value;if(o!=null)o=l(this.props.currency,o,this.props.withISO);}return this.transferPropsTo(j({value:o,onChange:this._onChange,onBlur:this.updateValue,onKeyUp:this._onKeyUp}));},_onChange:function(event){this.setState({dirtyValue:event.target.value});if(this.props.eventType==='change')this.props.onDataUpdate(this._parseCurrency(event.target.value));},updateValue:function(event){if(this.props.eventType==='blur')this.props.onDataUpdate(this._parseCurrency(event.target.value));this.setState({dirtyValue:null});},_parseCurrency:function(o){var p=m(this.props.currency,o);if(this.props.nonnegative)p=Math.abs(p);return p;},_onKeyUp:function(event){if(event.keyCode===h.RETURN)this.updateValue(event);}});e.exports=n;});
__d("LocationConstants",["CurrentLocale"],function(a,b,c,d,e,f,g){var h,i={getSupportedRadii:function(){if(this.getLocalizedUnit()==='mile'){return [0,10,25,50];}else return [0,20,50,70];},getLocalizedUnit:function(){if(h){return h;}else if(g.get()=='en_US'){return 'mile';}else return 'kilometer';},getDefaultRadius:function(){if(this.getLocalizedUnit()==='mile'){return 25;}else return 20;},setLocalizedUnit:function(j){h=j;}};e.exports={COUNTRY:'country',COUNTRIES:'countries',REGION:'region',REGIONS:'regions',CITY:'city',CITIES:'cities',ZIP:'zip',ZIPS:'zips',RadiusInfo:i};});
/**
 * @providesModule underscore.ads
 * @preserve-header
 *
 * Underscore.js 1.5.2
 * ===================

 * > http://underscorejs.org
 * > Underscore may be freely distributed under the MIT license.
 * > (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative
 *   Reporters & Editors

 * Baseline setup
 * --------------
 */__d("underscore.ads",[],function(a,b,c,d,e,f){(function(){var g=this,h=g._,i={},j=Array.prototype,k=Object.prototype,l=Function.prototype,m=j.push,n=j.slice,o=j.concat,p=k.toString,q=k.hasOwnProperty,r=j.forEach,s=j.map,t=j.reduce,u=j.reduceRight,v=j.filter,w=j.every,x=j.some,y=j.indexOf,z=j.lastIndexOf,aa=Array.isArray,ba=Object.keys,ca=l.bind,da=function(ta){if(ta instanceof da)return ta;if(!(this instanceof da))return new da(ta);this._wrapped=ta;};if(typeof f!=='undefined'){if(typeof e!=='undefined'&&e.exports)f=e.exports=da;f._=da;}else g._=da;da.VERSION='1.5.2';var ea=da.each=da.forEach=function(ta,ua,va){if(ta==null)return;if(r&&ta.forEach===r){ta.forEach(ua,va);}else if(ta.length===+ta.length){for(var wa=0,xa=ta.length;wa<xa;wa++)if(ua.call(va,ta[wa],wa,ta)===i)return;}else{var ya=da.keys(ta);for(var wa=0,xa=ya.length;wa<xa;wa++)if(ua.call(va,ta[ya[wa]],ya[wa],ta)===i)return;}};da.map=da.collect=function(ta,ua,va){var wa=[];if(ta==null)return wa;if(s&&ta.map===s)return ta.map(ua,va);ea(ta,function(xa,ya,za){wa.push(ua.call(va,xa,ya,za));});return wa;};var fa='Reduce of empty array with no initial value';da.reduce=da.foldl=da.inject=function(ta,ua,va,wa){var xa=arguments.length>2;if(ta==null)ta=[];if(t&&ta.reduce===t){if(wa)ua=da.bind(ua,wa);return xa?ta.reduce(ua,va):ta.reduce(ua);}ea(ta,function(ya,za,ab){if(!xa){va=ya;xa=true;}else va=ua.call(wa,va,ya,za,ab);});if(!xa)throw new TypeError(fa);return va;};da.reduceRight=da.foldr=function(ta,ua,va,wa){var xa=arguments.length>2;if(ta==null)ta=[];if(u&&ta.reduceRight===u){if(wa)ua=da.bind(ua,wa);return xa?ta.reduceRight(ua,va):ta.reduceRight(ua);}var ya=ta.length;if(ya!==+ya){var za=da.keys(ta);ya=za.length;}ea(ta,function(ab,bb,cb){bb=za?za[--ya]:--ya;if(!xa){va=ta[bb];xa=true;}else va=ua.call(wa,va,ta[bb],bb,cb);});if(!xa)throw new TypeError(fa);return va;};da.find=da.detect=function(ta,ua,va){var wa;ga(ta,function(xa,ya,za){if(ua.call(va,xa,ya,za)){wa=xa;return true;}});return wa;};da.filter=da.select=function(ta,ua,va){var wa=[];if(ta==null)return wa;if(v&&ta.filter===v)return ta.filter(ua,va);ea(ta,function(xa,ya,za){if(ua.call(va,xa,ya,za))wa.push(xa);});return wa;};da.reject=function(ta,ua,va){return da.filter(ta,function(wa,xa,ya){return !ua.call(va,wa,xa,ya);},va);};da.every=da.all=function(ta,ua,va){ua||(ua=da.identity);var wa=true;if(ta==null)return wa;if(w&&ta.every===w)return ta.every(ua,va);ea(ta,function(xa,ya,za){if(!(wa=wa&&ua.call(va,xa,ya,za)))return i;});return !!wa;};var ga=da.some=da.any=function(ta,ua,va){ua||(ua=da.identity);var wa=false;if(ta==null)return wa;if(x&&ta.some===x)return ta.some(ua,va);ea(ta,function(xa,ya,za){if(wa||(wa=ua.call(va,xa,ya,za)))return i;});return !!wa;};da.contains=da.include=function(ta,ua){if(ta==null)return false;if(y&&ta.indexOf===y)return ta.indexOf(ua)!=-1;return ga(ta,function(va){return va===ua;});};da.invoke=function(ta,ua){var va=n.call(arguments,2),wa=da.isFunction(ua);return da.map(ta,function(xa){return (wa?ua:xa[ua]).apply(xa,va);});};da.pluck=function(ta,ua){return da.map(ta,function(va){return va[ua];});};da.where=function(ta,ua,va){if(da.isEmpty(ua))return va?void 0:[];return da[va?'find':'filter'](ta,function(wa){for(var xa in ua)if(ua[xa]!==wa[xa])return false;return true;});};da.findWhere=function(ta,ua){return da.where(ta,ua,true);};da.max=function(ta,ua,va){if(!ua&&da.isArray(ta)&&ta[0]===+ta[0]&&ta.length<65535)return Math.max.apply(Math,ta);if(!ua&&da.isEmpty(ta))return -Infinity;var wa={computed:-Infinity,value:-Infinity};ea(ta,function(xa,ya,za){var ab=ua?ua.call(va,xa,ya,za):xa;ab>wa.computed&&(wa={value:xa,computed:ab});});return wa.value;};da.min=function(ta,ua,va){if(!ua&&da.isArray(ta)&&ta[0]===+ta[0]&&ta.length<65535)return Math.min.apply(Math,ta);if(!ua&&da.isEmpty(ta))return Infinity;var wa={computed:Infinity,value:Infinity};ea(ta,function(xa,ya,za){var ab=ua?ua.call(va,xa,ya,za):xa;ab<wa.computed&&(wa={value:xa,computed:ab});});return wa.value;};da.shuffle=function(ta){var ua,va=0,wa=[];ea(ta,function(xa){ua=da.random(va++);wa[va-1]=wa[ua];wa[ua]=xa;});return wa;};da.sample=function(ta,ua,va){if(arguments.length<2||va)return ta[da.random(ta.length-1)];return da.shuffle(ta).slice(0,Math.max(0,ua));};var ha=function(ta){return da.isFunction(ta)?ta:function(ua){return ua[ta];};};da.sortBy=function(ta,ua,va){var wa=ha(ua);return da.pluck(da.map(ta,function(xa,ya,za){return {value:xa,index:ya,criteria:wa.call(va,xa,ya,za)};}).sort(function(xa,ya){var za=xa.criteria,ab=ya.criteria;if(za!==ab){if(za>ab||za===void 0)return 1;if(za<ab||ab===void 0)return -1;}return xa.index-ya.index;}),'value');};var ia=function(ta){return function(ua,va,wa){var xa={},ya=va==null?da.identity:ha(va);ea(ua,function(za,ab){var bb=ya.call(wa,za,ab,ua);ta(xa,bb,za);});return xa;};};da.groupBy=ia(function(ta,ua,va){(da.has(ta,ua)?ta[ua]:(ta[ua]=[])).push(va);});da.indexBy=ia(function(ta,ua,va){ta[ua]=va;});da.countBy=ia(function(ta,ua){da.has(ta,ua)?ta[ua]++:ta[ua]=1;});da.sortedIndex=function(ta,ua,va,wa){va=va==null?da.identity:ha(va);var xa=va.call(wa,ua),ya=0,za=ta.length;while(ya<za){var ab=(ya+za)>>>1;va.call(wa,ta[ab])<xa?ya=ab+1:za=ab;}return ya;};da.toArray=function(ta){if(!ta)return [];if(da.isArray(ta))return n.call(ta);if(ta.length===+ta.length)return da.map(ta,da.identity);return da.values(ta);};da.size=function(ta){if(ta==null)return 0;return (ta.length===+ta.length)?ta.length:da.keys(ta).length;};da.first=da.head=da.take=function(ta,ua,va){if(ta==null)return void 0;return (ua==null)||va?ta[0]:n.call(ta,0,ua);};da.initial=function(ta,ua,va){return n.call(ta,0,ta.length-((ua==null)||va?1:ua));};da.last=function(ta,ua,va){if(ta==null)return void 0;if((ua==null)||va){return ta[ta.length-1];}else return n.call(ta,Math.max(ta.length-ua,0));};da.rest=da.tail=da.drop=function(ta,ua,va){return n.call(ta,(ua==null)||va?1:ua);};da.compact=function(ta){return da.filter(ta,da.identity);};var ja=function(ta,ua,va){if(ua&&da.every(ta,da.isArray))return o.apply(va,ta);ea(ta,function(wa){if(da.isArray(wa)||da.isArguments(wa)){ua?m.apply(va,wa):ja(wa,ua,va);}else va.push(wa);});return va;};da.flatten=function(ta,ua){return ja(ta,ua,[]);};da.without=function(ta){return da.difference(ta,n.call(arguments,1));};da.uniq=da.unique=function(ta,ua,va,wa){if(da.isFunction(ua)){wa=va;va=ua;ua=false;}var xa=va?da.map(ta,va,wa):ta,ya=[],za=[];ea(xa,function(ab,bb){if(ua?(!bb||za[za.length-1]!==ab):!da.contains(za,ab)){za.push(ab);ya.push(ta[bb]);}});return ya;};da.union=function(){return da.uniq(da.flatten(arguments,true));};da.intersection=function(ta){var ua=n.call(arguments,1);return da.filter(da.uniq(ta),function(va){return da.every(ua,function(wa){return da.indexOf(wa,va)>=0;});});};da.difference=function(ta){var ua=o.apply(j,n.call(arguments,1));return da.filter(ta,function(va){return !da.contains(ua,va);});};da.zip=function(){var ta=da.max(da.pluck(arguments,"length").concat(0)),ua=new Array(ta);for(var va=0;va<ta;va++)ua[va]=da.pluck(arguments,''+va);return ua;};da.object=function(ta,ua){if(ta==null)return {};var va={};for(var wa=0,xa=ta.length;wa<xa;wa++)if(ua){va[ta[wa]]=ua[wa];}else va[ta[wa][0]]=ta[wa][1];return va;};da.indexOf=function(ta,ua,va){if(ta==null)return -1;var wa=0,xa=ta.length;if(va)if(typeof va=='number'){wa=(va<0?Math.max(0,xa+va):va);}else{wa=da.sortedIndex(ta,ua);return ta[wa]===ua?wa:-1;}if(y&&ta.indexOf===y)return ta.indexOf(ua,va);for(;wa<xa;wa++)if(ta[wa]===ua)return wa;return -1;};da.lastIndexOf=function(ta,ua,va){if(ta==null)return -1;var wa=va!=null;if(z&&ta.lastIndexOf===z)return wa?ta.lastIndexOf(ua,va):ta.lastIndexOf(ua);var xa=(wa?va:ta.length);while(xa--)if(ta[xa]===ua)return xa;return -1;};da.range=function(ta,ua,va){if(arguments.length<=1){ua=ta||0;ta=0;}va=arguments[2]||1;var wa=Math.max(Math.ceil((ua-ta)/va),0),xa=0,ya=new Array(wa);while(xa<wa){ya[xa++]=ta;ta+=va;}return ya;};var ka=function(){};da.bind=function(ta,ua){var va,wa;if(ca&&ta.bind===ca)return ca.apply(ta,n.call(arguments,1));if(!da.isFunction(ta))throw new TypeError();va=n.call(arguments,2);return wa=function(){if(!(this instanceof wa))return ta.apply(ua,va.concat(n.call(arguments)));ka.prototype=ta.prototype;var xa=new ka();ka.prototype=null;var ya=ta.apply(xa,va.concat(n.call(arguments)));if(Object(ya)===ya)return ya;return xa;};};da.partial=function(ta){var ua=n.call(arguments,1);return function(){return ta.apply(this,ua.concat(n.call(arguments)));};};da.bindAll=function(ta){var ua=n.call(arguments,1);if(ua.length===0)throw new Error("bindAll must be passed function names");ea(ua,function(va){ta[va]=da.bind(ta[va],ta);});return ta;};da.memoize=function(ta,ua){var va={};ua||(ua=da.identity);return function(){var wa=ua.apply(this,arguments);return da.has(va,wa)?va[wa]:(va[wa]=ta.apply(this,arguments));};};da.delay=function(ta,ua){var va=n.call(arguments,2);return setTimeout(function(){return ta.apply(null,va);},ua);};da.defer=function(ta){return da.delay.apply(da,[ta,1].concat(n.call(arguments,1)));};da.throttle=function(ta,ua,va){var wa,xa,ya,za=null,ab=0;va||(va={});var bb=function(){ab=va.leading===false?0:new Date();za=null;ya=ta.apply(wa,xa);};return function(){var cb=new Date();if(!ab&&va.leading===false)ab=cb;var db=ua-(cb-ab);wa=this;xa=arguments;if(db<=0){clearTimeout(za);za=null;ab=cb;ya=ta.apply(wa,xa);}else if(!za&&va.trailing!==false)za=setTimeout(bb,db);return ya;};};da.debounce=function(ta,ua,va){var wa,xa,ya,za,ab;return function(){ya=this;xa=arguments;za=new Date();var bb=function(){var db=(new Date())-za;if(db<ua){wa=setTimeout(bb,ua-db);}else{wa=null;if(!va)ab=ta.apply(ya,xa);}},cb=va&&!wa;if(!wa)wa=setTimeout(bb,ua);if(cb)ab=ta.apply(ya,xa);return ab;};};da.once=function(ta){var ua=false,va;return function(){if(ua)return va;ua=true;va=ta.apply(this,arguments);ta=null;return va;};};da.wrap=function(ta,ua){return function(){var va=[ta];m.apply(va,arguments);return ua.apply(this,va);};};da.compose=function(){var ta=arguments;return function(){var ua=arguments;for(var va=ta.length-1;va>=0;va--)ua=[ta[va].apply(this,ua)];return ua[0];};};da.after=function(ta,ua){return function(){if(--ta<1)return ua.apply(this,arguments);};};da.keys=ba||function(ta){if(ta!==Object(ta))throw new TypeError('Invalid object');var ua=[];for(var va in ta)if(da.has(ta,va))ua.push(va);return ua;};da.values=function(ta){var ua=da.keys(ta),va=ua.length,wa=new Array(va);for(var xa=0;xa<va;xa++)wa[xa]=ta[ua[xa]];return wa;};da.pairs=function(ta){var ua=da.keys(ta),va=ua.length,wa=new Array(va);for(var xa=0;xa<va;xa++)wa[xa]=[ua[xa],ta[ua[xa]]];return wa;};da.invert=function(ta){var ua={},va=da.keys(ta);for(var wa=0,xa=va.length;wa<xa;wa++)ua[ta[va[wa]]]=va[wa];return ua;};da.functions=da.methods=function(ta){var ua=[];for(var va in ta)if(da.isFunction(ta[va]))ua.push(va);return ua.sort();};da.extend=function(ta){ea(n.call(arguments,1),function(ua){if(ua)for(var va in ua)ta[va]=ua[va];});return ta;};da.pick=function(ta){var ua={},va=o.apply(j,n.call(arguments,1));ea(va,function(wa){if(wa in ta)ua[wa]=ta[wa];});return ua;};da.omit=function(ta){var ua={},va=o.apply(j,n.call(arguments,1));for(var wa in ta)if(!da.contains(va,wa))ua[wa]=ta[wa];return ua;};da.defaults=function(ta){ea(n.call(arguments,1),function(ua){if(ua)for(var va in ua)if(ta[va]===void 0)ta[va]=ua[va];});return ta;};da.clone=function(ta){if(!da.isObject(ta))return ta;return da.isArray(ta)?ta.slice():da.extend({},ta);};da.tap=function(ta,ua){ua(ta);return ta;};var la=function(ta,ua,va,wa){if(ta===ua)return ta!==0||1/ta==1/ua;if(ta==null||ua==null)return ta===ua;if(ta instanceof da)ta=ta._wrapped;if(ua instanceof da)ua=ua._wrapped;var xa=p.call(ta);if(xa!=p.call(ua))return false;switch(xa){case '[object String]':return ta==String(ua);case '[object Number]':return ta!=+ta?ua!=+ua:(ta==0?1/ta==1/ua:ta==+ua);case '[object Date]':case '[object Boolean]':return +ta==+ua;case '[object RegExp]':return ta.source==ua.source&&ta.global==ua.global&&ta.multiline==ua.multiline&&ta.ignoreCase==ua.ignoreCase;}if(typeof ta!='object'||typeof ua!='object')return false;var ya=va.length;while(ya--)if(va[ya]==ta)return wa[ya]==ua;var za=ta.constructor,ab=ua.constructor;if(za!==ab&&!(da.isFunction(za)&&(za instanceof za)&&da.isFunction(ab)&&(ab instanceof ab)))return false;va.push(ta);wa.push(ua);var bb=0,cb=true;if(xa=='[object Array]'){bb=ta.length;cb=bb==ua.length;if(cb)while(bb--)if(!(cb=la(ta[bb],ua[bb],va,wa)))break;}else{for(var db in ta)if(da.has(ta,db)){bb++;if(!(cb=da.has(ua,db)&&la(ta[db],ua[db],va,wa)))break;}if(cb){for(db in ua)if(da.has(ua,db)&&!(bb--))break;cb=!bb;}}va.pop();wa.pop();return cb;};da.isEqual=function(ta,ua){return la(ta,ua,[],[]);};da.isEmpty=function(ta){if(ta==null)return true;if(da.isArray(ta)||da.isString(ta))return ta.length===0;for(var ua in ta)if(da.has(ta,ua))return false;return true;};da.isElement=function(ta){return !!(ta&&ta.nodeType===1);};da.isArray=aa||function(ta){return p.call(ta)=='[object Array]';};da.isObject=function(ta){return ta===Object(ta);};ea(['Arguments','Function','String','Number','Date','RegExp'],function(ta){da['is'+ta]=function(ua){return p.call(ua)=='[object '+ta+']';};});if(!da.isArguments(arguments))da.isArguments=function(ta){return !!(ta&&da.has(ta,'callee'));};if(typeof(/./)!=='function')da.isFunction=function(ta){return typeof ta==='function';};da.isFinite=function(ta){return isFinite(ta)&&!isNaN(parseFloat(ta));};da.isNaN=function(ta){return da.isNumber(ta)&&ta!=+ta;};da.isBoolean=function(ta){return ta===true||ta===false||p.call(ta)=='[object Boolean]';};da.isNull=function(ta){return ta===null;};da.isUndefined=function(ta){return ta===void 0;};da.has=function(ta,ua){return q.call(ta,ua);};da.noConflict=function(){g._=h;return this;};da.identity=function(ta){return ta;};da.times=function(ta,ua,va){var wa=Array(Math.max(0,ta));for(var xa=0;xa<ta;xa++)wa[xa]=ua.call(va,xa);return wa;};da.random=function(ta,ua){if(ua==null){ua=ta;ta=0;}return ta+Math.floor(Math.random()*(ua-ta+1));};var ma={escape:{'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#x27;'}};ma.unescape=da.invert(ma.escape);var na={escape:new RegExp('['+da.keys(ma.escape).join('')+']','g'),unescape:new RegExp('('+da.keys(ma.unescape).join('|')+')','g')};da.each(['escape','unescape'],function(ta){da[ta]=function(ua){if(ua==null)return '';return (''+ua).replace(na[ta],function(va){return ma[ta][va];});};});da.result=function(ta,ua){if(ta==null)return void 0;var va=ta[ua];return da.isFunction(va)?va.call(ta):va;};da.mixin=function(ta){ea(da.functions(ta),function(ua){var va=da[ua]=ta[ua];da.prototype[ua]=function(){var wa=[this._wrapped];m.apply(wa,arguments);return sa.call(this,va.apply(da,wa));};});};var oa=0;da.uniqueId=function(ta){var ua=++oa+'';return ta?ta+ua:ua;};da.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var pa=/(.)^/,qa={"'":"'",'\\':'\\','\r':'r','\n':'n','\t':'t','\u2028':'u2028','\u2029':'u2029'},ra=/\\|'|\r|\n|\t|\u2028|\u2029/g;da.template=function(ta,ua,va){var wa;va=da.defaults({},va,da.templateSettings);var xa=new RegExp([(va.escape||pa).source,(va.interpolate||pa).source,(va.evaluate||pa).source].join('|')+'|$','g'),ya=0,za="__p+='";ta.replace(xa,function(cb,db,eb,fb,gb){za+=ta.slice(ya,gb).replace(ra,function(hb){return '\\'+qa[hb];});if(db)za+="'+\n((__t=("+db+"))==null?'':_.escape(__t))+\n'";if(eb)za+="'+\n((__t=("+eb+"))==null?'':__t)+\n'";if(fb)za+="';\n"+fb+"\n__p+='";ya=gb+cb.length;return cb;});za+="';\n";if(!va.variable)za='with(obj||{}){\n'+za+'}\n';za="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+za+"return __p;\n";try{wa=new Function(va.variable||'obj','_',za);}catch(ab){ab.source=za;throw ab;}if(ua)return wa(ua,da);var bb=function(cb){return wa.call(this,cb,da);};bb.source='function('+(va.variable||'obj')+'){\n'+za+'}';return bb;};da.chain=function(ta){return da(ta).chain();};var sa=function(ta){return this._chain?da(ta).chain():ta;};da.mixin(da);ea(['pop','push','reverse','shift','sort','splice','unshift'],function(ta){var ua=j[ta];da.prototype[ta]=function(){var va=this._wrapped;ua.apply(va,arguments);if((ta=='shift'||ta=='splice')&&va.length===0)delete va[0];return sa.call(this,va);};});ea(['concat','join','slice'],function(ta){var ua=j[ta];da.prototype[ta]=function(){return sa.call(this,ua.apply(this._wrapped,arguments));};});da.extend(da.prototype,{chain:function(){this._chain=true;return this;},value:function(){return this._wrapped;}});}).call(this);});
__d("AdsUtils",["Assert","underscore.ads"],function(a,b,c,d,e,f,g,h){function i(ba){return ba===Object(ba);}function j(ba,ca){if(Array.isArray(ba)||typeof ba==='string')return ba.indexOf(ca)!==-1;return ca in ba;}function k(ba){if(Array.isArray(ba)||typeof ba==='string')return ba.length;var ca=0;for(var da in ba)if(Object.prototype.hasOwnProperty.call(ba,da))ca++;return ca;}function l(ba,ca){var da=[],ea=0;while(ba.length>ea){da.push(ba.slice(ea,ea+ca));ea+=ca;}return da;}function m(ba,ca){if(ba.length!=ca.length){return false;}else{for(var da=0;da<ba.length;da++){var ea=false;for(var fa=0;fa<ca.length;fa++){var ga=true;for(var ha in ba[da])if(ba[da][ha]!=ca[fa][ha]){ga=false;break;}if(ga)ea=true;}if(!ea)return false;}return true;}}function n(ba,ca,da){var ea={};for(var fa=0;fa<ba.length;++fa)ea[ba[fa][ca]]=(da===undefined?ba[fa]:ba[fa][da]);return ea;}function o(ba,ca){var da={};for(var ea=0;ea<ba.length;++ea){if(da[ba[ea][ca]]===undefined)da[ba[ea][ca]]=[];da[ba[ea][ca]].push(ba[ea]);}return da;}function p(ba){var ca={};for(var da in ba)ca[ba[da]]=da;return ca;}function q(ba,ca){var da={};for(var ea in ba)if(ba.hasOwnProperty(ea))da[ea]=ba[ea]?ba[ea][ca]:undefined;return da;}function r(ba){var ca=ba;if(ba instanceof Array){ca=ba.map(r);}else if(ba instanceof Object){ca={};for(var da in ba)if(ba.hasOwnProperty(da))ca[da]=r(ba[da]);}return ca;}function s(ba){return ba.replace(/[A-Z]/g,function(ca){return '_'+ca.toLowerCase();});}function t(ba){return ba.replace(/_[a-z]/g,function(ca){return ca.charAt(1).toUpperCase();});}function u(ba,ca){g.define('scalar',function(fa){return typeof fa==='number'||typeof fa==='boolean';});g.isScalar(ca);var da={};for(var ea=0;ea<ba.length;++ea)da[ba[ea]]=ca;return da;}function v(ba,ca,da){var ea={},fa=h.union(Object.keys(ba),Object.keys(ca));for(var ga=0;ga<fa.length;ga++){var ha=fa[ga],ia=da(ba.hasOwnProperty(ha),ca.hasOwnProperty(ha));if(ia<0){ea[ha]=ba[ha];}else if(ia>0)ea[ha]=ca[ha];}return ea;}function w(ba,ca){return v(ba,ca,function(da,ea){return da&&ea?-1:0;});}function x(ba,ca){return v(ba,ca,function(da,ea){return da?-1:1;});}function y(ba,ca){if(!ba&&!ca)return true;if(!ba||!ca)return false;if(!(ba instanceof Array&&ca instanceof Array))return false;if(ba.length!=ca.length)return false;return true;}var z=function(ba,ca,da,ea){ea=ea||(function(ha,ia){return ha==ia;});if(ba.length===0)return da;var fa=ca(ba[0]),ga=!ba.some(function(ha){return !ea(ca(ha),fa);});if(ga){return fa;}else return da;};function aa(ba,ca){if(Array.isArray(ba)&&Array.isArray(ca)){if(ba.length!==ca.length)return false;for(var da=0;da<ba.length;++da)if(!aa(ba[da],ca[da]))return false;return true;}else if(i(ba)&&i(ca)){for(var ea in ba){if(!ba.hasOwnProperty(ea))continue;if(!ca.hasOwnProperty(ea))return false;if(!aa(ba[ea],ca[ea]))return false;}return true;}return ba==ca;}e.exports={isObject:i,contains:j,count:k,chunkArray:l,arraysOfMapEquals:m,indexedMap:n,invertedMap:o,flip:p,pluckPreserveKey:q,clone:r,underscoreKey:s,camelCaseKey:t,mapIntersectKey:w,mapUnionKey:x,mapFill:u,arrayEqualWithoutOrder:y,getSharedValue:z,isEqualWeak:aa};});
__d("AdCreativeType",["AdsUtils","bolt/util","tx"],function(a,b,c,d,e,f,g,h,i){var j={FACEBOOK_ADS:'facebook_ads',SPONSORED_STORIES:'sponsored_stories'},k={1:'Standard',2:'Fan',3:'RSVP',4:'Platform Context',5:'Social Poll',6:'Comment',7:'Sample',8:'App Share Story',9:'Legacy Page Like Story',10:'Check-In Story',12:'Premium Standard',13:'Premium Fan',14:'Premium Event',15:'Premium Platform',16:'App Used Story',17:'Legacy Page Post Like Story',18:'Buy with Friends Story',19:'Domain Story',20:'Questions Vote Story',21:'Questions',24:'Page Endorsement',25:'Action Spec',27:'Page Post Ad',32:'Mobile App Install Ad',33:'Static Image',34:'Multi-Video Ad',35:'Instagram Ad',999:'Invalid',1001:'Offer Claimed Story',1002:'Game Played Story',1003:'Specific Page Post Like Story',1004:'Specific Page Post Comment Story',1005:'Specific Page Post Share Story',1006:'Event RSVP Story',1007:'Page Checkin Story',1008:'Wall Post Story',1009:'Page Like Story',1010:'Share From App Story',1011:'Page Post Like Story',1012:'Page Subscribe Story',1013:'Domain Share Story',1014:'Question Vote Story',1999:'Other'},l={STANDARD:1,INLINE_FAN:2,INLINE_RSVP:3,PLATFORM_CONTEXT:4,SOCIAL_POLL:5,COMMENT:6,SAMPLE:7,BASS_PLATFORM_STORY:8,BASS_PAGE_CONNECTIONS:9,BASS_PAGE_CHECKINS:10,PREMIUM_STANDARD:12,PREMIUM_FAN:13,PREMIUM_EVENT:14,PREMIUM_PLATFORM:15,BASS_APP_CONNECTIONS:16,BASS_ENGAGEMENT:17,BASS_LINK_SHARE:19,BASS_QUESTIONS_VOTE:20,QUESTIONS:21,PAGE_ENDORSEMENT:24,QUERY_BASED:25,PAGE_POSTS_V2:27,CONTEXTUAL_APP_AD:32,STATIC_IMAGE:33,MULTI_VIDEO:34,INSTAGRAM_AD:35,FEED_URL:101,EXOTIC_OR_INVALID:999,OFFER_CLAIMED_STORY:1001,GAME_PLAYED_STORY:1002,SPECIFIC_POST_LIKE_STORY:1003,SPECIFIC_POST_COMMENT_STORY:1004,SPECIFIC_POST_SHARE_STORY:1005,EVENT_RSVP_STORY:1006,PAGE_CHECKIN_STORY:1007,WALL_POST_STORY:1008,PAGE_LIKE_STORY:1009,APP_USER_ACTION_STORY:1010,PAGE_POST_LIKE_STORY:1011,PAGE_SUBSCRIBE_STORY:1012,DOMAIN_SHARE_STORY:1013,QUESTION_VOTE_STORY:1014,OTHER:1999};f.__TEST__={};f.__TEST__.AD_CREATIVE_TYPE_TS=k;var m={8:1010,9:1009,10:1007,17:1011,19:1013,20:1014},n=[l.PAGE_POSTS_V2,l.SPECIFIC_POST_LIKE_STORY,l.SPECIFIC_POST_COMMENT_STORY,l.SPECIFIC_POST_SHARE_STORY],o=[8,9,10,16,17,19,20,25,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1999];function p(ha){return k[ha]||k[1];}var q=/[^a-z]/g;function r(ha){ha=ha.toLowerCase().replace(q,'');var ia=1;for(var ja in k){var ka=k[ja];ka=ka.toLowerCase().replace(q,'');if(ka==ha){ia=ja;break;}}return ia;}function s(ha){return o.indexOf(1*ha)!=-1;}function t(ha){return s(ha)?j.SPONSORED_STORIES:j.FACEBOOK_ADS;}function u(ha){return m[ha];}function v(ha){return !!m[ha];}function w(ha){return ha>l.EXOTIC_OR_INVALID;}function x(ha){var ia=t(ha);return ia===j.SPONSORED_STORIES;}f.is_bass_type=s;f.getCategoryByCreativeType=t;f.id2string=p;f.string2id=r;f.AD_CREATIVE_TYPE=l;f.AD_CREATIVE_CATEGORY=j;f.AD_CREATIVE_BASS_TYPE_ARR=o;f.CREATIVES_WITH_STORY_ID=n;f.getActionSpecTypeAdForLegacyBass=u;f.isLegacyBassType=v;f.isQueryBasedSponsoredStory=w;f.isSponsoredStory=x;var y=f.keyToType={STORY_APP_SHARE:{id:8,name:"Stories about their friends sharing {app_name}",validFields:['objectId','urlTags']},STORY_APP_USED:{id:16,name:"Stories about their friends using {app_name}",validFields:['objectId','urlTags']},STORY_PAGE_LIKE:{id:9,name:"Stories about their friends liking {page_name}"},STORY_PAGE_POST:{id:11,name:"When people post on my Page"},STORY_CHECKIN:{id:10,name:"Stories about their friends checking in {place_name}"},STORY_DOMAIN_SHARE:{id:19,name:"Stories about their friends sharing {domain_name}",validFields:['objectId','urlTags']},STORY_QUERY_BASED:{id:25,name:"Query Based Story",requiredFields:['actionSpec'],validFields:['objectId','actionSpec','urlTags']},AD_EXTERNAL_URL:{id:1,name:"A new ad about {url}",validFields:['title','body','linkUrl','imageUrl','imageHash','relatedFanPage','showRelatedFanPage','trackingPixel'],invalidFieldsForAPI:['showRelatedFanPage','trackingPixel'],requiredFields:['title','body','linkUrl',['imageUrl','imageHash']]},FEED_URL:{id:101,validFields:['actor','title','body','linkUrl','linkDescription','imageUrl','imageHash','storyId','trackingPixel'],invalidFieldsForAPI:['actor','linkDescription','trackingPixel'],requiredFields:['actor','title','body','linkUrl',['imageUrl','imageHash']]},AD_FAN_LIKE:{id:2,name:"A new ad about {page_name}",validFields:['objectId','title','body','linkUrl','imageUrl','imageHash'],requiredFields:['objectId','body']},AD_EVENT_RSVP:{id:3,name:"A new ad about {event_name}",validFields:['objectId','title','body','imageUrl','imageHash'],requiredFields:['objectId','body',['imageUrl','imageHash']]},AD_APPLICATION:{id:4,name:"A new ad about {app_name}",validFields:['objectId','title','body','imageUrl','imageHash','linkUrl','urlTags'],requiredFields:['objectId','body',['imageUrl','imageHash']]},AD_PAGE_POST:{id:27,name:"Just my post",validFields:['objectId','autoUpdate','storyId','urlTags'],requiredFields:['objectId',['autoUpdate','storyId']]},MOBILE_APP_INSTALL:{id:32,name:"Create a mobile ad about {app_name}",validFields:['objectId','title','body','iconImageHash','iconImageUrl','imageHash','imageUrl','mobileStore','mobileStoreContentId','videoId'],requiredFields:['objectId',['imageUrl','imageHash']]},MOBILE_APP_ENGAGEMENT:{id:32,name:"Create a mobile ad about {app_name}",validFields:['objectId','title','body','iconImageHash','iconImageUrl','imageHash','imageUrl','mobileStore','mobileApplinkSpec','applinkUrl','mobileProductName','callToActionType'],invalidFieldsForAPI:['applinkUrl'],requiredFields:['objectId',['imageUrl','imageHash']]},CANVAS_APP_INSTALL_ENGAGEMENT:{id:32,name:"Create a desktop ad about {app_name}",validFields:['objectId','title','body','iconImageHash','iconImageUrl','imageHash','imageUrl','mobileStore','urlTags','linkUrl'],requiredFields:['objectId',['imageUrl','imageHash']]}},z=h.values(y);f.idToType=g.indexedMap(z,'id');var aa=g.pluckPreserveKey(y,'id'),ba={};for(var ca=0;ca<z.length;++ca){var da=z[ca].validFields;if(da){var ea=z[ca].invalidFieldsForAPI||[];for(var fa=0;fa<da.length;++fa)if(ea.indexOf(da[fa])===-1)ba[da[fa]]=true;}}var ga=Object.keys(ba);ga.push('id','type','imageCrops');ga.sort();f.ALL_CREATIVE_API_FIELDS=ga;f.isValidApiProperty=function(ha){return !!ba[ha];};f.fieldIsValid=function(ha,ia){var ja=f.idToType[ia];if(!ja)return false;if(!ja.validFields)return ['objectId','storyId'].indexOf(ha)>=0;return ja.validFields.indexOf(ha)>=0;};f.requiredFieldsForType=function(ha){var ia=f.idToType[ha];return ia?(ia.requiredFields||[]):[];};f.group={SS:[aa.STORY_PAGE_LIKE,aa.STORY_PAGE_POST,aa.STORY_QUERY_BASED,aa.STORY_CHECKIN,aa.STORY_DOMAIN_SHARE,aa.STORY_APP_SHARE,aa.STORY_APP_USED]};});
__d("AdImageSpecs",["AdCreativeType","AdsCreationConfig","AdsCFConstants"],function(a,b,c,d,e,f,g,h,i){var j=g.AD_CREATIVE_TYPE,k=i.PlacementID;e.exports={PAGE_LIKE_FEED:{placement:k.NEWS_FEED,width:600,height:225,minLargeWidth:400,minLargeHeight:150,minWarningWidth:100,minWarningHeight:72,aspectRatio:8/3,aspectRatioSmall:1.39,cropKey:'400x150',supportedTypes:[j.INLINE_FAN]},EVENT_FEED:{placement:k.NEWS_FEED,width:600,height:225,minLargeWidth:400,minLargeHeight:150,minWarningWidth:100,minWarningHeight:72,aspectRatio:8/3,cropKey:'400x150',supportedTypes:[]},LINK_PP_FEED:{placement:k.NEWS_FEED,width:600,height:315,minLargeWidth:400,minLargeHeight:209,minWarningWidth:90,minWarningHeight:90,aspectRatio:1.91,aspectRatioSmall:1,cropKey:'191x100',supportedTypes:[j.STANDARD,j.FEED_URL]},APP_INSTALL_MOBILE_FEED:{placement:k.MOBILE_NEWS_FEED,width:h.contextualAppAdImageWidth,height:h.contextualAppAdImageHeight,dimensionTolerance:h.contextualAppAdImageDimensionTolerance,minWarningWidth:h.contextualAppAdImageWidth,minWarningHeight:h.contextualAppAdImageHeight,aspectRatio:h.contextualAppAdImageWidth/h.contextualAppAdImageHeight,previewRatio:.25,supportedTypes:[j.CONTEXTUAL_APP_AD]},APP_INSTALL_FEED:{placement:k.NEWS_FEED,width:h.contextualAppAdImageWidth,height:h.contextualAppAdImageHeight,dimensionTolerance:h.contextualAppAdImageDimensionTolerance,minWarningWidth:h.contextualAppAdImageWidth,minWarningHeight:h.contextualAppAdImageHeight,aspectRatio:h.contextualAppAdImageWidth/h.contextualAppAdImageHeight,previewRatio:.25,supportedTypes:[j.CONTEXTUAL_APP_AD]},APP_INSTALL_RHC:{placement:k.RHC,width:h.contextualAppAdImageWidth,height:h.contextualAppAdImageHeight,dimensionTolerance:h.contextualAppAdImageDimensionTolerance,minWarningWidth:h.contextualAppAdImageWidth,minWarningHeight:h.contextualAppAdImageHeight,aspectRatio:h.contextualAppAdImageWidth/h.contextualAppAdImageHeight,previewRatio:.25,supportedTypes:[j.CONTEXTUAL_APP_AD]},RHC:{placement:k.RHC,width:100,height:72,minWarningWidth:100,minWarningHeight:72,aspectRatio:1.39,cropKey:'100x72',supportedTypes:[j.STANDARD,j.INLINE_FAN,j.INLINE_RSVP,j.PLATFORM_CONTEXT,j.QUERY_BASED,j.FEED_URL]},APP_INSTALL_ICON:{placement:'icon',width:h.contextualAppAdIconMinSize,height:h.contextualAppAdIconMinSize,minWarningWidth:h.contextualAppAdIconMinSize,minWarningHeight:h.contextualAppAdIconMinSize,previewRatio:60/h.contextualAppAdIconMinSize,supportedTypes:[j.CONTEXTUAL_APP_AD]},PAGE_PROFILE:{width:180,height:180,minWarningWidth:180,minWarningHeight:180,previewRatio:.5}};});
__d("AdsAPISpec",["AdsCFApiSpecFields","fbt"],function(a,b,c,d,e,f,g,h){var i={BCT_FIELDS:{NAME:'name',PARENT_CATEGORY:'parent_category'},BID_INFO_FIELDS:{ACTIONS:55,REACH:44,CLICKS:1,IMPRESSIONS:38},EDUCATION_STATUSES:{ALL:0,HIGH_SCHOOL:1,IN_COLLEGE:2,COLLEGE_GRAD:3},RELATIONSHIP_STATUSES:{ALL:0,SINGLE:1,IN_A_RELATIONSHIP:2,MARRIED:3,ENGAGED:4,UNSPECIFIED:6},LINK_TYPES:{EXTERNAL:1,INTERNAL:2},GENDERS:{ALL:0,MEN:1,WOMEN:2},CREATIVE_FIELDS_MAP:{actor:"To show your ad in News Feed, you need to connect it to a Page. If you don't want your ad to show in News Feed, turn off the News Feed ad format in the creative section.",name:"Please give a name to your ad.",objectId:"Please choose a destination.",linkUrl:"Missing link URL.",type:"What do you want people to see?",title:"Please give your ad a headline.",body:"Please write something about your ad in the text field.",iconImageHash:null,iconImageUrl:null,imageHash:"Please choose an image for your ad.",imageUrl:"Please choose an image for your ad.",urlTags:null,storyId:"Please choose a Page post for your ad.",relatedFanPage:null,autoUpdate:"Please choose a Page post for your ad.",actionSpec:"Missing action spec",availableSponsoredStories:"Missing action spec",linkType:null,viewTags:null,urlOverride:null,coverPhotoId:null,mobileStore:null,mobileStoreContentId:null,applinkSpec:null,mobileProductName:null,callToActionType:null},CREATIVE_FIELDS_OVERRIDE_MAP:{imageList:"Please choose an image for your ad."},CAMPAIGN_FIELDS:['id','accountId','name','startTime','endTime','lifetimeBudget','dailyBudget','campaignStatus'],CAMPAIGN_GROUP_FIELDS:['name','campaign_group_status','objective'],ACCOUNT_FOR_BRAND_FIELDS:['id','accountId','account_status','name','business','currency','timezoneName','endAdvertiser','fundingSource','dailySpendLimit','businessCountryCode'],BRAND_FIELDS:['id','name','verticalId','timezoneId','picture.type(square)','primary_page.fields(name, picture, link)','created_time','created_by.fields(name, link)','updated_time','updated_by.fields(name, link)','extended_updated_time'],BRAND_PAGE_FIELDS:['id','name','category','link','picture','access_status','business','likes','access_type','permitted_roles'],BRAND_LABEL_FIELDS:['id','name','business','creator','created_time'],USER_PAGE_FIELDS:g.USER_PAGE_FIELDS,BRAND_ROLE_FIELDS:['id','name','type','actions'],BRAND_USER_FIELDS:['id','name','link','picture'],BRAND_ACCOUNT_FIELDS:['id','accountId','currency','timezoneId','business','access_status','name','permitted_roles'],BRAND_APP_FIELDS:['id','name','link','icon_url','logo_url','monthly_active_users','daily_active_users_rank','monthly_active_users_rank','access_status','access_type','permitted_roles','picture'],USER_APP_FIELDS:['id','name','link','icon_url','logo_url','monthly_active_users','daily_active_users_rank','monthly_active_users_rank','picture'],CC_FUNDING_SOURCE_FIELDS:['id','first_name','last_name','credit_card_suffix','address','expiration_month','expiration_year','credit_card_type'],EC_FUNDING_SOURCE_FIELDS:['id','currency','balance','max_balance'],PAGE_POST_FIELDS:['message','picture','full_picture','link','name','description','type','call_to_action','is_published'],REPORT_SPEC_FIELDS:['id','accountId','actionsGroupBy','dataColumns','exportColumns','datePreset','filters','timeIncrement','name','sortBy','sortDir','isPresetReport'],PRICING_FIELDS:['bidType','campaignId','bidInfo','maxBid','impressionControlMap','noShowPercentage','noShowOffset','priority'],TARGETING_FIELDS:['genders','ageMax','ageMin','regions','countries','cities','zips','radius','keywords','interests','connections','excludedConnections','friendsOfConnections','relationshipStatuses','interestedIn','collegeNetworks','collegeMajors','collegeYears','educationStatuses','locales','workNetworks','userAdclusters','conjunctiveUserAdclusters','behaviors','userOs','userDevice','wirelessCarrier','workPositions','familyStatuses','industries','lifeEvents','politics','educationMajors','educationSchools','workEmployers','income','netWorth','homeType','homeOwnership','homeValue','ethnicAffinity','generation','householdComposition','moms','officeType','customAudiences','excludedCustomAudiences','excludedUserAdclusters','pageTypes','geoLocations','excludedGeoLocations'],GEO_LOCATIONS_FIELDS:['cities','regions','countries','zips'],GEO_LOCATIONS_FIELD:{CITIES:'cities',REGIONS:'regions',COUNTRIES:'countries',ZIPS:'zips'},ADVANCED_TARGETING_FIELDS:['interestedIn','relationshipStatuses','educationStatuses','locales','workNetworks'],ACCOUNT_FIELDS:g.ACCOUNT_FIELDS,ADGROUP_FIELDS_FOR_CF:['objective','id','account_id','bid_info','bid_type','campaign_id','conversion_specs','creative_ids','impression_control_map','locations','name','targeting','tracking_specs','is_autobid'],OBJECTIVE_FIELDS:['objective'],SAVED_TARGET_SPEC_FIELDS:['audienceId','audienceName','parentAudienceId','accountId','timeUpdatedTimestamp','targetSpec','approximateCount','status','targetingSentenceLines'],USER_ADDRESS_PROPERTIES:['street','street2','city','state','country_code','zip'],ACTIVITY_LOG_FIELDS:['event_type','translated_event_type','actor_id','actor_name','application_id','application_name','action_type','object_id','object_name','object_type','event_time','extra_data'],getAdGroupFieldsForCF:function(j){var k=i.ADGROUP_FIELDS_FOR_CF.slice(0);if(!j)return k;k.push('campaign_group_id');return k;}};e.exports=i;});
__d("AdsCFCreativeProperties",["AdCreativeType","AdsUtils","getObjectValues"],function(a,b,c,d,e,f,g,h,i){var j={STORY_APP_SHARE:{id:g.keyToType.STORY_APP_SHARE.id,validFields:['objectId','urlTags']},STORY_APP_USED:{id:g.keyToType.STORY_APP_USED.id,validFields:['objectId','urlTags']},STORY_PAGE_LIKE:{id:g.keyToType.STORY_PAGE_LIKE.id},STORY_PAGE_POST:{id:g.keyToType.STORY_PAGE_POST.id},STORY_CHECKIN:{id:g.keyToType.STORY_CHECKIN.id},STORY_DOMAIN_SHARE:{id:g.keyToType.STORY_DOMAIN_SHARE.id,validFields:['objectId','urlTags']},STORY_QUERY_BASED:{id:g.keyToType.STORY_QUERY_BASED.id,validFields:['objectId','availableSponsoredStories','urlTags']},AD_EXTERNAL_URL:{id:g.keyToType.AD_EXTERNAL_URL.id,validFields:['title','body','linkUrl','imageList','relatedFanPage','showRelatedFanPage'],requiredFields:['title','body','linkUrl','MULTI_IMAGE']},FEED_URL:{id:g.keyToType.FEED_URL.id,validFields:['actor','title','body','linkUrl','linkDescription','callToActionType','imageList','storyId'],requiredFields:['actor','title','body','linkUrl','MULTI_IMAGE']},AD_FAN_LIKE:{id:g.keyToType.AD_FAN_LIKE.id,validFields:['objectId','title','body','linkUrl','imageList'],requiredFields:['objectId','body','MULTI_IMAGE']},AD_EVENT_RSVP:{id:g.keyToType.AD_EVENT_RSVP.id,validFields:['objectId','title','body','imageList'],requiredFields:['objectId','body','MULTI_IMAGE']},AD_APPLICATION:{id:g.keyToType.AD_APPLICATION.id,validFields:['objectId','title','body','imageList','linkUrl','urlTags'],requiredFields:['objectId','body','MULTI_IMAGE']},AD_PAGE_POST:{id:g.keyToType.AD_PAGE_POST.id,validFields:['objectId','autoUpdate','storyId','urlTags']},MOBILE_APP_INSTALL:{id:g.keyToType.MOBILE_APP_INSTALL.id,validFields:['objectId','title','body','iconImage','imageList','mobileStore','videoId','applinkUrl','mobileProductName','callToActionType','urlTags','linkUrl'],requiredFields:['objectId','MULTI_IMAGE']}},k=h.indexedMap(i(j),'id'),l={idToType:k,keyToType:j,requiredFieldsForType:function(m){var n=k[m],o=n?n.requiredFields:undefined;if(o)return o;n=g.idToType[m];return n?n.requiredFields||[]:[];}};e.exports=l;});
__d("ObjectFlip",[],function(a,b,c,d,e,f){var g=function(h){var i={};for(var j in h)if(h.hasOwnProperty(j))i[h[j]]=j;return i;};e.exports=g;});
__d("AdsCountries",["AdsCountriesConfig","ObjectFlip"],function(a,b,c,d,e,f,g,h){f.countries=g.countries;f.hasCities=function(j){j=j.toUpperCase();return g.countriesWithCities.indexOf(j)!=-1;};f.hasRegions=function(j){j=j.toUpperCase();return g.countriesWithRegions.indexOf(j)!=-1;};f.getCurrencyByCountry=function(j){j=j.toUpperCase();return g.countriesToCurrencies[j];};var i=h(g.countries);f.sortedCountries=Object.keys(i||{}).sort().map(function(j){return {code:i[j],name:j};});});
__d("ads-destinationType",["fbt"],function(a,b,c,d,e,f,g){var h={EXTERNAL_WEBPAGE:'external_webpage',PAGE:1,APP:2,EVENT:3,GROUP:4,REVIEW:5,PLACE:6,DOMAIN:7,STATUS:8,PLAN:9,PAGE_AND_PLACE:50,SEARCH:100,ENTER_URL:101,SEARCH_BY_ID:102},i={page:h.PAGE,application:h.APP,place:h.PLACE,event:h.EVENT},j={};j[h.PAGE]=['likes','talking_about_count','category'];j[h.PLACE]=['likes','talking_about_count','category','checkins','location'];j[h.APP]=['description','category','subcategory','monthly_active_users'];j[h.EVENT]=['name','start_time','end_time','location'];var k={};k[h.EXTERNAL_WEBPAGE]="URL";k[h.PAGE]="Page";k[h.APP]="Application";k[h.EVENT]="Event";k[h.GROUP]="Group";k[h.REVIEW]="Review";k[h.PLACE]="Place";k[h.DOMAIN]="Domain";k[h.SEARCH]="Search";k[h.ENTER_URL]="Search by URL";k[h.SEARCH_BY_ID]="Search by Destination ID";var l={};l[h.EXTERNAL_WEBPAGE]="URL";l[h.PAGE]="Pages";l[h.APP]="Applications";l[h.EVENT]="Events";l[h.GROUP]="Groups";l[h.REVIEW]="Reviews";l[h.PLACE]="Places";l[h.DOMAIN]="Domains";l[h.PAGE_AND_PLACE]="Pages and Places";l[h.SEARCH]="Search";l[h.ENTER_URL]="Search by URL";l[h.SEARCH_BY_ID]="Search by Destination ID";var m=[h.SEARCH,h.PAGE_AND_PLACE,h.APP,h.EVENT,h.DOMAIN];e.exports={DEST_TYPE:h,DEST_TYPE_ORDER:m,DEST_TYPE_TO_DETAIL_FIELDS:j,DEST_TYPE_TO_NAME:k,DEST_TYPE_TO_NAME_PLURAL:l,SEARCH_TYPE_TO_DEST_TYPE:i};});
__d("ads-objectives",["AdsAPIObjectives","keyMirror","ads-destinationType"],function(a,b,c,d,e,f,g,h){var i=b('ads-destinationType').DEST_TYPE,j={};j[i.EVENT]=[g.EVENT_RESPONSES,g.DEPRECATED_CLICKS];j[i.PAGE]=j[i.PLACE]=[g.PAGE_LIKES,g.POST_ENGAGEMENT,g.DEPRECATED_CLICKS];j[i.APP]=[g.CANVAS_APP_INSTALLS,g.CANVAS_APP_ENGAGEMENT,g.DEPRECATED_CLICKS];var k=h({POST_ENGAGEMENT:null,PAGE_LIKES:null,WEBSITE_CLICKS:null,WEBSITE_CONVERSIONS:null,APP_INSTALLS:null,CANVAS_APP_INSTALLS:null,MOBILE_APP_INSTALLS:null,APP_ENGAGEMENT:null,CANVAS_APP_ENGAGEMENT:null,MOBILE_APP_ENGAGEMENT:null,EVENT_RESPONSES:null,OFFER_CLAIMS:null,APP_STORE_MEDIA_VISITS:null,NONE:null,MIXED:null}),l=[g.OFFER_CLAIMS,g.POST_ENGAGEMENT],m={};m[i.APP]=[k.APP_INSTALLS,k.APP_ENGAGEMENT];m[i.EVENT]=[k.EVENT_RESPONSES];m[i.EXTERNAL_WEBPAGE]=[k.WEBSITE_CLICKS,k.WEBSITE_CONVERSIONS];m[i.PAGE]=m[i.PLACE]=[k.PAGE_LIKES,k.POST_ENGAGEMENT,k.OFFER_CLAIMS];var n={};n[k.PAGE_LIKES]=g.PAGE_LIKES;n[k.POST_ENGAGEMENT]=g.POST_ENGAGEMENT;n[k.WEBSITE_CLICKS]=g.WEBSITE_CLICKS;n[k.WEBSITE_CONVERSIONS]=g.WEBSITE_CONVERSIONS;n[k.OFFER_CLAIMS]=g.OFFER_CLAIMS;n[k.EVENT_RESPONSES]=g.EVENT_RESPONSES;n[k.APP_ENGAGEMENT]=g.CANVAS_APP_ENGAGEMENT;n[k.APP_INSTALLS]=g.MOBILE_APP_INSTALLS;n[k.APP_STORE_MEDIA_VISITS]=g.WEBSITE_CLICKS;var o={};o[g.CANVAS_APP_ENGAGEMENT]=k.APP_ENGAGEMENT;o[g.CANVAS_APP_INSTALLS]=k.APP_INSTALLS;o[g.EVENT_RESPONSES]=k.EVENT_RESPONSES;o[g.MOBILE_APP_ENGAGEMENT]=k.APP_ENGAGEMENT;o[g.MOBILE_APP_INSTALLS]=k.APP_INSTALLS;o[g.OFFER_CLAIMS]=k.OFFER_CLAIMS;o[g.WEBSITE_CONVERSIONS]=k.WEBSITE_CONVERSIONS;o[g.POST_ENGAGEMENT]=k.POST_ENGAGEMENT;o[g.PAGE_LIKES]=k.PAGE_LIKES;o[g.WEBSITE_CLICKS]=k.WEBSITE_CLICKS;var p=function(r){return [g.CANVAS_APP_INSTALLS,g.EVENT_RESPONSES,g.PAGE_LIKES].indexOf(r)>-1;},q=function(r){return [g.WEBSITE_CLICKS,g.WEBSITE_CONVERSIONS].indexOf(r)>-1;};e.exports={APItoKPIObjectives:o,isCreateConnectionObjective:p,isURLCachingEligibileObjective:q,KPIObjectives:k,KPIObjectivesByDestinationType:m,KPItoAPIObjectives:n,OBJECTIVES:g,objectivesByDestinationType:j,APIObjectivesWithRequiredStoryID:l};});
__d("AdsObjectivesConfig",["adsGKCheck","cx","fbt","ix","ads-objectives"],function(a,b,c,d,e,f,g,h,i,j){var k=b('ads-objectives').KPIObjectives,l={};l[k.WEBSITE_CLICKS]={name:"Clicks to Website",shortName:"Website Clicks",className:"_5usq",continueTooltip:"Enter a website address to continue",desc:"Get people to visit your website.",descNAX:"Send people to important places on your website.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/website_clicks.png'),miniIcon:j('/images/ads/createflow/objectives/icons_mini/website_clicks.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/website_clicks.png'),illustration:'/images/ads/createflow/nax/click_to_website.png',selectorTooltip:"Create ads to encourage people to visit your website.",typeaheadSubtitle:"Enter URL for a website"};l[k.WEBSITE_CONVERSIONS]={name:"Website Conversions",className:"_5usr",continueTooltip:"Enter a website address and conversion pixel to continue",desc:"Promote actions you want people to take on your website.",descNAX:"Measure specific actions people take on your site. You'll need to use a conversion-tracking pixel to measure your results.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/website_conversions.png'),miniIcon:j('/images/ads/createflow/objectives/icons_mini/website_conversions.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/website_conversions.png'),illustration:'/images/ads/createflow/nax/click_to_conversion.png',selectorTooltip:"Create ads to promote specific actions for people to take on your website. You'll need to use a conversion-tracking pixel to measure your results.",typeaheadSubtitle:"Enter URL for a website"};l[k.WEBSITE_CONVERSIONS].shortName=l[k.WEBSITE_CONVERSIONS].name;l[k.POST_ENGAGEMENT]={name:"Page Post Engagement",shortName:"Post Engagement",className:"_5uss",continueTooltip:"Select a Page and post to continue",desc:"Boost your Page post.",descNAX:"Boost posts to reach more people. Engagement includes likes for your post, comments, shares, video plays and photo views.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/post_engagement.png'),miniIcon:j('/images/ads/createflow/objectives/icons_mini/post_engagement.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/post_engagement.png'),illustration:'/images/ads/createflow/nax/page_post_engagement.png',selectorTooltip:"Create ads that boost your posts and increase likes, comments, shares, video plays and photo views.",typeaheadSubtitle:"Enter URL for a Page or Page post",typeaheadTooltip:"Choose the Page for the post you want to boost. Start typing to find the Page or use the post's URL."};l[k.PAGE_LIKES]={name:"Page Likes",className:"_5ust",continueTooltip:"Select a Page to continue",desc:"Get Page likes to grow your audience and build your brand.",descNAX:"Connect with more people who matter to your business.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/page_likes.png'),miniIcon:j('/images/ads/createflow/objectives/icons_mini/page_likes.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/page_likes.png'),illustration:'/images/ads/createflow/nax/page_likes.png',selectorTooltip:"Create ads to build your audience on Facebook.",typeaheadSubtitle:"Enter URL for a Page",typeaheadTooltip:"Choose the Facebook Page you want to promote. Start typing to find the Page you want to advertise or use its URL. If the Page isn't listed, contact the Page admin."};l[k.PAGE_LIKES].shortName=l[k.PAGE_LIKES].name;l[k.APP_INSTALLS]={name:"App Installs",className:"_5usu",continueTooltip:"Select an app to continue",desc:"Get people to install your app.",descNAX:"Get people to install your Facebook or mobile app.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/app_installs.png'),miniIcon:j('/images/ads/createflow/objectives/icons_mini/app_installs.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/app_installs.png'),illustration:'/images/ads/createflow/nax/app_installs.png',selectorTooltip:"Create ads to encourage people to install your app.",typeaheadSubtitle:"Enter URL for a mobile or desktop app",typeaheadTooltip:"Choose the app you want to advertise. Start typing to find the app or use its App Store or Play Store URL. You can advertise any app that you've registered on Facebook's developer site."};l[k.APP_INSTALLS].shortName=l[k.APP_INSTALLS].name;l[k.CANVAS_APP_INSTALLS]={name:"Desktop App Installs",className:"_5usu",continueTooltip:"Select an app to continue",desc:"Get people to install your desktop app.",descNAX:"Get people to install your Facebook app.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/app_installs.png'),miniIcon:j('/images/ads/createflow/objectives/icons_mini/app_installs.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/app_installs.png'),illustration:'/images/ads/createflow/nax/app_installs.png',selectorTooltip:"Create ads to encourage people to install your desktop app.",typeaheadSubtitle:"Enter URL for a desktop app"};l[k.CANVAS_APP_INSTALLS].shortName=l[k.CANVAS_APP_INSTALLS].name;l[k.MOBILE_APP_INSTALLS]={name:"Mobile App Installs",className:"_5usu",continueTooltip:"Select an app to continue",desc:"Get people to install your mobile app.",descNAX:"Get people to install your mobile app.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/app_installs.png'),miniIcon:j('/images/ads/createflow/objectives/icons_mini/app_installs.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/app_installs.png'),illustration:'/images/ads/createflow/nax/app_installs.png',selectorTooltip:"Create ads to encourage people to install your mobile app.",typeaheadSubtitle:"Enter URL for a mobile app"};l[k.MOBILE_APP_INSTALLS].shortName=l[k.MOBILE_APP_INSTALLS].name;l[k.APP_ENGAGEMENT]={name:"App Engagement",className:"_5usv",continueTooltip:"Select an app to continue",desc:"Get more activity on your Facebook or mobile app.",descNAX:"Get people to use your Facebook or mobile app.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/app_engagement.png'),miniIcon:j('/images/ads/createflow/objectives/icons_mini/app_engagement.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/app_engagement.png'),illustration:'/images/ads/createflow/nax/app_engagement.png',selectorTooltip:"Create ads that get more activity on your app.",typeaheadSubtitle:"Enter URL for an app",typeaheadTooltip:"Choose the app you want to advertise. Start typing to find the app or use its App Store or Play Store URL. You can advertise any app that you've registered on Facebook's developer site."};l[k.APP_ENGAGEMENT].shortName=l[k.APP_ENGAGEMENT].name;l[k.CANVAS_APP_ENGAGEMENT]={name:"Desktop App Engagement",className:"_5usv",continueTooltip:"Select an app to continue",desc:"Get more activity on your desktop app.",descNAX:"Get people to use your Facebook app.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/app_engagement.png'),miniIcon:j('/images/ads/createflow/objectives/icons_mini/app_engagement.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/app_engagement.png'),illustration:'/images/ads/createflow/nax/app_engagement.png',selectorTooltip:"Create ads that get more activity on your desktop app.",typeaheadSubtitle:"Enter URL for a desktop app"};l[k.CANVAS_APP_ENGAGEMENT].shortName=l[k.CANVAS_APP_ENGAGEMENT].name;l[k.MOBILE_APP_ENGAGEMENT]={name:"Mobile App Engagement",className:"_5usv",continueTooltip:"Select an app to continue",desc:"Get more activity on your mobile app.",descNAX:"Get people to use your mobile app.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/app_engagement.png'),miniIcon:j('/images/ads/createflow/objectives/icons_mini/app_engagement.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/app_engagement.png'),illustration:'/images/ads/createflow/nax/app_engagement.png',selectorTooltip:"Create ads that get more activity on your mobile app.",typeaheadSubtitle:"Enter URL for a mobile app"};l[k.MOBILE_APP_ENGAGEMENT].shortName=l[k.MOBILE_APP_ENGAGEMENT].name;if(g('neko_media_ads_cf'))l[k.APP_STORE_MEDIA_VISITS]={name:"Clicks to Media Store",shortName:"Media Store Clicks",className:"_5usw",continueTooltip:"Enter the iTunes store URL to promote",desc:"Send people to the iTunes store to buy your album, song, movie, or TV show.",descNAX:"Send people to the iTunes store to buy your album, song, movie, or TV show.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/media_visits.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/media_visits.png'),illustration:'/images/ads/createflow/nax/click_to_media_buy.png',selectorTooltip:"Create ads to get people to buy your album, or song, movie or TV show.",typeaheadSubtitle:"Enter an iTunes store URL"};l[k.OFFER_CLAIMS]={name:"Offer Claims",className:"_5usx",continueTooltip:"Select a Page and offer to continue",desc:"Create offers for people to redeem in your store.",descNAX:"Make Facebook offers so people can redeem discounts online.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/offer_claims.png'),miniIcon:j('/images/ads/createflow/objectives/icons_mini/offer_claims.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/offer_claims.png'),illustration:'/images/ads/createflow/nax/offer_claims.png',selectorTooltip:"Create ads to promote offers you created. You'll need to use an offer you've created on Facebook or create a new one right here.",typeaheadSubtitle:"Enter URL for a Page or offer on Facebook",typeaheadTooltip:"Choose the Page for the offer you want to promote. Start typing to find the Page or use its URL."};l[k.OFFER_CLAIMS].shortName=l[k.OFFER_CLAIMS].name;l[k.EVENT_RESPONSES]={name:"Event Responses",className:"_5usy",continueTooltip:"Select an event to continue",desc:"Increase attendance at your event.",descNAX:"Promote your Facebook event to get more responses.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/event_responses.png'),miniIcon:j('/images/ads/createflow/objectives/icons_mini/event_responses.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/event_responses.png'),illustration:'/images/ads/createflow/nax/event_responses.png',selectorTooltip:"Create ads to promote your event.",typeaheadSubtitle:"Enter URL for a Facebook event",typeaheadTooltip:"Choose the Facebook event you want to promote. Start typing to find the event or enter its URL. If your event occurs today or has already passed, it can't be advertised."};l[k.EVENT_RESPONSES].shortName=l[k.EVENT_RESPONSES].name;l[k.NONE]={name:"No Objective",className:"_5vba",continueTooltip:null,desc:"No objective",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/event_responses.png'),miniIcon:j('/images/ads/createflow/objectives/icons_mini/none.png'),selectorTooltip:"No objective will be selected",typeaheadSubtitle:null};l[k.MIXED]={name:"Mixed Objectives"};e.exports={KPIObjectivesData:l,getName:function(m){if(l[m]){return l[m].name;}else return m;},getShortName:function(m){if(l[m]){return l[m].shortName;}else return m;},isValid:function(m){return !!m&&!!l[m];}};});
__d("AdsTimezone",["AdsTimezoneConfig"],function(a,b,c,d,e,f,g){f.countryCodeToTimezoneIDsMap=g.countryCodeToTimezoneIDsMap;f.names=g.names;f.timezoneIDToCountryCodeMap=new Array(f.names.length);for(var h in g.countryCodeToTimezoneIDsMap)if(g.countryCodeToTimezoneIDsMap.hasOwnProperty(h)){var i=g.countryCodeToTimezoneIDsMap[h];for(var j=0;j<i.length;++j)f.timezoneIDToCountryCodeMap[i[j]]=h;}var k=[];Object.keys(g.tzIDsByDisplayName).sort().reverse().forEach(function(l){if(!l)return;var m=g.tzIDsByDisplayName[l],n=g.names[m];k.push({id:m,displayName:l,name:n});});f.sortedTimezones=k;});
__d("PagePostTypes",[],function(a,b,c,d,e,f){"use strict";var g={LINK:'link',OFFER:'offer',PHOTO:'photo',QUESTION:'question',STATUS:'status',VIDEO:'video'};e.exports=g;});
__d("actionSpecConstants",["createArrayFrom","fbt","AdsAPIObjectives"],function(a,b,c,d,e,f,g,h,i){var j={PAGE_LIKES:'PAGE_LIKES',PAGE_SUBSCRIBES:'PAGE_SUBSCRIBES',ALL_POST_LIKES:'ALL_POST_LIKES',ALL_POST_COMMENTS:'ALL_POST_COMMENTS',ALL_POST_SHARES:'ALL_POST_SHARES',POST_BY_PAGE_LIKE:'POST_BY_PAGE_LIKE',WALL_POSTS:'WALL_POSTS',PAGE_CHECKINS:'PAGE_CHECKINS',PAGE_AND_CHILD_CHECKINS:'PAGE_AND_CHILD_CHECKINS',POST_LIKES:'POST_LIKES',POST_COMMENTS:'POST_COMMENTS',POST_SHARES:'POST_SHARES',OFFER_CLAIMS:'OFFER_CLAIMS',APP_SHARE:'APP_SHARE',APP_USE:'APP_USE',GAME_PLAY:'GAME_PLAY',EVENT_RSVP:'EVENT_RSVP',DOMAIN_SHARE:'DOMAIN_SHARE',URL_SHARE:'URL_SHARE',QUESTION_VOTE:'QUESTION_VOTE'};function k(u,v){return function(w,x,y){var z={'action.type':u};if(v.objectID)g(v.objectID).forEach(function(aa){z[aa]=w;});if(v.storyID)g(v.storyID).forEach(function(aa){z[aa]=x;});if(v.url)g(v.url).forEach(function(aa){z[aa]=y;});return z;};}var l={};l[j.PAGE_LIKES]=k('like',{objectID:'page'});l[j.PAGE_SUBSCRIBES]=k('follow',{objectID:'page'});l[j.ALL_POST_LIKES]=k('like',{objectID:['post.wall','post.author']});l[j.ALL_POST_COMMENTS]=k('comment',{objectID:['post.wall','post.author']});l[j.ALL_POST_SHARES]=k('post',{objectID:'post.author'});l[j.POST_BY_PAGE_LIKE]=k('like',{objectID:['post.wall','post.author']});l[j.WALL_POSTS]=k('post',{objectID:'post.wall'});l[j.PAGE_CHECKINS]=k('checkin',{objectID:'page'});l[j.PAGE_AND_CHILD_CHECKINS]=function(u){return [{'action.type':'checkin',page:u},{'action.type':'checkin','page.parent':u}];};l[j.POST_LIKES]=k('like',{storyID:'post'});l[j.POST_COMMENTS]=k('comment',{storyID:'post'});l[j.POST_SHARES]=k('post',{storyID:'post.object'});l[j.OFFER_CLAIMS]=k('receive_offer',{storyID:'offer'});l[j.APP_SHARE]=k('post',{objectID:'application'});l[j.APP_USE]=k('apps.uses',{objectID:'application'});l[j.GAME_PLAY]=k('games.plays',{objectID:'application'});l[j.EVENT_RSVP]=k('rsvp',{objectID:'event'});l[j.DOMAIN_SHARE]=k(['post','like'],{objectID:'post.object.domain'});l[j.URL_SHARE]=k('post',{url:'post.object'});l[j.QUESTION_VOTE]=function(u,v,w,x){return x?{'action.type':'vote',question:x.object_id}:null;};var m={};m[j.PAGE_LIKES]="People liking your Page";m[j.PAGE_SUBSCRIBES]="People following your Page";m[j.ALL_POST_LIKES]="People liking any of your Page posts";m[j.ALL_POST_COMMENTS]="People commenting on any of your Page posts";m[j.ALL_POST_SHARES]="People sharing on any of your Page posts";m[j.POST_BY_PAGE_LIKE]="People liking any of your Page posts";m[j.WALL_POSTS]="People posting on your wall";m[j.PAGE_CHECKINS]="People checking-in to your location";m[j.PAGE_AND_CHILD_CHECKINS]="People checking-in to your location";m[j.POST_LIKES]="People liking your Page post";m[j.POST_COMMENTS]="People commenting on your Page post";m[j.POST_SHARES]="People sharing your Page post";m[j.OFFER_CLAIMS]="People claiming your offer";m[j.APP_SHARE]="Stories published through your app";m[j.APP_USE]="People using your app";m[j.GAME_PLAY]="People playing your game";m[j.EVENT_RSVP]="People joining your event";m[j.DOMAIN_SHARE]="People sharing links from your website";m[j.URL_SHARE]="People sharing the specific URL you entered above";m[j.QUESTION_VOTE]="People voting on your question";var n={};n[i.PAGE_LIKES]=[j.PAGE_LIKES];n[i.POST_ENGAGEMENT]=[j.POST_LIKES,j.POST_COMMENTS,j.POST_SHARES];n[i.OFFER_CLAIMS]=[j.POST_LIKES,j.OFFER_CLAIMS];n[i.DEPRECATED_CLICKS]=[j.PAGE_LIKES,j.ALL_POST_LIKES,j.ALL_POST_COMMENTS];var o={};o[i.PAGE_LIKES]=[j.PAGE_LIKES,j.PAGE_CHECKINS];o[i.POST_ENGAGEMENT]=[j.POST_LIKES,j.POST_COMMENTS,j.POST_SHARES];o[i.OFFER_CLAIMS]=[j.OFFER_CLAIMS];o[i.DEPRECATED_CLICKS]=[j.PAGE_LIKES,j.ALL_POST_LIKES,j.ALL_POST_COMMENTS,j.PAGE_CHECKINS];var p={};p[i.CANVAS_APP_INSTALLS]=p[i.CANVAS_APP_ENGAGEMENT]=p[i.DEPRECATED_CLICKS]=[j.APP_SHARE];var q={};q[i.CANVAS_APP_INSTALLS]=q[i.CANVAS_APP_ENGAGEMENT]=q[i.DEPRECATED_CLICKS]=[j.APP_SHARE,j.GAME_PLAY];var r={};r[i.EVENT_RESPONSES]=r[i.DEPRECATED_CLICKS]=[j.EVENT_RSVP];var s={};s[i.POST_ENGAGEMENT]=s[i.DEPRECATED_CLICKS]=[j.QUESTION_VOTE,j.POST_COMMENTS,j.POST_SHARES];var t={SPONSORED_STORIES:1,NEWS_FEED_AD:2,MULTI_IMAGE_AD:3,MULTI_IMAGE_NEWS_FEED_AD:4};e.exports={ACTION_SPECS_KEYS:j,ACTION_SPECS:l,ACTION_SPECS_DISPLAY_NAME:m,PAGE_SS_SPECS:n,PLACE_SS_SPECS:o,APP_SS_SPECS:p,GAME_SS_SPECS:q,EVENT_SS_SPECS:r,QUESTION_SS_SPECS:s,SECONDARY_AD_TYPES:t};});
__d("ads-pageTypesMap",["getObjectValues","merge"],function(a,b,c,d,e,f,g,h){var i={FEED:'feed',MOBILE:'mobile',HOME:'home',LOGOUT:'logout',DESKTOP:'desktop',DESKTOP_FEED:'desktopfeed',MOBILE_EXTERNAL:'mobile-external',EXTERNAL:'external',MOBILE_EXTERNAL_ONLY:'mobile-external-only',MOBILE_FEED_AND_EXTERNAL:'mobilefeed-and-external',DESKTOP_EXTERNAL_ONLY:'desktop-external-only',RIGHT_COLUMN:'rightcolumn',RIGHT_COLUMN_AND_MOBILE:'rightcolumn-and-mobile',INSTAGRAM_STREAM:'instagramstream'},j=h({ALL:'all',NEWS_FEED_ONLY:'nf-only',MOBILE_FEED:'mobilefeed',MOBILE_EXTERNAL_FEED:'mobileexternalfeed',MOBILE_EXTERNAL_APPS:'mobileexternalapps',RHS:'rhs',ALL_PREMIUM:'all_premium'},i),k=g(i),l={};l[j.ALL]=[];l[[j.NEWS_FEED_ONLY,j.DESKTOP_FEED].join(',')]=[j.DESKTOP_FEED];l[[j.NEWS_FEED_ONLY,j.MOBILE_FEED].join(',')]=[j.MOBILE];l[[j.MOBILE_EXTERNAL,j.MOBILE_EXTERNAL_FEED].join(',')]=[j.MOBILE_EXTERNAL];l[[j.MOBILE_EXTERNAL].join(',')]=[j.MOBILE_EXTERNAL_ONLY];l[[j.NEWS_FEED_ONLY,j.DESKTOP_FEED,j.MOBILE_FEED].join()]=[j.FEED];var m={};(function(){for(var r in l){var s=l[r];m[s.join()]=r.split(',');}m[j.ALL]=[j.ALL];})();var n=[j.FEED,j.DESKTOP,j.DESKTOP_FEED,j.MOBILE,j.MOBILE_EXTERNAL,j.MOBILE_FEED_AND_EXTERNAL,j.MOBILE_EXTERNAL_APPS,j.EXTERNAL,j.DESKTOP_EXTERNAL_ONLY,j.MOBILE_EXTERNAL_ONLY,j.RIGHT_COLUMN],o=n.concat([j.HOME,j.LOGOUT,j.INSTAGRAM_STREAM]),p=[j.HOME,j.FEED,j.DESKTOP,j.DESKTOP_FEED,j.RIGHT_COLUMN,j.MOBILE],q=[j.FEED,j.MOBILE,j.EXTERNAL,j.MOBILE_EXTERNAL,j.MOBILE_FEED_AND_EXTERNAL,j.MOBILE_EXTERNAL_APPS,j.MOBILE_EXTERNAL_ONLY];e.exports={PAGETYPES:j,PAGETYPES_BACKEND:i,PAGETYPES_BACKEND_VALUES:k,VALUE2INFO_MAP:l,INFO2VALUE_MAP:m,PAGETYPES_SELF_SERVE:n,PAGETYPES_PREMIUM:o,PAGETYPES_PREMIUM_IN_SELF_SERVE:p,PAGETYPES_MOBILE:q};});
__d("ads-mobile-platforms",["bolt/util","fbt","ads-pageTypesMap","AdCreativeType"],function(a,b,c,d,e,f,g,h,i){var j=b('AdCreativeType').AD_CREATIVE_TYPE,k={IPHONE:'iPhone',IPOD:'iPod',IPAD:'iPad',ANDROID_SMARTPHONE:'Android_Smartphone',ANDROID_TABLET:'Android_Tablet',DESKTOP_CANVAS:'Desktop_Canvas'},l=[{name:"Smartphones",id:k.ANDROID_SMARTPHONE},{name:"Tablets",id:k.ANDROID_TABLET}],m=[{name:"iPhone",id:k.IPHONE},{name:"iPod",id:k.IPOD},{name:"iPad",id:k.IPAD}];function n(u){return g.contains(g.pluck(m,'id'),u);}function o(u){return g.contains(g.pluck(l,'id'),u);}var p={IOS:'iOS',ANDROID:'Android',FEATURE_DEPRECATED:'feature_phones',FEATURE:'Feature_Phone',FB_CANVAS:'fb_canvas',WINDOWS:'Windows'},q={ALL:'All',SPECIFIC:'Specific'},r={WIFI:'Wifi','3G':'3G'};function s(u){return u.length===0||g.intersect(i.PAGETYPES_MOBILE,u).length>0;}function t(u){if(g.contains([j.STANDARD,j.INLINE_RSVP,j.PLATFORM_CONTEXT],u.type()))return false;return s(u.page_types());}f.deviceTypes=k;f.IOS_DEVICES=m;f.ANDROID_DEVICES=l;f.isIosDevice=n;f.isAndroidDevice=o;f.operatingSystems=p;f.carriers=r;f.deviceAll=q;f.hasValidPageTypesForPlatformTargeting=s;f.canUsePlatformTargeting=t;});
__d("ads-app-platforms",["arrayContains","fbt","invariant","ads-mobile-platforms"],function(a,b,c,d,e,f,g,h,i,j){var k=j.deviceTypes,l=j.operatingSystems,m={WEB:1,CANVAS:2,MOBILE_WEB:3,IPHONE:4,IPAD:5,ANDROID:6,IOS:7,DESKTOP_CANVAS:8,WINDOWS:9},n={INVALID:0,CANVAS:1,MOBILE_CANVAS:2,MOBILE_NATIVE:3},o={0:"The app does not support any mobile platforms",1:"Canvas",2:"Mobile Canvas",3:"Mobile Native"},p={ITUNES:'itunes',ITUNES_IPAD:'itunes_ipad',GOOGLE_PLAY:'google_play',WINDOWS_STORE:'windows_store',FB_CANVAS:'fb_canvas'},q={FB_APPLICATION_ONLY:'application',FB_MOBILE_STORE_ONLY:'mobile_store',FB_MOBILE_STORE_WITH_BACKING_APP:'mobile_store_with_matching_application'},r={};r[n.INVALID]="The app does not support any native mobile platforms";r[m.IPHONE]="iPhone";r[m.IPAD]="iPad";r[m.ANDROID]="Android";r[m.IOS]="iOS";r[m.CANVAS]="Canvas";r[m.WINDOWS]="Windows";var s={};s[n.INVALID]='';s[m.IPHONE]=p.ITUNES;s[m.IPAD]=p.ITUNES_IPAD;s[m.ANDROID]=p.GOOGLE_PLAY;s[m.IOS]=p.ITUNES;s[m.CANVAS]=p.FB_CANVAS;s[m.WINDOWS]=p.WINDOWS_STORE;var t={};t[p.ITUNES]=m.IPHONE;t[p.ITUNES_IPAD]=m.IPAD;t[p.GOOGLE_PLAY]=m.ANDROID;t[p.FB_CANVAS]=m.CANVAS;t[p.WINDOWS_STORE]=m.WINDOWS;function u(ka,la){return ka.filter(function(ma){return g(la,ma);});}function v(ka){ka=ka||{};var la=[];Object.keys(m).forEach(function(ma){var na=m[ma];if(ka[ma.toLowerCase()])la.push(na);});return la;}function w(ka,la){return !!u(ka,la).length;}function x(ka){if(!ka)return [];return ka.supported_platforms()||[];}function y(ka){var la=[],ma=x(ka);if(w(ma,[m.IPHONE,m.IPAD]))la.push(l.IOS);if(w(ma,[m.ANDROID]))la.push(l.ANDROID);return la;}function z(ka){if(!ka||!ka.length)return false;return ka.some(function(la){return (la===m.CANVAS||la===m.DESKTOP_CANVAS);});}function aa(ka){return g([m.IPHONE,m.IPAD,m.ANDROID,m.IOS,m.WINDOWS],ka);}function ba(ka){if(!ka||!ka.length)return false;return ka.some(aa);}function ca(ka,la){var ma=t[la];return da(ka,ma);}function da(ka,la){return {mobileStore:s[la],appPlatformValue:la,storeId:ka[la],contentType:'application'};}function ea(ka){var la=[];ka=ka||{};function ma(oa){la.push(fa(oa));}var na=m.IPAD in ka;if(m.IPHONE in ka)ma(na?m.IPHONE:m.IOS);if(na)ma(m.IPAD);if(m.ANDROID in ka)ma(m.ANDROID);if(m.WINDOWS in ka)ma(m.WINDOWS);if(la.length===0)ma(n.INVALID);return la;}function fa(ka){return {value:s[ka],text:r[ka]};}function ga(ka){return [{value:ka,text:r[t[ka]]}];}function ha(ka,la){switch(ka){case p.ITUNES:if(m.IPAD in la)return [k.IPHONE,k.IPOD];return [k.IPHONE,k.IPOD,k.IPAD];case p.ITUNES_IPAD:return [k.IPAD];case p.GOOGLE_PLAY:return [];case p.WINDOWS_STORE:return [];case p.FB_CANVAS:return [];default:i(false);}}function ia(ka,la){return {os:ja(ka),devices:ha(ka,la)};}function ja(ka){if(!ka)return;switch(ka){case p.ITUNES:case p.ITUNES_IPAD:return l.IOS;case p.GOOGLE_PLAY:return l.ANDROID;case p.WINDOWS_STORE:return l.WINDOWS;case p.FB_CANVAS:return l.FB_CANVAS;default:i(false);}}f.APP_PLATFORM=m;f.APP_PLATFORM_TYPE=n;f.APP_PLATFORM_TYPE_NAME=o;f.MOBILE_STORE=p;f.MOBILE_STORE_DESTINATION_TYPE=q;f.supportsDesktop=z;f.supportsNativeMobile=ba;f.isPlatformSupported=w;f.constructNativeMobileAppOption=fa;f.getStoreObjectInfoFromMobileStore=ca;f.getStoreObjectInfoFromAppPlatform=da;f.getNativeMobileApps=ea;f.getMobileStoreOptionsForMobileStore=ga;f.getOSForMobileStore=ja;f.getSupportedOS=y;f.getPlatformsFromGraph=v;f.getTargetingOptionsByMobileStore=ia;});
__d("ArgumentError",["ManagedError"],function(a,b,c,d,e,f,g){function h(i,j){g.prototype.constructor.apply(this,arguments);}h.prototype=new g();h.prototype.constructor=h;e.exports=h;});
__d("CORSRequest",["wrapFunction","QueryString"],function(a,b,c,d,e,f,g,h){function i(l,m){if(!self.XMLHttpRequest)return null;var n=new XMLHttpRequest(),o=function(){};if('withCredentials' in n){n.open(l,m,true);n.setRequestHeader('Content-type','application/x-www-form-urlencoded');}else if(self.XDomainRequest){n=new XDomainRequest();try{n.open(l,m);n.onprogress=n.ontimeout=o;}catch(p){return null;}}else return null;var q={send:function(t){n.send(t);}},r=g(function(){r=o;if('onload' in q)q.onload(n);},'entry','XMLHttpRequest:load'),s=g(function(){s=o;if('onerror' in q)q.onerror(n);},'entry','XMLHttpRequest:error');n.onload=function(){r();};n.onerror=function(){s();};n.onreadystatechange=function(){if(n.readyState==4)if(n.status==200){r();}else s();};return q;}function j(l,m,n,o){n.suppress_http_code=1;var p=h.encode(n);if(m!='post'){l=h.appendToUrl(l,p);p='';}var q=i(m,l);if(!q)return false;q.onload=function(r){o(JSON.parse(r.responseText));};q.onerror=function(r){if(r.responseText){o(JSON.parse(r.responseText));}else o({error:{type:'http',message:'unknown error',status:r.status}});};q.send(p);return true;}var k={execute:j};e.exports=k;});
__d("dotAccess",[],function(a,b,c,d,e,f){function g(h,i,j){var k=i.split('.');do{var l=k.shift();h=h[l]||j&&(h[l]={});}while(k.length&&h);return h;}e.exports=g;});
__d("GlobalCallback",["DOMWrapper","dotAccess","guid","wrapFunction"],function(a,b,c,d,e,f,g,h,i,j){var k,l,m={setPrefix:function(n){k=h(g.getWindow(),n,true);l=n;},create:function(n,o){if(!k)this.setPrefix('__globalCallbacks');var p=i();k[p]=j(n,'entry',o||'GlobalCallback');return l+'.'+p;},remove:function(n){var o=n.substring(l.length+1);delete k[o];}};e.exports=m;});
__d("FlashRequest",["DOMWrapper","Flash","GlobalCallback","QueryString","Queue"],function(a,b,c,d,e,f,g,h,i,j,k){var l,m={},n,o;function p(){if(!n)throw new Error('swfUrl has not been set');var s=i.create(function(){l.start(function(u){var v=o.execute(u.method,u.url,u.body);if(!v)throw new Error('Could create request');m[v]=u.callback;});}),t=i.create(function(u,v,w){var x;try{x=JSON.parse(decodeURIComponent(w));}catch(y){x={error:{type:'SyntaxError',message:y.message,status:v,raw:w}};}m[u](x);delete m[u];});o=h.embed(n,g.getRoot(),null,{log:false,initCallback:s,requestCallback:t});}function q(s,t,u,v){u.suppress_http_code=1;if(!u.method)u.method=t;var w=j.encode(u);if(t==='get'&&s.length+w.length<2000){s=j.appendToUrl(s,w);w='';}else t='post';if(!l){if(!h.isAvailable())return false;l=new k();p();}l.enqueue({method:t,url:s,body:w,callback:v});return true;}var r={setSwfUrl:function(s){n=s;},execute:q};e.exports=r;});
__d("flattenObject",[],function(a,b,c,d,e,f){function g(h){var i={};for(var j in h)if(h.hasOwnProperty(j)){var k=h[j];if(null===k||undefined===k){continue;}else if(typeof k=='string'){i[j]=k;}else i[j]=JSON.stringify(k);}return i;}e.exports=g;});
__d("JSONPRequest",["DOMWrapper","GlobalCallback","QueryString"],function(a,b,c,d,e,f,g,h,i){function j(l,m,n,o){var p=document.createElement('script'),q=function(s){q=function(){};h.remove(n.callback);o(s);p.parentNode.removeChild(p);};n.callback=h.create(q);if(!n.method)n.method=m;l=i.appendToUrl(l,n);if(l.length>2000){h.remove(n.callback);return false;}p.onerror=function(){q({error:{type:'http',message:'unknown error'}});};var r=function(){setTimeout(function(){q({error:{type:'http',message:'unknown error'}});},0);};if(p.addEventListener){p.addEventListener('load',r,false);}else p.onreadystatechange=function(){if(/loaded|complete/.test(this.readyState))r();};p.src=l;g.getRoot().appendChild(p);return true;}var k={execute:j};e.exports=k;});
__d("ObservableMixin",[],function(a,b,c,d,e,f){function g(){this.__observableEvents={};}g.prototype={inform:function(h){var i=Array.prototype.slice.call(arguments,1),j=Array.prototype.slice.call(this.getSubscribers(h));for(var k=0;k<j.length;k++){if(j[k]===null)continue;try{j[k].apply(this,i);}catch(l){setTimeout(function(){throw l;},0);}}return this;},getSubscribers:function(h){return this.__observableEvents[h]||(this.__observableEvents[h]=[]);},clearSubscribers:function(h){if(h)this.__observableEvents[h]=[];return this;},clearAllSubscribers:function(){this.__observableEvents={};return this;},subscribe:function(h,i){var j=this.getSubscribers(h);j.push(i);return this;},unsubscribe:function(h,i){var j=this.getSubscribers(h);for(var k=0;k<j.length;k++)if(j[k]===i){j.splice(k,1);break;}return this;},monitor:function(h,i){if(!i()){var j=function(k){if(i.apply(i,arguments))this.unsubscribe(h,j);}.bind(this);this.subscribe(h,j);}return this;}};e.exports=g;});
__d("sdk.URI",["Assert","QueryString","URIBase"],function(a,b,c,d,e,f,g,h,i){var j=/\.facebook\.com$/,k={serialize:function(o){return o?h.encode(o):'';},deserialize:function(o){return o?h.decode(o):{};}};for(var l in i)if(i.hasOwnProperty(l))n[l]=i[l];var m=i===null?null:i.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=i;function n(o){"use strict";g.isString(o,'The passed argument was of invalid type.');if(!(this instanceof n))return new n(o);i.call(this,o,k);}n.prototype.isFacebookURI=function(){"use strict";return j.test(this.getDomain());};n.prototype.valueOf=function(){"use strict";return this.toString();};e.exports=n;});
__d("UrlMap",["UrlMapConfig"],function(a,b,c,d,e,f,g){var h={resolve:function(i,j){var k=typeof j=='undefined'?location.protocol.replace(':',''):j?'https':'http';if(i in g)return k+'://'+g[i];if(typeof j=='undefined'&&i+'_'+k in g)return k+'://'+g[i+'_'+k];if(j!==true&&i+'_http' in g)return 'http://'+g[i+'_http'];if(j!==false&&i+'_https' in g)return 'https://'+g[i+'_https'];}};e.exports=h;});
__d("ApiClient",["ArgumentError","Assert","copyProperties","CORSRequest","FlashRequest","flattenObject","JSONPRequest","Log","ObservableMixin","sprintf","sdk.URI","UrlMap","ApiClientConfig"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t,u,v,w={get:true,post:true,'delete':true,put:true},x={fql_query:true,fql_multiquery:true,friends_get:true,notifications_get:true,stream_get:true,users_getinfo:true};function y(da,ea,fa,ga){if(v)fa=i({},v,fa);fa.access_token=fa.access_token||t;fa.pretty=fa.pretty||0;fa=l(fa);var ha={jsonp:m,cors:j,flash:k},ia;if(fa.transport){ia=[fa.transport];delete fa.transport;}else ia=['jsonp','cors','flash'];for(var ja=0;ja<ia.length;ja++){var ka=ha[ia[ja]],la=i({},fa);if(ka.execute(da,ea,la,ga))return;}ga({error:{type:'no-transport',message:'Could not find a usable transport for request'}});}function z(da,ea,fa,ga,ha){ca.inform('request.complete',ea,fa,ga,ha);if(da)da(ha);}function aa(da){h.isString(da,'Invalid path');if(!/^https?/.test(da)&&da.charAt(0)!=='/')da='/'+da;var ea,fa={};try{ea=new q(da);}catch(ga){throw new g(ga.message,ga);}Array.prototype.slice.call(arguments,1).forEach(function(ma){fa[typeof ma]=ma;});var ha=(fa.string||'get').toLowerCase();h.isTrue(w.hasOwnProperty(ha),p('Invalid method passed to ApiClient: %s',ha));var ia=fa['function'];if(!ia)n.warn('No callback passed to the ApiClient');if(fa.object)ea.addQueryData(fa.object);var ja=ea.getQueryData(),ka=z.bind(null,ia,ea.getPath(),ha,ja),la=ea.getProtocol()&&ea.getDomain()?ea.setQueryData({}).toString():r.resolve('graph')+ea.getPath();ja.method=ha;y(la,ha=='get'?'get':'post',ja,ka);}function ba(da,ea){h.isObject(da);h.isString(da.method,'method missing');if(!ea)n.warn('No callback passed to the ApiClient');var fa=da.method.toLowerCase().replace('.','_');da.format='json-strings';da.api_key=u;var ga=fa in x?'api_read':'api',ha=r.resolve(ga)+'/restserver.php',ia=z.bind(null,ea,'/restserver.php','get',da);y(ha,'get',da,ia);}var ca=i(new o(),{setAccessToken:function(da){t=da;},setClientID:function(da){u=da;},setDefaultParams:function(da){v=da;},rest:ba,graph:aa});k.setSwfUrl(s.FlashRequest.swfUrl);e.exports=ca;});
__d("ads-lib-connect",["ApiClient","Arbiter","URI","copyProperties","flattenObject"],function(a,b,c,d,e,f,g,h,i,j,k){var l=j(new h(),{events:{NEW_NETWORK_DATA_AVAILABLE:'newNetworkDataAvailable'},api:function(p){var q={};Array.prototype.slice.call(arguments,1).forEach(function(x){q[typeof x]=x;});var r=q.string,s=q.object,t=q['function'],u=Date.now(),v=function(x){var y=Date.now();m({path:p,method:r,params:s,response:x,start:u,end:y,baseURL:window.location.href});t&&t(x);},w=[p,r,s,v].filter(function(x){return !!x;});g.graph.apply(g,w);},url:function(p,q,r){if(p&&p.substring(0,1)!='/')p='/'+p;q=q||{};q.access_token=r;q=k(q);return i().setPath(p).setSubdomain('graph').setQueryData(q).toString();}});function m(p){l.inform(l.events.NEW_NETWORK_DATA_AVAILABLE,p,h.BEHAVIOR_EVENT);}function n(p){return !p||p.error||p.error_msg;}function o(p){if(!p)return {};return {msg:p.error_msg||(p.error&&p.error.message)||p.error,code:p.error_code||(p.error&&p.error.code),type:p.error_type||(p.error&&p.error.type),subcode:p.error_subcode||(p.error&&p.error.error_subcode)};}f.FB=l;f.getErrorMessage=o;f.isError=n;});
__d("adsAsyncUtils",[],function(a,b,c,d,e,f){var g=30;function h(j,k,l){"use strict";this.$ParallelForEach0=j;this.$ParallelForEach1=1;this.$ParallelForEach2=k;this.$ParallelForEach3=l;this.$ParallelForEach4=0;this.$ParallelForEach5=0;this.$ParallelForEach6=0;this.$ParallelForEach7=60000;this.$ParallelForEach8=null;}h.prototype.setTimeoutLimit=function(j){"use strict";this.$ParallelForEach7=j;return this;};h.prototype.setTimeoutHandler=function(j){"use strict";this.$ParallelForEach8=j;return this;};h.prototype.setContext=function(j){"use strict";this.$ParallelForEach9=j;return this;};h.prototype.setExceptionHandler=function(j){"use strict";this.$ParallelForEacha=j;return this;};h.prototype.setConcurrency=function(j){"use strict";this.$ParallelForEach1=j;return this;};h.prototype.run=function(){"use strict";var j=this;if(j.$ParallelForEach4<j.$ParallelForEach1)j.hasNext(function(k){if(k){j.$ParallelForEachb(0);j.run();}else if(j.$ParallelForEach4===0)j.$ParallelForEach3.call(j.$ParallelForEach9||null);});};h.prototype.hasNext=function(j){"use strict";j(this.$ParallelForEach4<this.$ParallelForEach0.length);};h.prototype.numRunning=function(){"use strict";return this.$ParallelForEach4-this.$ParallelForEach5;};h.prototype.next=function(){"use strict";return this.$ParallelForEach0[this.$ParallelForEach4++];};h.prototype.$ParallelForEachb=function(j){"use strict";var k=this.$ParallelForEach4,l=this.next();if(j&&j%g===0){setTimeout(this.$ParallelForEachc.bind(this,l,k,0),1);}else this.$ParallelForEachc(l,k,j);};h.prototype.$ParallelForEachc=function(j,k,l){"use strict";var m=null;if(this.$ParallelForEach8)setTimeout(this.$ParallelForEach8,this.$ParallelForEach7);try{this.$ParallelForEach2.call(this.$ParallelForEach9||null,j,k,this.$ParallelForEachd.bind(this,l,m));}catch(n){if(this.$ParallelForEacha){this.$ParallelForEacha(n);this.$ParallelForEachd(l,m);}else throw n;}};h.prototype.$ParallelForEachd=function(j,k){"use strict";if(k)clearTimeout(k);var l=this;++l.$ParallelForEach5;++l.$ParallelForEach6;l.hasNext(function(m){--l.$ParallelForEach6;if(m){l.$ParallelForEachb(j+1);}else if(l.$ParallelForEach6===0&&l.numRunning()===0)l.$ParallelForEach3.call(l.$ParallelForEach9||null);});};var i=function(j,k,l,m){var n=new h(j,k,l);n.setConcurrency(1).setContext(m).run();};e.exports={forEach:i};});
__d("AdsFBBatch",["ads-lib-connect","adsAsyncUtils","QueryString","AdsUtils","copyProperties","flattenObject","Deferred"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=b('ads-lib-connect').FB,o={error:{message:'Error parsing graph response'}};function p(t){try{return t&&JSON.parse(t);}catch(u){return o;}}function q(t){return t.map(function(u){var v={method:u.method},w=i.encode(l(u.params));if((u.method==='GET'||u.method==='DELETE')&&u.params){v.relative_url=u.path+"?"+w;}else{v.relative_url=u.path;v.body=w;}if(u.name){v.name=u.name;v.omit_response_on_success=false;}return v;});}function r(){"use strict";this._requests=[];}r.prototype.add=function(t,u,v,w,x){"use strict";var y=new m(),z=s(y,w);this._requests.push({method:t,path:u,params:v,callback:z,name:x});return y;};r.prototype.run=function(t){"use strict";return r.run(this._requests,t);};r.run=function(t,u){"use strict";var v=[],w=new m(),x=s(w,function(){u&&u(v);});switch(t.length){case 0:x();break;case 1:var y=t[0];n.api(y.path,y.method,y.params||{},function(aa){if(g.isError(aa))v.push(aa);y.callback(aa,x);});break;default:var z=j.chunkArray(t,r.MAX_NUM_REQUESTS_BATCH);h.forEach(z,function(aa,ba,ca){n.api('/','post',{batch:q(aa)},function(da){h.forEach(da,function(ea,fa,ga){var ha=ea&&p(ea.body);if(ha===o){var ia=j.clone(o);ia.response=ea;v.push(ia);}else if(g.isError(ha))v.push(ha);aa[fa].callback(ha,ga);},ca);});},x);}return w;};k(r,{MAX_NUM_REQUESTS_BATCH:50});function s(t,u){return function(){t.succeed.apply(t,arguments);u&&u.apply(null,arguments);};}e.exports=r;});
__d("ads-lib-urllib",[],function(a,b,c,d,e,f){function g(n){return k(m.normalize(n.trim()));}var h=/^(?:(\w+):)?(?:\/\/([^\/:?#]*)(?::(\d+))?)?([^#?]*)(?:\?([^#]*))?(?:#(.*))?/,i='invalid.invalid';function j(n){var o=new RegExp('[\\x00-\\x2c\\x2f\\x3b-\\x40\\x5c\\x5e\\x60\\x7b-\\x7f'+'\\uFDD0-\\uFDEF\\uFFF0-\\uFFFF'+'\\u2047\\u2048\\uFE56\\uFE5F\\uFF03\\uFF0F\\uFF1F]');if(o.test(n)){return i;}else return n;}function k(n){var o=n.toString().trim().match(h),p={protocol:o[1]||'',domain:j(o[2]||''),port:o[3]||'',path:o[4]||'',query_s:o[5]||'',fragment:o[6]||''};if(!p.domain&&p.path.indexOf('\\')!==-1)return {};var q=new RegExp('^(?:[^/]*:|'+'[\\x00-\\x1f]*/[\\x00-\\x1f]*/)');if(!p.protocol&&q.test(n.toString()))return {};return p;}function l(n){var o='';n.protocol&&(o+=n.protocol+'://');n.domain&&(o+=n.domain);n.port&&(o+=':'+n.port);if(n.domain&&!n.path)o+='/';n.path&&(o+=n.path);n.query_s&&(o+='?'+n.query_s);n.fragment&&(o+='#'+n.fragment);return o;}var m={normalize:function(n){if(!n)return n;var o=k(n);if(!o.protocol)o.protocol='http';return l(o);},isUrlSimple:function(n){var o=n.trim().split('.');return o.length>1&&o.filter(function(p){return !p;}).length===0;},isUrl:function(n){var o=g(n);return o.domain&&o.domain!==i&&m.isUrlSimple(o.domain);},isPotentialUrl:function(n){if(!n)return true;var o=g(n);return o.domain&&o.domain!==i;}};e.exports=m;});
__d("AdsCreateFlowConfig",["AdsCreationConfig"],function(a,b,c,d,e,f,g){var h={PAGE_POST_TIMEOUT_MS:6000,MAX_PAGE_POST_LEN:50,MAX_TITLE_LENGTH:g.maxTitleLength,MAX_URL_LENGTH:g.maxURLLength,NEW_CAMPAIGN_ID:0,AGE_MIN:g.minAge,AGE_MAX:g.maxAge,ONE_BOX_TYPEAHEAD_TRUNCATION:21,ONE_BOX_DEBOUNCE_MS:120,MAX_TEXT_LENGTH:52,MAX_SUGGESTED_KEYWORDS_OFFSET:45,SUGGESTED_KEYWORDS_PER_FETCH:15,DEFAULT_IMAGE_URL_SUFFIX:'/images/devsite/attachment_blank.png',SEE_ALL:'see_all',GO_BACK:'go_back'};e.exports=h;});
__d("AdsCreateFlowQueryLimits",[],function(a,b,c,d,e,f){e.exports={AD_DEST_QUERY_LIMIT:9,AD_KEYWORD_SUGGESTION_QUERY_LIMIT:15,AD_COUNTRY_QUERY_LIMIT:500,TYPEAHEAD_LIMIT:12};});
__d("AdsCFCreativeViewActions",["AdsCFActionTypes","AdsDispatcher"],function(a,b,c,d,e,f,g,h){var i={setCreativeTitle:function(j,k){h.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,title:k,creativeID:j});},setCreativeBody:function(j,k){h.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,body:k,creativeID:j});},setCreativeDeepLink:function(j,k){h.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,applinkUrl:k,creativeID:j});},setCreativeDeepLinkTitle:function(j,k){h.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,mobileProductName:k,creativeID:j});},setCreativeCallToActionType:function(j,k){h.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,callToActionType:k,creativeID:j});},setCreativeVideoID:function(j,k){h.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,videoId:k,creativeID:j});},setCreativeLinkUrl:function(j,k){h.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,linkUrl:k,creativeID:j});},setCreativeIconImage:function(j,k){h.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,creativeID:j,iconImage:k});},setCreativeMobileStore:function(j,k){h.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,creativeID:j,mobileStore:k});},setCreativeImageList:function(j,k){h.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,creativeID:j,imageList:k});},setCreativeLinkDescription:function(j,k){h.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,linkDescription:k,creativeID:j});},setStoryId:function(j,k){h.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,storyId:k,creativeID:j});},setAutoUpdate:function(j,k,l){h.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,autoUpdate:k,storyId:l,creativeID:j});},changeStatus:function(j,k,l){h.handleUpdateFromViewAction({actionType:g.CREATIVE_STATUS_CHANGE,creativeID:j,status:k,eventSource:l});},addSponsoredStory:function(j,k){h.handleUpdateFromViewAction({actionType:g.SPONSORED_STORY_CHANGE,addedSponsoredStory:k,creativeID:j});},removeSponsoredStory:function(j,k){h.handleUpdateFromViewAction({actionType:g.SPONSORED_STORY_CHANGE,removedSponsoredStory:k,creativeID:j});},setURLTags:function(j,k){h.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,urlTags:k,creativeID:j});},setActor:function(j,k,l){h.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,actor:k,creativeID:j,eventSource:l});},setPlacements:function(j,k,l,m){h.handleUpdateFromViewAction({actionType:g.CREATIVE_PLACEMENTS_CHANGE,creativeID:j,placementList:k,enabled:l,eventSource:m});},hideOrShowRelatedFanPage:function(j,k){h.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,showRelatedFanPage:k,creativeID:j});},imageValidated:function(j,k,l,m){h.handleUpdateFromViewAction({actionType:g.IMAGE_VALIDATED,creativeID:j,image:k,placement:l,validation:m});},updateImageCrop:function(j,k,l,m,n,o){h.handleUpdateFromViewAction({actionType:g.IMAGE_CROP_CHANGE,creativeID:j,creativeType:k,image:l,cropKey:m,placement:n,coordinates:o});}};e.exports=i;});
__d("adsDaoUtils",["bolt/core","bolt/util","invariant"],function(a,b,c,d,e,f,g,h,i){f.primeDao=function(k,l,m){var n=h.extend({},k);for(var o in m){if(!k.hasOwnProperty(o))continue;n[o]=j(k[o],l);}return n;};function j(k,l){i(k.klass);var m=f.createDataCommand(k.klass,l,k.dataCommandId);if(k.commandName)m.commandName=k.commandName;return m;}f.createDataCommand=function(k,l,m){i(!k.klass);var n=h.extend({extend:k},l,{dataCommandId:m||h.generateCID()}),o=['requiredParameters','constantParameters','optionalParameters'];o.forEach(function(p){var q=k.prototype[p]||{},r=l[p]||{};i(typeof q=='object');i(typeof r=='object');n[p]=h.extend({},q,r);});return new (g.createClass(n))();};f.transformIdToString=function(k){if(typeof k.id==='number')k.id=''+k.id;};});
__d("adsDaoGraphPrimed",["adsDaoUtils"],function(a,b,c,d,e,f,g){f.forAccount=function(h){var i={constantParameters:{accountId:h}};this.fetch=g.primeDao(this.fetch,i,{adgroupsForAccount:true,connectionObjectsForAccount:true,audiencesForAccount:true,adsPixelsForAccount:true,imagesForAccount:true,videosForAccount:true,campaignsForAccount:true,customAudiencesForAccountWithPaging:true,customAudiencesForAccount:true,partnersForAccount:true,estimatesForAccount:true,targetingSentencesForAccount:true,accountInfo:true,customCluster:true,bctDataForAccount:true,partnerCategoriesForAccount:true,customaudiencestosForAccount:true,campaignGroupsForAccount:true,reportStatsForAccount:true,reportSpecsForAccount:true,asyncReportById:true,reportAsyncRunsForAccount:true,reportsScheduledForAccount:true,pixelsForAccount:true,pagesForUser:true,appsForUser:true,contactsLists:true,seedEstimateForAccount:true});this.add=g.primeDao(this.add,i,{audiencesImport:true,acceptCustomAudiencesTos:true,createCampaign:true,createNewSavedTargetSpec:true,imageForAccount:true,updateAccount:true,createCustomAudience:true,createWebRemarketingCustomAudience:true,createAdsPixel:true,createMobileAppRemarketingCustomAudience:true,createMobileAppCombinationCustomAudience:true,reportSpecs:true,scheduleReport:true});this.mutate=g.primeDao(this.mutate,i,{customAudience:true,reportSpecs:true,savedTargetSpec:true,updateAccount:true,reportStatsForAccountAsync:true,updateAsyncReport:true});return this;};f.forBrand=function(h){var i={constantParameters:{brandID:h}};this.fetch=g.primeDao(this.fetch,i,{appsForBrand:true,brandInfo:true,pagesForBrand:true,adaccountsForBrand:true,productFeedsForBrand:true,agenciesForBrand:true,clientsForBrand:true,fundingSourcesForBrand:true,labelsForBrand:true,userPermissionsForAccount:true,userPermissionsForPage:true,userPermissionsForBrand:true,businessSettingLogForObject:true,userPermissionsForApp:true});this.add=g.primeDao(this.add,i,{addPagesToBrand:true,addAccountsToBrand:true,acceptAgencyAdAccountPermRequest:true,acceptAgencyPagePermRequest:true,createAdAccount:true,createLabelForBrand:true,updateBrand:true,updateBrandPermission:true,updateBrandUserPermission:true,updatePagePermission:true,updateAccountPermission:true,updateAppPermission:true});this.remove=g.primeDao(this.remove,i,{removePagePermission:true,pagesForBrand:true,accountsForBrand:true,removeAgency:true,removeClient:true,removeAgencyPagePermRequest:true,removeAppPermission:true,removeAgencyAdAccountPermission:true});this.mutate=g.primeDao(this.mutate,i,{brandPersona:true});return this;};f.forBrandDashboard=function(){this.fetch=g.primeDao(this.fetch,{},{brandForUsers:true});return this;};f.forLocale=function(h){var i={constantParameters:{locale:h}};this.fetch=g.primeDao(this.fetch,i,{adKeywordSuggestion:true,adgroupForCF:true,adsDestinationInfo:true,bctDataForAccount:true,adTargetingCategory:true,partnerCategoriesForAccount:true,countries:true,estimatesForAccount:true,estimatesForAdgroup:true,geolocation:true,languages:true,targetingSentencesForAccount:true});return this;};});
__d("AdsDaoEvents",["Arbiter"],function(a,b,c,d,e,f,g){'use strict';f.Arbiter=new g();f.ArbiterEvents={ERROR:'ads_dao_arbiter_error_event'};});
__d("AdsDaoResult",[],function(a,b,c,d,e,f){var g={SUCCESS:1,NO_RESULT_RETURNED:2,RESULT_HAS_ERROR:3};e.exports=g;});
__d("adsDaoCaching",["Assert","bolt/core","bolt/util","AdsUtils","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k){function l(m){var n=Object.keys(m).sort(),o={};for(var p=0;p<n.length;++p){var q=n[p];o[q]=typeof m[q]==='number'?''+m[q]:m[q];}return JSON.stringify(o);}f.BaseCacheMechanism=h.createClass({isCached:k.thatReturnsFalse,getCache:k.thatReturnsNull,setCache:k.thatReturnsNull,invalidateCache:k.thatReturnsNull,clear:k.thatReturnsNull});f.InMemoryCacheMechanism=h.createClass({extend:f.BaseCacheMechanism,construct:function(){this._cache={};},isCached:function(m,n){return !!this.getCache(m,n);},getCache:function(m,n){var o=this._getBucket(m),p=this._computeSlotKey(m,n);return o.hasOwnProperty(p)&&o[p];},setCache:function(m,n,o){var p=this._getBucket(m);p[this._computeSlotKey(m,n)]=o;},invalidateCache:function(m,n){m.conflictDataCommands.forEach(function(o){delete this._cache[this._computeBucketKey(o)];},this);},clear:function(m){delete this._cache[m.dataCommandId];},_getBucket:function(m,n){var o=this._computeBucketKey(m);if(!this._cache[o])this._cache[o]={};g.isTruthy(this._cache[o],'Cache bucket is null even after initialization');return this._cache[o];},_computeBucketKey:function(m){return m.dataCommandId;},_computeSlotKey:function(m,n){var o=this._computeSlotKeyParameters(m,n);return l(o);},_computeSlotKeyParameters:function(m,n){var o=i.extend({},m.requiredParameters,m.optionalParameters);return j.mapIntersectKey(n,o);}});});
__d("AdsDaoDataPlan",["emptyFunction","invariant"],function(a,b,c,d,e,f,g,h){var i={fetch:true,thenFetch:true};function j(m,n){var o=n;for(var p=0;p<m.length;++p){var q=m[p];if(o&&o[q]){o=o[q];}else return undefined;}return o;}function k(m,n,o){var p,q;for(var r=0;r<m.length;++r){q=m[r];if(!n[q])n[q]={};p=n;n=n[q];}if(p&&q)p[q]=o;}var l=f.DataPlan={create:function(m){for(var n in m)h(l.isValidPlan(m[n]));return m;},execute:function(m,n,o){var p={},q={};l.executeCompoundPlan(m,[],q,function(r){n(r,p);},function(r){o&&o(r);},p);},executeCompoundPlan:function(m,n,o,p,q,r){var s=Object.keys(m).length;if(s===0)p(o);var t=function(w,x){if(r&&r[w]){var y=r[w];y.latency=Date.now()-y.startTime;if(x)y.subplans=x;}if(--s===0)p(o);},u=function(w){q&&q(w);};for(var v in m){if(r)r[v]={startTime:Date.now()};l.executeSubPlan(v,m[v],n.concat(v),o,t,u);}},executeSubPlan:function(m,n,o,p,q,r){if(l.isTerminalPlan(n)){l.executeTerminalPlan(n,o,p,function(t){l.set(o,t)(p);q(m);},function(t){r&&r(t);});}else{if(!l.evaluateCondition(n,p)){q(m);return;}var s={};l.executeCompoundPlan(n.fetch,o,p,function(){if(n.thenFetch){l.executeCompoundPlan(n.thenFetch,o,p,function(){q(m,s);},function(t){r&&r(t);},s);}else q(m,s);},function(t){r&&r(t);},s);}},executeTerminalPlan:function(m,n,o,p,q){if(!l.evaluateCondition(m,o)){p(undefined);return;}var r=l.evaluateParameters(m,o),s,t=function(u,v){q&&q({plan:m,path:n,partialResult:o,error:u,rawData:v});};if(m.blocking===false){s=g;p(undefined);}else s=function(u){var v=m.thenDo||g.thatReturnsArgument;p(v(u));};l.evaluateCommand(m,r,s,t);},isValidPlan:function(m){if(l.isTerminalPlan(m))return true;for(var n in i)if(m[n]&&!l.isValidPlan(m[n]))return false;return true;},isTerminalPlan:function(m){return m.command&&!m.fetch;},evaluateCondition:function(m,n){if(!m.hasOwnProperty('when'))return true;var o=m.when;if(typeof o==='function')return o(n);return o;},evaluateParameters:function(m,n){var o=m.parameters;if(!o)return {};var p={};for(var q in o){var r=o[q];p[q]=(typeof r==='function'?r(n):r);}return p;},evaluateCommand:function(m,n,o,p){var q=m.command;if(!q){o(undefined);return;}if(p)n.handleError=p;if(typeof q==='function'){q(o,n);}else if(m.multi){q.multi(o,n);}else q.one(o,n);},futureIndexOf:function(m,n){return function(o){var p=m(o);return p&&p[n];};},get:function(m){return function(n){return j(m.split('.'),n);};},set:function(m,n){return function(o){return k(m,o,n);};},not:function(m){if(typeof m==='function')return function(n){return !m(n);};return !m;}};});
/**
 * @providesModule Promise_EXPERIMENTAL
 * @preserve-header
 *! https://github.com/then/promise | Copyright (c) 2013 Forbes Lindesay
 */__d("Promise_EXPERIMENTAL",[],function(a,b,c,d,e,f){'use strict';e.exports=g;function g(j){if(typeof this!=='object')throw new TypeError('Promises must be constructed via new');if(typeof j!=='function')throw new TypeError('not a function');var k=null,l=null,m=[],n=this;this.then=function(s,t){return new g(function(u,v){o(new h(s,t,u,v));});};function o(s){if(k===null){m.push(s);return;}setTimeout(function(){var t=k?s.onFulfilled:s.onRejected;if(t===null){(k?s.resolve:s.reject)(l);return;}var u;try{u=t(l);}catch(v){s.reject(v);return;}s.resolve(u);},1);}function p(s){try{if(s===n)throw new TypeError('A promise cannot be resolved with itself.');if(s&&(typeof s==='object'||typeof s==='function')){var u=s.then;if(typeof u==='function'){i(u.bind(s),p,q);return;}}k=true;l=s;r();}catch(t){q(t);}}function q(s){k=false;l=s;r();}function r(){for(var s=0,t=m.length;s<t;s++)o(m[s]);m=null;}i(j,p,q);}function h(j,k,l,m){this.onFulfilled=typeof j==='function'?j:null;this.onRejected=typeof k==='function'?k:null;this.resolve=l;this.reject=m;}function i(j,k,l){var m=false;try{j(function(o){if(m)return;m=true;k(o);},function(o){if(m)return;m=true;l(o);});}catch(n){if(m)return;m=true;l(n);}}});
__d("AdsDao",["AdsDaoResult","Arbiter","adsDaoCaching","Promise_EXPERIMENTAL","emptyFunction","invariant","merge","bolt/core","bolt/util","AdsDaoEvents","AdsDaoDataPlan"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=b('AdsDaoEvents').Arbiter,q=b('AdsDaoEvents').ArbiterEvents,r=b('AdsDaoDataPlan').DataPlan,s=function(v,w,x){var y={parameters:v,rawData:w};if(x)y.commandName=x;p.inform(q.ERROR,y,h.BEHAVIOR_EVENT);},t=f.TransformParameterValue=n.createClass({construct:function(v){this._transformFunc=v||k.thatReturnsNull;},transformParameterValue:function(v){return this._transformFunc(v);}}),u=n.createClass({construct:function(){this._requests=[];},addRequest:function(v){this._requests.push(v);},fireCallbacks:function(v){for(var w=0;w<this._requests.length;++w)this._requests[w].callback(v);this._requests=[];}});f.DataCommand=n.createClass({constantParameters:{},requiredParameters:{},optionalParameters:{handleError:true},cacheMechanism:new i.BaseCacheMechanism(),handleError:function(){l(false);},execute:k.thatReturnsNull,one:function(v,w){this.execute(v,this._computeActualParameters(w));},promiseOne:function(v){return new j(function(w,x){function y(z,aa,ba){x({result:z,rawData:aa,actualParameters:ba});}this.one(w,m(v,{handleError:y}));}.bind(this));},multi:function(v,w){var x=w.requests,y=x.length;if(y===0)v&&v();var z=function(){if(--y===0)v&&v();};x.forEach(function(aa){var ba=function(ca){aa.callback&&aa.callback(ca);z();};this.one(ba,aa.parameters);},this);},clearCache:function(){this.cacheMechanism.clear(this);},isCached:function(v){return this.cacheMechanism.isCached(this,v);},getCache:function(v){return this.cacheMechanism.getCache(this,v);},setCache:function(v,w){this.cacheMechanism.setCache(this,v,w);},invalidateCache:function(v){var w=this.getCache(v);if(!(w instanceof u))this.cacheMechanism.invalidateCache(this,v);},_computeActualParameters:function(v){v=v||{};var w=o.extend({},this.constantParameters,v);this._verifyParameters(w);this._transformParameters(w);return w;},_verifyParameters:function(v){for(var w in this.requiredParameters)l(v[w]!=null);},_transformParameters:function(v){for(var w in v){var x=v[w];if(x instanceof t)v[w]=x.transformParameterValue(v);}}});f.DataProvider=n.createClass({extend:f.DataCommand,provideData:k.thatReturnsNull,validateData:k.thatReturns(g.SUCCESS),processData:k.thatReturnsArgument,execute:function(v,w){var x=function(y){var z=this.validateData(y);this.setCache(w,y);if(z===g.SUCCESS){v&&v(this.processData(y),y);}else{s(w,y,this.commandName);var aa=w.handleError||this.handleError;aa.call(this,z,y,w);}}.bind(this);if(this.isCached(w)){this._onCacheHit(w,x);}else this._onCacheMiss(w,x);},_onCacheHit:function(v,w){var x=this.getCache(v);if(x instanceof u){x.addRequest({callback:w});}else o.defer(w,x);},_onCacheMiss:function(v,w){var x=new u();x.addRequest({callback:w});this.setCache(v,x);this.provideData(v,function(y){x.fireCallbacks(y);});}});f.DataDownloadProvider=n.createClass({extend:f.DataCommand,downloadData:k.thatReturnsNull,execute:function(v,w){var x=function(y){var z=y;if(z){v&&v(z);}else{s(w,y,this.commandName);var aa=w.handleError||this.handleError;aa.call(this,z,y);}}.bind(this);this.downloadData(w,x);}});f.DataMutator=n.createClass({extend:f.DataCommand,mutateData:k.thatReturnsNull,validateData:k.thatReturns(g.SUCCESS),conflictDataCommands:[],execute:function(v,w){var x=function(y){var z=this.validateData(y);if(z===g.SUCCESS){this.invalidateCache(w);v&&v(y);}else{s(w,y,this.commandName);var aa=w.handleError||this.handleError;aa.call(this,z,y);}}.bind(this);this.mutateData(w,x);}});f.DataPlan=r;});
__d("AdsDaoGraphSpec",["AdsDaoResult","adsDaoCaching"],function(a,b,c,d,e,f,g,h){var i={requiredParameters:{endpoint:true},optionalParameters:{limit:true},validateData:function(j){if(!j){return g.NO_RESULT_RETURNED;}else if(j.error)return g.RESULT_HAS_ERROR;return g.SUCCESS;},handleError:function(j,k,l){},cacheMechanism:new h.InMemoryCacheMechanism()};e.exports=i;});
__d("adsDaoGraphDataMutator",["bolt/core","AdsDao","AdsDaoGraphSpec","merge","ads-lib-connect"],function(a,b,c,d,e,f,g,h,i,j){var k=b('ads-lib-connect').FB,l=g.createClass(j(i,{extend:h.DataMutator,mutateData:function(n,o){k.api(n.endpoint,'POST',n,o);}})),m=g.createClass(j(i,{extend:h.DataMutator,mutateData:function(n,o){k.api(n.endpoint,'DELETE',n,o);}}));f.GraphDataMutator=l;f.GraphDataRemover=m;});
__d("AdsDaoGraphBatcher",["AdsDaoGKCheck","AdsFBBatch","ads-lib-connect"],function(a,b,c,d,e,f,g,h){var i=b('ads-lib-connect').FB,j=null;function k(){j.run();j=null;}function l(n,o,p){if(!j){j=new h();setTimeout(k,0);}j.add(n,o.endpoint,o,function(q,r){p(q);r();});}var m={get:function(n,o){if(g.shouldAutoBatch){l('GET',n,o);}else i.api(n.endpoint,n,o);}};e.exports=m;});
__d("AdsDaoGraphDataProvider",["bolt/core","AdsDao","AdsDaoGraphBatcher","AdsDaoGraphSpec","merge"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.createClass(k(j,{extend:h.DataProvider,provideData:function(m,n){i.get(m,n);},processData:function(m){return m.data||m;},paged:function(m,n){var o=this;function p(q){return function(r,s){var t=s.paging&&s.paging.next;function u(v){o.execute(p(v),{endpoint:t});}q(r,t?u:null);};}this.one(p(m),n);}}));e.exports=l;});
__d("adsDaoGraphFetch",["bolt/util","AdsCreateFlowQueryLimits","AdsDao","AdsUtils","AdsAPISpec","adsDaoUtils","AdsDaoGraphDataProvider","adsDaoCaching","copyProperties","ads-destinationType"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=b('ads-destinationType').DEST_TYPE,q=i.TransformParameterValue,r=k.ACCOUNT_FIELDS,s=k.BRAND_FIELDS.map(j.underscoreKey),t=k.USER_APP_FIELDS.map(j.underscoreKey),u=k.BRAND_APP_FIELDS.map(j.underscoreKey),v=k.BRAND_PAGE_FIELDS.map(j.underscoreKey),w=k.USER_PAGE_FIELDS.map(j.underscoreKey),x=k.PAGE_POST_FIELDS.map(j.underscoreKey),y=k.CAMPAIGN_FIELDS.map(j.underscoreKey),z=k.ACTIVITY_LOG_FIELDS.map(j.underscoreKey),aa={anyIDs:l.createDataCommand(m,{requiredParameters:{ids:true},optionalParameters:{metadata:true,fields:true},constantParameters:{endpoint:'/'}}),picture:l.createDataCommand(m,{requiredParameters:{fbid:true},constantParameters:{endpoint:new q(function(da){return '/'+da.fbid+'/picture';})}}),creativesForAdgroupId:l.createDataCommand(m,{requiredParameters:{adgroupId:true,fields:true},constantParameters:{endpoint:new q(function(da){return '/'+da.adgroupId+'/adcreatives';})}}),adgroupsForCampaignGroup:l.createDataCommand(m,{requiredParameters:{campaignGroupID:true},optionalParameters:{offset:true,limit:true,include_deleted:true,after:true,filtering:true,sort:true},constantParameters:{endpoint:new q(function(da){return '/'+da.campaignGroupID+'/adgroups';})}}),adgroupsForCampaign:l.createDataCommand(m,{requiredParameters:{campaignID:true},optionalParameters:{offset:true,limit:true,include_deleted:true,after:true,filtering:true,sort:true},constantParameters:{endpoint:new q(function(da){return '/'+da.campaignID+'/adgroups';})}}),adgroupsForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},optionalParameters:{offset:true,limit:true,adgroup_ids:true,include_deleted:true,after:true,filtering:true,sort:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/adgroups';})}}),audiencesForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},optionalParameters:{fields:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/audiences';})}}),adsPixelsForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},optionalParameters:{fields:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/adspixels';}),fields:['id','code']}}),pixelInsights:l.createDataCommand(m,{requiredParameters:{pixelId:true},optionalParameters:{since:true,fields:true},constantParameters:{endpoint:new q(function(da){return '/'+da.pixelId+'/pixel_insights';})}}),ruleValidation:l.createDataCommand(m,{requiredParameters:{pixelId:true,rule:true},optionalParameters:{params:true},constantParameters:{endpoint:new q(function(da){return '/'+da.pixelId+'/rulevalidation';})}}),audienceStatuses:l.createDataCommand(m,{requiredParameters:{audienceID:true},constantParameters:{endpoint:new q(function(da){return '/'+da.audienceID+'/statuses';})}}),audienceUsageHistory:l.createDataCommand(m,{requiredParameters:{audienceID:true},constantParameters:{endpoint:new q(function(da){return '/'+da.audienceID+'/usage_history';}),fields:['time','action','extra_data']}}),contactsLists:l.createDataCommand(m,{requiredParameters:{accountId:true,third_party_data:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/emailimport';})}}),connectionObjectsForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/connectionobjects';})},optionalParameters:{business_id:true,non_business_only:true,offset:true,limit:true},processData:function(da){var ea=da.data.filter(function(fa){return fa.type!==p.DOMAIN;});return o({},da,{data:ea});}}),adConnectedApp:l.createDataCommand(m,{optionalParameters:{act:true,q:true},constantParameters:{endpoint:'/search',type:'adconnectedapp'}}),userInfo:l.createDataCommand(m,{constantParameters:{endpoint:'/me'}}),customaudiencestosForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/customaudiencestos';})}}),customAudiencesForAccountWithPaging:l.createDataCommand(m,{requiredParameters:{accountId:true,limit:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/customaudiences';})},optionalParameters:{before:true,after:true},processData:function(da){return da;}}),customAudiencesForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/customaudiences';}),fields:['id']}}),audience:l.createDataCommand(m,{requiredParameters:{audienceID:true},constantParameters:{endpoint:new q(function(da){return '/'+da.audienceID;})}}),adGroupsForCustomaudiences:l.createDataCommand(m,{requiredParameters:{audienceId:true},constantParameters:{endpoint:new q(function(da){return da.audienceId+'/adgroups?adgroup_status=[\'ACTIVE\']&fields=id,name';})}}),partnersForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/partners';})}}),accountsForAudience:l.createDataCommand(m,{requiredParameters:{audienceId:true},constantParameters:{endpoint:new q(function(da){return da.audienceId+'/adaccounts';})}}),pagesForBrand:l.createDataCommand(m,{requiredParameters:{brandID:true},constantParameters:{endpoint:new q(function(da){return '/'+da.brandID+'/pages';}),fields:v}}),appsForBrand:l.createDataCommand(m,{requiredParameters:{brandID:true},constantParameters:{endpoint:new q(function(da){return '/'+da.brandID+'/apps';}),fields:u}}),adaccountsForBrand:l.createDataCommand(m,{requiredParameters:{brandID:true},constantParameters:{endpoint:new q(function(da){return '/'+da.brandID+'/adaccounts';})}}),productFeedsForBrand:l.createDataCommand(m,{requiredParameters:{brandID:true},constantParameters:{endpoint:new q(function(da){return '/'+da.brandID+'/product_feeds';})}}),agenciesForBrand:l.createDataCommand(m,{requiredParameters:{brandID:true},constantParameters:{endpoint:new q(function(da){return '/'+da.brandID+'/agencies';})}}),clientsForBrand:l.createDataCommand(m,{requiredParameters:{brandID:true},constantParameters:{endpoint:new q(function(da){return '/'+da.brandID+'/clients';})}}),labelsForBrand:l.createDataCommand(m,{requiredParameters:{brandID:true},constantParameters:{endpoint:new q(function(da){return '/'+da.brandID+'/businesslabels';}),date_format:'U'}}),labelsForAsset:l.createDataCommand(m,{requiredParameters:{assetID:true},constantParameters:{endpoint:new q(function(da){return '/'+da.assetID+'/businesslabels';}),date_format:'U'}}),fundingSourcesForBrand:l.createDataCommand(m,{requiredParameters:{brandID:true},constantParameters:{endpoint:new q(function(da){return '/'+da.brandID+'/creditcards';})}}),userPermissionsForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},optionalParameters:{business:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/userpermissions';})}}),userPermissionsForPage:l.createDataCommand(m,{requiredParameters:{pageId:true},optionalParameters:{business:true},constantParameters:{endpoint:new q(function(da){return '/'+da.pageId+'/userpermissions';})}}),userPermissionsForApp:l.createDataCommand(m,{requiredParameters:{appId:true},optionalParameters:{business:true},constantParameters:{endpoint:new q(function(da){return '/'+da.appId+'/userpermissions';})}}),userPermissionsForProductFeed:l.createDataCommand(m,{requiredParameters:{productFeedId:true},optionalParameters:{business:true},constantParameters:{endpoint:new q(function(da){return '/'+da.productFeedId+'/userpermissions';})}}),rolesForAccount:l.createDataCommand(m,{constantParameters:{endpoint:new q(function(da){return '/adaccountroles';})},processData:function(da){return da.roles;}}),userPermissionsForBrand:l.createDataCommand(m,{requiredParameters:{brandID:true},optionalParameters:{user:true,fields:true},constantParameters:{endpoint:new q(function(da){return '/'+da.brandID+'/userpermissions';})},processData:function(da){return da.data;}}),pagesForUser:l.createDataCommand(m,{optionalParameters:{fields:true},constantParameters:{endpoint:'/me/accounts',type:'page',fields:w}}),accountsForUser:l.createDataCommand(m,{optionalParameters:{fields:true},constantParameters:{endpoint:'/me/adaccounts',fields:r}}),brandsForUser:l.createDataCommand(m,{optionalParameters:{fields:true},constantParameters:{endpoint:'/me/brands',fields:s}}),businessSettingLogForObject:l.createDataCommand(m,{requiredParameters:{objectId:true},optionalParameters:{business:true,since:true,until:true,limit:true,after:true},constantParameters:{endpoint:new q(function(da){return '/'+da.objectId+'/businesssettinglogs';}),date_format:'U'},processData:function(da){return da.data;}}),objectProfiles:l.createDataCommand(m,{requiredParameters:{ids:true},optionalParameters:{fields:true},constantParameters:{endpoint:new q(function(da){return '/';})}}),pagePostDetails:l.createDataCommand(m,{requiredParameters:{pageId:true,storyId:true},optionalParameters:{fields:true},constantParameters:{endpoint:new q(function(da){return '/'+da.pageId+"_"+da.storyId;}),fields:x}}),objectSearch:l.createDataCommand(m,{requiredParameters:{type:true,q:true},constantParameters:{endpoint:'/search',limit:h.AD_DEST_QUERY_LIMIT},optionalParameters:{fields:true}}),adsDestinationInfo:l.createDataCommand(m,{requiredParameters:{type:true,locale:true},constantParameters:{endpoint:'/search',type:'addestination',limit:h.AD_DEST_QUERY_LIMIT},optionalParameters:{account_id:true,object_id:true,object_url:true,q:true,forceMobileStore:true}}),adsCollege:l.createDataCommand(m,{requiredParameters:{q:true,locale:true},constantParameters:{endpoint:'/search',type:'adcollege'}}),adsCollegeMajor:l.createDataCommand(m,{requiredParameters:{q:true,locale:true},constantParameters:{endpoint:'/search',type:'adcollegemajor'}}),adsEducationSchools:l.createDataCommand(m,{requiredParameters:{q:true,locale:true},constantParameters:{endpoint:'/search',type:'adeducationschool'}}),adsEducationMajors:l.createDataCommand(m,{requiredParameters:{q:true,locale:true},constantParameters:{endpoint:'/search',type:'adeducationmajor'}}),adsWorkEmployers:l.createDataCommand(m,{requiredParameters:{q:true,locale:true},constantParameters:{endpoint:'/search',type:'adworkemployer'}}),adsWorkplace:l.createDataCommand(m,{requiredParameters:{q:true,locale:true},constantParameters:{endpoint:'/search',type:'adworkplace'}}),adsWorkPosition:l.createDataCommand(m,{requiredParameters:{q:true,locale:true},constantParameters:{endpoint:'/search',type:'adworkposition'}}),pagePromotablePostsForConnectionObject:l.createDataCommand(m,{requiredParameters:{objectId:true},optionalParameters:{until:true},constantParameters:{endpoint:new q(function(da){return '/'+da.objectId+'/promotable_posts';})}}),accessTokenForPage:l.createDataCommand(m,{requiredParameters:{pageId:true},constantParameters:{endpoint:new q(function(da){return '/'+da.pageId+'/';}),fields:'access_token'}}),imagesForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/adimages';})},optionalParameters:{hashes:true}}),videosForAccount:l.createDataCommand(m,{constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/advideos';})},optionalParameters:{fields:true}}),campaignsForCampaignGroup:l.createDataCommand(m,{requiredParameters:{campaignGroupID:true},optionalParameters:{include_completed:true,include_deleted:true,fields:true,limit:true,offset:true,after:true,filtering:true,sort:true},constantParameters:{endpoint:new q(function(da){return '/'+da.campaignGroupID+'/adcampaigns';}),fields:y},processData:function(da){var ea={};da.data.forEach(function(fa){fa.campaign_id=fa.id;ea[fa.id]=fa;});return ea;}}),campaignsForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},optionalParameters:{campaign_ids:true,include_completed:true,include_deleted:true,fields:true,limit:true,offset:true,after:true,filtering:true,sort:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/adcampaigns';}),fields:y},processData:function(da){var ea={};da.data.forEach(function(fa){fa.campaign_id=fa.id;ea[fa.id]=fa;});return ea;}}),campaignGroupsForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},optionalParameters:{fields:true,limit:true,after:true,filtering:true,sort:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/adcampaign_groups';})}}),stockImages:l.createDataCommand(m,{requiredParameters:{q:true},optionalParameters:{limit:true,offset:true},constantParameters:{endpoint:'/search',type:'adstockimage'}}),detailsForStockImage:l.createDataCommand(m,{requiredParameters:{image_id:true},constantParameters:{endpoint:new q(function(da){return '/'+da.image_id;})}}),userProfiles:l.createDataCommand(m,{requiredParameters:{ids:true},optionalParameters:{fields:true},constantParameters:{endpoint:new q(function(da){return '/';})},processData:function(da){return da;}}),asyncReportById:l.createDataCommand(m,{requiredParameters:{reportRunId:true},cacheMechanism:new n.BaseCacheMechanism(),constantParameters:{endpoint:new q(function(da){var ea=da.reportRunId;delete da.reportRunId;return '/'+ea;}),cacheBust:new q(function(){return Date.now()+'_'+Math.random();})}}),reportSpecsForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},optionalParameters:{},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/adreportspecs';})},processData:function(da){var ea=g.values(da.data);ea.forEach(l.transformIdToString);return ea;}}),reportStatsForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true,data_columns:true},optionalParameters:{time_increment:true,date_preset:true,time_interval:true,sort_by:true,sort_dir:true,offset:true,limit:true,actions_group_by:true,filters:true,asyncRunId:true},constantParameters:{endpoint:new q(function(da){var ea=da.asyncRunId;delete da.asyncRunId;var fa='/act_'+da.accountId+'/reportstats';if(ea)fa+='/'+ea;return fa;})},processData:function(da){var ea=da.data;if(!ea)return [];var fa=(da.paging&&da.paging.next&&ea.length===parseInt(da.limit,10))?parseInt(da.offset,10)+ea.length:-1;return {data:ea,summary:da.summary,nextOffset:fa};}}),reportStatsMetadataForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true,data_columns:true},optionalParameters:{time_increment:true,date_preset:true,time_interval:true,sort_by:true,sort_dir:true,offset:true,limit:true,actions_group_by:true,filters:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/reportstatsmetadata';})}}),reportAsyncRunsForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},optionalParameters:{limit:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/adreportruns';})}}),reportAsyncRunsForSchedule:l.createDataCommand(m,{requiredParameters:{scheduledReportId:true},constantParameters:{endpoint:new q(function(da){var ea=da.scheduledReportId;delete da.scheduledReportId;return '/'+ea+'/adreportruns';})}}),reportsScheduledForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},cacheMechanism:new n.BaseCacheMechanism(),constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/adreportschedules';}),cacheBust:new q(function(){return Date.now()+'_'+Math.random();})}}),estimatesForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true,targeting_spec:true},optionalParameters:{locale:true,currency:true,bid_for:true,creative_action_spec:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/reachestimate';})}}),estimatesForAdgroup:l.createDataCommand(m,{requiredParameters:{adgroupId:true,targeting_spec:true,locale:true},optionalParameters:{bid_for:true,creative_action_spec:true},constantParameters:{endpoint:new q(function(da){return '/'+da.adgroupId+'/reachestimate';})}}),targetingSentencesForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true,targeting_spec:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/targetingsentencelines';})}}),accountStats:l.createDataCommand(m,{requiredParameters:{accountId:true},optionalParameters:{end_time:true,fields:true,start_time:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/stats';})}}),accountInfo:l.createDataCommand(m,{requiredParameters:{accountId:true},optionalParameters:{fields:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId;}),fields:r}}),appInfo:l.createDataCommand(m,{requiredParameters:{appId:true},optionalParameters:{fields:true},constantParameters:{endpoint:new q(function(da){return '/'+da.appId;}),fields:t}}),brandInfo:l.createDataCommand(m,{requiredParameters:{brandID:true},constantParameters:{endpoint:new q(function(da){return '/'+da.brandID;}),fields:s,date_format:'U'}}),bctDataForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},optionalParameters:{remove_interest_categories:true,custom_categories_only:true,broad_categories_only:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/broadtargetingcategories';})}}),partnerCategoriesForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},optionalParameters:{locale:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/partnercategories';}),limit:2000}}),adGeoLocationMetaInfo:l.createDataCommand(m,{requiredParameters:{locale:true},optionalParameters:{countries:true,regions:true,cities:true,zips:true},constantParameters:{endpoint:'/search',type:'adgeolocationmeta'}}),adCountryValidation:l.createDataCommand(m,{requiredParameters:{q:true},optionalParameters:{locale:true},constantParameters:{endpoint:'/search',type:'adgeolocation',location_types:['country']}}),adRegionValidation:l.createDataCommand(m,{requiredParameters:{q:true},optionalParameters:{locale:true},constantParameters:{endpoint:'/search',type:'adgeolocation',location_types:['region']}}),adCityValidation:l.createDataCommand(m,{requiredParameters:{q:true},optionalParameters:{locale:true},constantParameters:{endpoint:'/search',type:'adgeolocation',location_types:['city']}}),adZipValidation:l.createDataCommand(m,{requiredParameters:{q:true},optionalParameters:{locale:true},constantParameters:{endpoint:'/search',type:'adgeolocation',location_types:['zip']}}),adKeyword:l.createDataCommand(m,{requiredParameters:{q:true},constantParameters:{endpoint:'/search',type:'adKeyword'}}),adKeywordValid:l.createDataCommand(m,{requiredParameters:{keyword_list:true},constantParameters:{endpoint:'/search',type:'adkeywordvalid'}}),adKeywordSuggestion:l.createDataCommand(m,{requiredParameters:{locale:true,keyword_list:true,offset:true},constantParameters:{endpoint:'/search',type:'adkeywordsuggestion',limit:h.AD_KEYWORD_SUGGESTION_QUERY_LIMIT}}),adInterest:l.createDataCommand(m,{requiredParameters:{q:true},constantParameters:{endpoint:'/search',type:'adInterest'}}),adInterestValid:l.createDataCommand(m,{optionalParameters:{interest_list:true,interest_fbid_list:true,ignore_case:true,locale:true},constantParameters:{endpoint:'/search',type:'adInterestValid'}}),adInterestSuggestion:l.createDataCommand(m,{requiredParameters:{interest_list:true},optionalParameters:{locale:true,offset:true},constantParameters:{endpoint:'/search',type:'adInterestSuggestion',limit:h.AD_KEYWORD_SUGGESTION_QUERY_LIMIT}}),adInterestCategory:l.createDataCommand(m,{optionalParameters:{locale:true},constantParameters:{endpoint:'/search',type:'adInterestCategory'}}),adTargetingCategory:l.createDataCommand(m,{optionalParameters:{locale:true,'class':true},constantParameters:{endpoint:'/search',type:'adTargetingCategory'}}),languages:l.createDataCommand(m,{requiredParameters:{locale:true},optionalParameters:{q:true},constantParameters:{endpoint:'/search',type:'adlocale',limit:h.AD_COUNTRY_QUERY_LIMIT}}),countries:l.createDataCommand(m,{requiredParameters:{locale:true},constantParameters:{endpoint:'/search',type:'adcountry',limit:h.AD_COUNTRY_QUERY_LIMIT},processData:function(da){return j.indexedMap(da.data,'country_code','name');}}),geolocation:l.createDataCommand(m,{requiredParameters:{locale:true,q:true},optionalParameters:{country_code:true,region_id:true},constantParameters:{endpoint:'/search',type:'adgeolocation'}}),customAudiencesSearch:l.createDataCommand(m,{requiredParameters:{q:true,account_id:true},constantParameters:{endpoint:'/search',type:'customaudience'}}),objectByFBID:l.createDataCommand(m,{requiredParameters:{fbid:true},optionalParameters:{fields:true},constantParameters:{endpoint:new q(function(da){return '/'+da.fbid;})}}),adgroupForCF:l.createDataCommand(m,{requiredParameters:{adgroupId:true,locale:true},constantParameters:{endpoint:new q(function(da){return '/'+da.adgroupId;}),fields:new q(function(da){return k.getAdGroupFieldsForCF(da.isCampaignGroupAware);})}}),validateAccountIDs:l.createDataCommand(m,{requiredParameters:{adaccounts:true},constantParameters:{endpoint:'/search',type:'adaccountvalid'}}),pixelsForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/offsitepixels';}),limit:500},processData:function(da){return da.data;}}),geoPolygons:l.createDataCommand(m,{requiredParameters:{q:true,geo_type:true},constantParameters:{endpoint:'/search',type:'adgeopolygons'}}),logsForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true,locale:true},optionalParameters:{since:true,until:true,uid:true,oid:true,business_id:true,category:true,after:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/activities';}),date_format:'U',limit:200,fields:z},processData:function(da){return {data:da.data,after:da.paging?da.paging.cursors.after:null};}}),seedEstimateForAccount:l.createDataCommand(m,{requiredParameters:{accountId:true,country_code:true},optionalParameters:{ad_ids:true,conversion_type:true,pixel_ids:true},constantParameters:{endpoint:new q(function(da){return '/act_'+da.accountId+'/conversionseedestimate';})}})};for(var ba in aa){var ca=aa[ba];if(ca)ca.commandName='fetch_'+ba;}f.fetch=aa;});
__d("adsDaoGraphMutate",["AdsDao","adsDaoUtils","adsDaoGraphDataMutator","adsDaoGraphFetch"],function(a,b,c,d,e,f,g,h,i){var j=g.TransformParameterValue,k=i.GraphDataMutator,l=i.GraphDataRemover,m=b('adsDaoGraphFetch').fetch,n={imageForAccount:h.createDataCommand(k,{requiredParameters:{accountId:true,bytes:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/adimages';})},conflictDataCommands:[m.imagesForAccount]}),updateAccount:h.createDataCommand(k,{requiredParameters:{accountId:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId;})}}),updateAdgroup:h.createDataCommand(k,{requiredParameters:{adgroupId:true},optionalParameters:{locale:true},constantParameters:{endpoint:new j(function(q){return '/'+q.adgroupId;})}}),updateBrand:h.createDataCommand(k,{requiredParameters:{brandID:true},constantParameters:{endpoint:new j(function(q){var r=q.brandID;delete q.brandID;return '/'+r;})}}),activateCoupon:h.createDataCommand(k,{requiredParameters:{accountId:true,coupon_code:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/coupons';})}}),updateCampaignGroup:h.createDataCommand(k,{requiredParameters:{campaignGroupId:true},optionalParameters:{campaign_group_status:true,name:true},constantParameters:{endpoint:new j(function(q){return '/'+q.campaignGroupId;})}}),updateCampaign:h.createDataCommand(k,{requiredParameters:{campaignId:true},optionalParameters:{name:true,daily_budget:true,campaign_status:true},constantParameters:{endpoint:new j(function(q){return '/'+q.campaignId;})}}),updateLabel:h.createDataCommand(k,{requiredParameters:{labelID:true},optionalParameters:{name:true},constantParameters:{endpoint:new j(function(q){return '/'+q.labelID;})}}),audiencesImport:h.createDataCommand(k,{requiredParameters:{accountId:true,name:true,third_party_data:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/emailimport';})}}),createLookalikeCluster:h.createDataCommand(k,{requiredParameters:{accountId:true,origin_audience_id:true,lookalike_spec:true},optionalParameters:{name:true,description:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/customaudiences';})}}),createCustomAudience:h.createDataCommand(k,{requiredParameters:{accountId:true,name:true},optionalParameters:{opt_out_link:true,rev_share_policy_id:true,is_category:true,parent_audience_id:true,creation_params:true,description:true,details:true,source:true,isPrivate:true,additionalMetadata:true,countries:true,minAge:true,maxAge:true,expectedSize:true,gender:true,partner_reference_key:true,subtype:true,partnerID:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/customaudiences';})}}),addUsersToCustomAudience:h.createDataCommand(k,{requiredParameters:{audienceID:true,users:true,hash_type:true},constantParameters:{endpoint:new j(function(q){return '/'+q.audienceID+'/users';})}}),uploadUsersToCustomAudience:h.createDataCommand(k,{requiredParameters:{audienceID:true,payload:true,session:true},constantParameters:{endpoint:new j(function(q){return '/'+q.audienceID+'/upload';})}}),createWebRemarketingCustomAudience:h.createDataCommand(k,{requiredParameters:{accountId:true,name:true,retention_days:true},optionalParameters:{opt_out_link:true,rev_share_policy_id:true,is_category:true,parent_audience_id:true,creation_params:true,rule:true},constantParameters:{subtype:'website',endpoint:new j(function(q){return '/act_'+q.accountId+'/customaudiences';})}}),createAdsPixel:h.createDataCommand(k,{requiredParameters:{accountId:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/adspixels';})}}),createMobileAppRemarketingCustomAudience:h.createDataCommand(k,{requiredParameters:{accountId:true,name:true,retention_days:true,rule:true},optionalParameters:{opt_out_link:true,rev_share_policy_id:true,is_category:true,parent_audience_id:true,creation_params:true},constantParameters:{subtype:'app',endpoint:new j(function(q){return '/act_'+q.accountId+'/customaudiences';})}}),createMobileAppCombinationCustomAudience:h.createDataCommand(k,{requiredParameters:{accountId:true,name:true,inclusions:true},optionalParameters:{exclusions:true,opt_out_link:true,rev_share_policy_id:true,is_category:true,parent_audience_id:true,creation_params:true},constantParameters:{subtype:'combination',endpoint:new j(function(q){return '/act_'+q.accountId+'/customaudiences';})}}),createActionsLookalike:h.createDataCommand(k,{requiredParameters:{accountId:true,lookalike_spec:true},optionalParameters:{name:true,description:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/customaudiences';})}}),createConversionPixel:h.createDataCommand(k,{requiredParameters:{accountId:true,name:true},optionalParameters:{tag:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/offsitepixels';})},conflictDataCommands:[m.pixelsForAccount]}),unpublishedPagePost:h.createDataCommand(k,{requiredParameters:{access_token:true,link:true,message:true,name:true,pageId:true},optionalParameters:{description:true,picture:true,image_crops:true},constantParameters:{endpoint:new j(function(q){return '/'+q.pageId+'/feed';}),published:false}}),reportSpecs:h.createDataCommand(k,{requiredParameters:{accountId:true,name:true},optionalParameters:{data_columns:true,export_columns:true,date_preset:true,filters:true,time_increment:true,sort_by:true,sort_dir:true,time_interval:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/adreportspecs';})}}),scheduleReport:h.createDataCommand(k,{requiredParameters:{accountId:true,name:true,schedule_frequency:true,status:true,emails:true},optionalParameters:{actions_group_by:true,data_columns:true,date_preset:true,filters:true,time_increment:true,sort_by:true,sort_dir:true,time_interval:true,report_spec_id:true,start_date:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/adreportschedules';})}}),addPagesToBrand:h.createDataCommand(k,{requiredParameters:{brandID:true,page_id:true,access_type:true},optionalParameters:{add_current_users:true,permitted_roles:true},constantParameters:{endpoint:new j(function(q){return '/'+q.brandID+'/pages';})}}),addAccountsToBrand:h.createDataCommand(k,{requiredParameters:{brandID:true,adaccount_id:true},optionalParameters:{add_current_users:true},constantParameters:{access_type:'OWNER',endpoint:new j(function(q){return '/'+q.brandID+'/adaccounts';})}}),createAdgroup:h.createDataCommand(k,{requiredParameters:{accountId:true,bid_type:true,campaign_id:true,max_bid:true,name:true},optionalParameters:{bid_info:true,conversion_specs:true,creative:true,targeting:true,tracking_pixel_ids:true,tracking_specs:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/adgroups';})}}),createCampaign:h.createDataCommand(k,{requiredParameters:{accountId:true,name:true},optionalParameters:{start_time:true,end_time:true,daily_budget:true,campaign_status:true,lifetime_budget:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/adcampaigns';})}}),createAdAccount:h.createDataCommand(k,{requiredParameters:{brandID:true,name:true,timezone_id:true,currency:true,end_advertiser:true,media_agency:true,partner:true},optionalParameters:{funding_id:true},constantParameters:{endpoint:new j(function(q){return '/'+q.brandID+'/adaccount';})}}),addBrandToUser:h.createDataCommand(k,{requiredParameters:{name:true,timezone_id:true,primary_page:true},optionalParameters:{vertical_id:true,salesforce_id:true,sync_with_crm:true,add_primary_page_users:true},constantParameters:{endpoint:'/me/brands'}}),addSharedLoginToBrand:h.createDataCommand(k,{requiredParameters:{brandID:true,email:true},constantParameters:{endpoint:new j(function(q){return '/'+q.brandID+'/add_shared_login';})}}),updateAccountPermission:h.createDataCommand(k,{requiredParameters:{users:true,accountId:true},optionalParameters:{acting_brand_id:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/permissions';})}}),updatePagePermission:h.createDataCommand(k,{requiredParameters:{users:true,pageId:true},optionalParameters:{acting_brand_id:true},constantParameters:{endpoint:new j(function(q){return '/'+q.pageId+'/permissions';})}}),acceptAgencyAdAccountPermRequest:h.createDataCommand(k,{requiredParameters:{accountId:true,business:true,permitted_roles:true},optionalParameters:{acting_brand_id:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/agencies';})}}),acceptAgencyPagePermRequest:h.createDataCommand(k,{requiredParameters:{pageId:true,business:true,permitted_roles:true},optionalParameters:{acting_brand_id:true},constantParameters:{endpoint:new j(function(q){return '/'+q.pageId+'/agencies';})}}),updateBrandPermission:h.createDataCommand(k,{requiredParameters:{brandID:true},optionalParameters:{users:true,emails:true},constantParameters:{endpoint:new j(function(q){return '/'+q.brandID+'/permissions';})}}),updateBrandUserPermission:h.createDataCommand(k,{requiredParameters:{brandID:true},optionalParameters:{user:true,email:true},constantParameters:{endpoint:new j(function(q){return '/'+q.brandID+'/userpermissions';})}}),requestAccessToObject:h.createDataCommand(k,{requiredParameters:{clients:true,brandID:true},constantParameters:{endpoint:new j(function(q){return '/'+q.brandID+'/permissions';})}}),createLabelForBrand:h.createDataCommand(k,{requiredParameters:{brandID:true,name:true},constantParameters:{endpoint:new j(function(q){return '/'+q.brandID+'/businesslabels';})}}),acceptCustomAudiencesTos:h.createDataCommand(k,{requiredParameters:{accountId:true,tos_id:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/customaudiencestos';})}}),accountsForAudience:h.createDataCommand(k,{requiredParameters:{audienceId:true,adaccounts:true},constantParameters:{endpoint:new j(function(q){return '/'+q.audienceId+'/adaccounts';})}}),createNewSavedTargetSpec:h.createDataCommand(k,{requiredParameters:{accountId:true,targeting_spec:true,name:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/audiences';})}})};f.remove={objectByFBID:h.createDataCommand(l,{requiredParameters:{fbid:true},optionalParameters:{fields:true},constantParameters:{endpoint:new j(function(q){return '/'+q.fbid;})}}),audience:h.createDataCommand(l,{requiredParameters:{audienceId:true},constantParameters:{endpoint:new j(function(q){return '/'+q.audienceId;})}}),brand:h.createDataCommand(l,{requiredParameters:{brandID:true},constantParameters:{endpoint:new j(function(q){return '/'+q.brandID;})}}),removeAccountPermission:h.createDataCommand(l,{requiredParameters:{business:true,accountId:true},optionalParameters:{user:true,email:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/userpermissions';})}}),removeProductFeedPermission:h.createDataCommand(l,{requiredParameters:{business:true,productFeedId:true},optionalParameters:{user:true,email:true},constantParameters:{endpoint:new j(function(q){return q.productFeedId+'/userpermissions';})}}),removePagePermission:h.createDataCommand(l,{requiredParameters:{business:true,pageId:true},optionalParameters:{user:true,email:true},constantParameters:{endpoint:new j(function(q){return '/'+q.pageId+'/userpermissions';})}}),removeAppPermission:h.createDataCommand(l,{requiredParameters:{business:true,appId:true},optionalParameters:{user:true,email:true},constantParameters:{endpoint:new j(function(q){return '/'+q.appId+'/userpermissions';})}}),removeAgencyPagePermRequest:h.createDataCommand(l,{requiredParameters:{pageId:true,business:true},optionalParameters:{acting_brand_id:true},constantParameters:{endpoint:new j(function(q){return '/'+q.pageId+'/agencies';})}}),removeAgencyAdAccountPermission:h.createDataCommand(l,{requiredParameters:{accountId:true,business:true},optionalParameters:{acting_brand_id:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/agencies';})}}),removeClient:h.createDataCommand(l,{requiredParameters:{brandId:true,business:true},constantParameters:{endpoint:new j(function(q){return '/'+q.brandId+'/clients';})}}),removeAgency:h.createDataCommand(l,{requiredParameters:{brandId:true,agencies:true},constantParameters:{endpoint:new j(function(q){return '/'+q.brandId+'/permissions';})}}),removeAgencyPagePermission:h.createDataCommand(l,{requiredParameters:{pageId:true,agencies:true},optionalParameters:{acting_brand_id:true},constantParameters:{endpoint:new j(function(q){return '/'+q.pageId+'/permissions';})}}),removeBrandPermission:h.createDataCommand(l,{requiredParameters:{brandID:true},optionalParameters:{users:true,emails:true,clients:true},constantParameters:{endpoint:new j(function(q){return '/'+q.brandID+'/permissions';})}}),removeBrandUserPermission:h.createDataCommand(l,{requiredParameters:{brandID:true},optionalParameters:{user:true,email:true},constantParameters:{endpoint:new j(function(q){return '/'+q.brandID+'/userpermissions';})}}),removeBusinessFromUser:h.createDataCommand(l,{requiredParameters:{userID:true,business:true},constantParameters:{endpoint:new j(function(q){return '/'+q.userID+'/businesses';})}}),removePageFromLabel:h.createDataCommand(l,{requiredParameters:{label_id:true,page_id:true},constantParameters:{endpoint:new j(function(q){return '/'+q.label_id+'/pages';})}}),removeAdAccountFromLabel:h.createDataCommand(l,{requiredParameters:{label_id:true,adaccount_id:true},constantParameters:{endpoint:new j(function(q){return '/'+q.label_id+'/adaccounts';})}}),reportSpecs:h.createDataCommand(l,{requiredParameters:{reportSpecId:true},constantParameters:{endpoint:new j(function(q){return '/'+q.reportSpecId;})}}),reportAsyncRun:h.createDataCommand(l,{requiredParameters:{reportRunId:true},constantParameters:{endpoint:new j(function(q){return '/'+q.reportRunId;})}}),completedReportAsyncRuns:h.createDataCommand(l,{requiredParameters:{accountId:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId+'/adreportruns';})}}),scheduledReport:h.createDataCommand(l,{requiredParameters:{scheduledReportId:true},constantParameters:{endpoint:new j(function(q){var r=q.scheduledReportId;delete q.scheduledReportId;return '/'+r;})}}),accountsForBrand:h.createDataCommand(l,{requiredParameters:{brandID:true,adaccount_id:true},constantParameters:{endpoint:new j(function(q){return '/'+q.brandID+'/adaccounts';})}}),appsForBrand:h.createDataCommand(l,{requiredParameters:{app_id:true},constantParameters:{endpoint:new j(function(q){return '/'+q.brandID+'/apps';})}}),pagesForBrand:h.createDataCommand(l,{requiredParameters:{brandID:true,page_id:true},constantParameters:{endpoint:new j(function(q){return '/'+q.brandID+'/pages';})}}),label:h.createDataCommand(l,{requiredParameters:{labelID:true},constantParameters:{endpoint:new j(function(q){return '/'+q.labelID;})}}),accountsForAudience:h.createDataCommand(l,{requiredParameters:{audienceId:true,adaccounts:true},constantParameters:{endpoint:new j(function(q){return '/'+q.audienceId+'/adaccounts';})}})};f.mutate={brandPersona:h.createDataCommand(k,{requiredParameters:{personaId:true},optionalParameters:{first_name:true,last_name:true,email:true},constantParameters:{endpoint:new j(function(q){return '/'+q.personaId;})}}),customAudience:h.createDataCommand(k,{requiredParameters:{id:true},optionalParameters:{name:true,description:true,rule:true,opt_out_link:true},constantParameters:{endpoint:new j(function(q){var r='/'+q.id;delete q.id;return r;})}}),reportSpecs:h.createDataCommand(k,{requiredParameters:{id:true},optionalParameters:{data_columns:true,export_columns:true,date_preset:true,filters:true,time_increment:true,sort_by:true,sort_dir:true,time_interval:true},constantParameters:{endpoint:new j(function(q){var r='/'+q.id;delete q.id;return r;})}}),reportStatsForAccountAsync:h.createDataCommand(k,{requiredParameters:{accountId:true,data_columns:true},optionalParameters:{time_increment:true,date_preset:true,time_interval:true,sort_by:true,sort_dir:true,offset:true,limit:true,actions_group_by:true,filters:true},constantParameters:{async:true,endpoint:new j(function(q){return '/act_'+q.accountId+'/reportstats';})}}),updateAsyncReport:h.createDataCommand(k,{requiredParameters:{reportRunId:true},optionalParameters:{emails:true,is_bookmarked:true},constantParameters:{endpoint:new j(function(q){var r=q.reportRunId;delete q.reportRunId;return '/'+r;})}}),updateAccount:h.createDataCommand(k,{requiredParameters:{accountId:true},optionalParameters:{timezone_id:true,currency:true},constantParameters:{endpoint:new j(function(q){return '/act_'+q.accountId;})}}),scheduledReport:h.createDataCommand(k,{requiredParameters:{scheduledReportId:true,name:true,schedule_frequency:true,status:true,emails:true},optionalParameters:{actions_group_by:true,data_columns:true,date_preset:true,filters:true,time_increment:true,sort_by:true,sort_dir:true,time_interval:true,report_spec_id:true,start_date:true},constantParameters:{endpoint:new j(function(q){var r=q.scheduledReportId;delete q.scheduledReportId;return '/'+r;})}}),sharedAccountsForAudience:h.createDataCommand(k,{requiredParameters:{audienceID:true,adaccounts:true},constantParameters:{endpoint:new j(function(q){return '/'+q.audienceID+'/adaccounts';}),replace:true}}),savedTargetSpec:h.createDataCommand(k,{requiredParameters:{audienceId:true},optionalParameters:{name:true,targeting:true},constantParameters:{endpoint:new j(function(q){var r='/'+q.audienceId;return r;})}})};for(var o in n){var p=n[o];if(p)p.commandName='add_'+o;}f.add=n;});
__d("AdsDaoGraphDataDownloadProvider",["bolt/core","bolt/util","AdsDaoGraphSpec","AdsDao","ads-lib-connect"],function(a,b,c,d,e,f,g,h,i,j){var k=b('ads-lib-connect').FB,l=h.extend({},i,{extend:j.DataDownloadProvider,downloadData:function(n,o){var p=n.target_window||"_blank";delete n.target_window;var q={};h.extend(q,n);var r=q.endpoint;delete q.endpoint;var s=q.access_token;delete q.access_token;var t=k.url(r,q,s);window.open(t,p);o&&o(true);},processData:function(n){return n;}}),m=g.createClass(l);e.exports=m;});
__d("adsDaoGraphDownload",["copyProperties","adsDaoUtils","AdsDaoGraphDataDownloadProvider","adsDaoGraphFetch"],function(a,b,c,d,e,f,g,h,i){var j=b('adsDaoGraphFetch').fetch,k={reportStatsForAccount:h.createDataCommand(i,{requiredParameters:g({format:true},(j.reportStatsForAccount&&j.reportStatsForAccount.requiredParameters)),optionalParameters:(j.reportStatsForAccount&&j.reportStatsForAccount.optionalParameters),constantParameters:(j.reportStatsForAccount&&j.reportStatsForAccount.constantParameters)})};for(var l in k){var m=k[l];if(m)m.commandName='download_'+l;}f.download=k;});
__d("AdsDaoGraph",["adsDaoGraphPrimed","adsDaoGraphMutate","adsDaoGraphDownload","adsDaoGraphFetch"],function(a,b,c,d,e,f,g,h,i,j){var k={fetch:j.fetch,add:h.add,remove:h.remove,mutate:h.mutate,download:i.download,primedForAccount:g.forAccount,primedForLocale:g.forLocale,primedForBrand:g.forBrand,primedForBrandDashboard:g.forBrandDashboard,primedForGeoLocation:g.forGeoLocation};e.exports=k;});
__d("AdsCFPrimedDao",["AdsCFConnectConfig","AdsDaoGraph","ApiClient","CurrentLocale"],function(a,b,c,d,e,f,g,h,i,j){i.setClientID(g.client_id);i.setAccessToken(g.access_token);h.primedForLocale(j.get());var k={},l={getInstanceForAccount:function(m){if(!k[m])k[m]=h.primedForLocale(j.get()).primedForAccount(m);return k[m];}};e.exports=l;});
__d("AdsCreationExperiments",["AdsCreationExperimentsConfig","AsyncRequest","URIInitDataUtil","invariant"],function(a,b,c,d,e,f,g,h,i,j){var k='/ajax/ads/experiment/exposure/',l=function(n,o){var p=false;return {getParam:function(q){return o.params&&o.params[q];},getParamBool:function(q){var r=this.getParam(q);if(!r||r==='false')return false;var s=parseInt(r,10);if(isNaN(s))return true;return !!s;},getGroup:function(){return o.group;},getInExperiment:function(){return o.in_experiment;},logExposure:function(q){if(p)return;p=true;var r=new h(k),s={qe_name:n,data:q};r.setData(s).send();}};},m={_experiments:{},getExperiment:function(n){if(!this._experiments[n])this._experiments[n]=l(n,g[n]||{});return this._experiments[n];}};e.exports=m;});
__d("whitelistObjectKeys",[],function(a,b,c,d,e,f){function g(h,i){var j={},k=Array.isArray(i)?i:Object.keys(i);for(var l=0;l<k.length;l++)if(typeof h[k[l]]!=='undefined')j[k[l]]=h[k[l]];return j;}e.exports=g;});
__d("AdsCFAccountStore",["AdsAccountCapabilities","AdsActionTypes","AdsCFActionTypes","AdsCFPrimedDao","AdsCountries","AdsCreationConfig","AdsCreationExperiments","AdsDispatcher","AdsPayloadSource","AdsTimezone","Arbiter","ImmutableObject","URI","adsGKCheck","arrayContains","copyProperties","invariant","merge","whitelistObjectKeys","AdsCFConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){var z=b('AdsCFConstants').AccountStatus,aa='USD',ba=1,ca=[z.DISABLED,z.PENDING_CLOSURE,z.UNSETTLED],da,ea,fa,ga;function ha(){da=false;ea={};fa={};}ha();var ia=v(new q(),{getState:function(){var ra=x(ea);ra.isConfigured=ja();return new r(ra);},getInitialState:function(){return new r(fa);},getAccountID:function(){return ea.accountID;},canCreateAds:function(){var ra=ca.indexOf(ea.accountStatus)===-1;if(!t('ads_payments_closed_accounts_v1_1'))return ra;if(ea.accountStatus!==z.CLOSED)return ra;var sa=m.getExperiment('ads_payments_closed_accounts_v1_1');sa.logExposure();return !sa.getParamBool('test');},hasAccountCapability:function(ra){return ma(ea,ra);},isCampaignGroupAware:function(){return !!ga;},getBasedInUS:function(){return ea.country==='US';},getDao:function(){return j.getInstanceForAccount(ea.accountID);},dispatchToken:n.register(function(ra){var sa=ra.action;switch(sa.actionType){case i.INIT_STARTED:ga=!!sa.l3_rollout_gk;break;case i.ACCOUNT_INIT:la(sa);break;case i.CHANGE_ACCOUNT_COUNTRY:var ta={country:sa.country,timezoneID:p.countryCodeToTimezoneIDsMap[sa.country][0]},ua=m.getExperiment('update_currency_on_change_country').getParam('test')==1;if(ua&&!da){ta.currency=k.getCurrencyByCountry(sa.country);ka(ta,{country:null,timezoneID:null,currency:null});}else ka(ta,{country:null,timezoneID:null});break;case i.CHANGE_ACCOUNT_CURRENCY:ka(sa,{currency:null});da=ra.payloadsource===o.VIEW_ACTION;break;case i.CHANGE_ACCOUNT_TIMEZONE_ID:ka(sa,{timezoneID:null});break;case i.CONVERSION_PIXELS_CHANGE:ka(sa,{pixels:null});break;case i.OFFSITE_PIXELS_TOS_ACCEPTED:ea=x(ea,{isOffsitePixelsTOSAccepted:true});break;case i.COUPON_ACTIVATED:ka(sa,{couponActivationResponse:null});if(sa.couponActivationResponse.success)qa();break;case i.CHANGE_FUNDING_SOURCE:ka(sa,{fundingSourceDetails:null});break;case h.PAGE_TRANSITION:ha();break;}})});function ja(){return !!(ea.dailySpendLimit||ma(ea,g.DIRECT_SALES));}function ka(ra,sa){ea=x(ea,y(ra,sa));ia.inform('change');}function la(ra){var sa=ra.accountConfig,ta=ma(sa,g.CAN_UPDATE_CURRENCY),ua=sa.country,va=sa.currency,wa=sa.timezone_id;if(ta){if(va===aa&&l.userLocalCurrencyCode!==aa)va=l.userLocalCurrencyCode||va;if(wa===ba&&l.userLocalTimezoneID!==ba)wa=l.userLocalTimezoneID||wa;ua=sa.business_country_code||l.userLocalCountryCode||ua||'US';}ea=x(ea,{accountID:sa.account_id,age:sa.age,amountSpent:sa.amount_spent,businessCountryCode:sa.business_country_code,capabilities:sa.capabilities,country:ua,currency:va,dailySpendLimit:sa.daily_spend_limit,fundingSource:sa.funding_source,fundingSourceDetails:sa.funding_source_details,id:sa.id,isAllowedToEditCurrency:ta,isOffsitePixelsTOSAccepted:sa.offsite_pixels_tos_accepted,tosAccepted:sa.tos_accepted,minDailyBudget:sa.min_daily_budget,mooDefaultConversionBid:sa.moo_default_conversion_bid,name:sa.name,accountStatus:sa.account_status,spendCap:sa.spend_cap,timezoneID:wa,timezoneOffsetHours:sa.timezone_offset_hours_utc,users:sa.users});ea.timezoneOffsetHours=ea.timezoneOffsetHours||0;ia.inform('change');na();pa();fa=x(ea);}function ma(ra,sa){w(sa in g);return !!(ra&&ra.capabilities&&u(ra.capabilities,sa));}function na(){ia.getDao().fetch.pixelsForAccount.one(function(ra){n.handleUpdateFromServerResponse({actionType:i.CONVERSION_PIXELS_CHANGE,pixels:ra});}.bind(this));}var oa;function pa(){var ra=s.getRequestURI().getQueryData().coupon;if(!ra||oa)return;oa=true;var sa=m.getExperiment('ads_creation_streamline_coupon_3');if(sa.getInExperiment())sa.logExposure();if(!sa.getInExperiment()||sa.getParam('in_test')==='0')return;ia.getDao().add.activateCoupon.one(function(ta){n.handleUpdateFromServerResponse({actionType:i.COUPON_ACTIVATED,couponActivationResponse:ta});}.bind(this),{accountId:ea.accountID,coupon_code:ra});}function qa(){var ra=ia.getDao();ra.fetch.accountInfo.clearCache();ra.fetch.accountInfo.one(function(sa){n.handleUpdateFromServerResponse({actionType:i.CHANGE_FUNDING_SOURCE,fundingSourceDetails:sa.funding_source_details});}.bind(this),{accountId:ea.accountID,fields:'funding_source_details'});}e.exports=ia;});
__d("ads-lib-pagePostUtils",["invariant"],function(a,b,c,d,e,f,g){var h=function(j){if(!j)return null;if(typeof j!=='string')j=j.toString();return j;},i={generatePagePostId:function(j,k){return j+"_"+k;},isPagePostId:function(j){j=h(j);if(!j)return false;var k=j.split('_');return k.length===2;},getPageIdFromPagePostId:function(j){j=h(j);if(!j)return null;var k=j.split('_');g(k.length===2);return k[0];},getPostIdFromPagePostId:function(j){j=h(j);if(!j)return null;var k=j.split('_');g(k.length===2);return k[1];},getPagePostURL:function(j,k){var l=i.getPostIdBestGuess(k);return '/'+j+'/posts/'+l;},getPostIdBestGuess:function(j){j=h(j);if(!j)return null;var k=j.split('_');g(k.length<=2);return k.pop();}};e.exports=i;});
__d("AdsCFDestinationDataLoader",["AdsCFAccountStore","AdsCFActionTypes","AdsDispatcher","ads-lib-pagePostUtils","ads-lib-urllib"],function(a,b,c,d,e,f,g,h,i,j,k){var l=3;function m(r){var s=[];r&&r.forEach(function(t){t.id=j.getPostIdBestGuess(t.id);s.push(t);});return s;}function n(r){if(r){var s=r.split(/\s+/);for(var t=0;t<s.length;t++)if(k.isUrl(s[t]))return s[t];}}function o(r,s){i.handleUpdateFromServerResponse({actionType:h.POST_LINK_DATA_LOADED,storyId:r,data:s});}function p(r){i.handleUpdateFromServerResponse({actionType:h.PAGE_POSTS_LOAD_COMPLETE,requestId:r});}var q={fetchPagePosts:function(r,s,t,u){u=u||0;t=t||[];var v=t.length;if(u>l){p(r);return;}var w=g.getDao();function x(y){if(!y||!y.length){p(r);return;}t.push.apply(t,m(y));i.handleUpdateFromServerResponse({actionType:h.PAGE_POSTS_LOADED,apiData:t,requestId:r});this.fetchPagePosts(r,s,t,u+1);}w.fetch.pagePromotablePostsForConnectionObject.one(x.bind(this),{objectId:s,until:v?t[v-1].updated_time:null,handleError:p.bind(r),fields:['message','picture','full_picture','link','name','description','type','is_published','comments.summary(true)','icon','is_popular','likes.summary(true)','object_id','shares','story','updated_time']});},fetchPostLinkData:function(r,s,t){var u=s&&s.type,v=null;if(u=='link'){v=s.link;}else if(['photo'].indexOf(u)!==-1)v=n(s.message);if(!v){t&&t(null);return;}var w=g.getDao();function x(){o(r,null);t&&t(null);}function y(z){var aa=null,ba=z&&z[0];if(ba&&ba.id&&ba.type)aa=ba;o(r,aa);t&&t(aa);}w.fetch.adsDestinationInfo.one(y,{object_url:v,handleError:x});}};e.exports=q;});
__d("AdsModelAdapterMixin",["bolt/util","AdsUtils","mergeInto","bolt/mixins/events","bolt/model"],function(a,b,c,d,e,f,g,h,i){var j=b('bolt/mixins/events').Events,k=b('bolt/model').Model,l={isModelAdapter:true,isBaseProperty:function(m){return g.getter(m) in this;},getSafe:function(m){return this[g.getter(m)]();},setSafe:function(m,n,o){return this[g.setter(m)](n,o);},get:function(m){return this.getSafe(m);},set:function(m,n){return this.setSafe(m,n,false);},unset:function(m,n){this.setSafe(m,null,n);},merge:function(m,n){m=m instanceof k?m._properties:m;for(var o in m)if(typeof m[o]!=='function')this.setSafe(o,m[o],n);},invokeChanged:function(m){this.invoke('changed',{model:this,changedProperties:m});},_getApiSpecForFields:function(m){var n={};for(var o=0;o<m.length;o++)n[h.underscoreKey(m[o])]=this.getSafe(m[o]);return n;},_setApiSpecForFields:function(m,n){var o={};for(var p=0;p<m.length;p++)if(n[h.underscoreKey(m[p])]!==undefined)o[m[p]]=n[h.underscoreKey(m[p])];this.merge(o);}};i(l,j);e.exports=l;});
__d("AdImageSpecsUtils",["AdImageSpecs"],function(a,b,c,d,e,f,g){var h={},i={getImageSpecKey:function(j){for(var k in g)if(g[k]===j)return k;return null;},getImageSpecsForAdType:function(j,k){var l=[];if(j in h){l=h[j];}else{Object.keys(g).forEach(function(m){var n=g[m].supportedTypes||[];if(n.indexOf(j)>=0)l.push(g[m]);});h[j]=l;}if(k)return l.filter(function(m){return k.indexOf(m.placement)>=0;});return l;},getImageSpecForAdType:function(j,k){var l=i.getImageSpecsForAdType(j);for(var m=0;m<l.length;++m){var n=l[m];if(n.placement===k)return n;}return null;}};e.exports=i;});
__d("AdsCFCreativePlacementUtils",["AdsAccountCapabilities","ads-app-platforms","AdsCFAccountStore","AdsCFConstants","ApiCreativeTypes","adsGKCheck","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=j.PlacementCannotDisableReason,o=j.PlacementID,p=j.PlacementStates;function q(ea){var fa=0;Object.keys(o).forEach(function(ga){if(w(ea,ga))fa++;});return fa>1;}function r(ea){var fa=x(ea);return Object.keys(fa).some(function(ga){return s(ea,ga);});}function s(ea,fa){if(!w(ea,fa))return false;var ga=aa(ea,fa);switch(ga){case null:case p.ENABLED:return true;case p.DISABLED:case p.NOT_SUPPORTED:return false;default:throw new Error('invalid placement state');}}function t(ea){return (!s(ea,o.NEWS_FEED)&&!s(ea,o.MOBILE_NEWS_FEED));}function u(){return [o.NEWS_FEED,o.MOBILE_NEWS_FEED,o.RHC,o.FAN];}function v(ea){return u().filter(function(fa){return w(ea,fa);});}function w(ea,fa){var ga=aa(ea,fa);switch(ga){case null:case p.ENABLED:case p.DISABLED:return z(ea,fa);case p.NOT_SUPPORTED:return false;default:throw new Error('invalid placement state');}}function x(ea){var fa=ea.placements;if(!fa){fa={};Object.keys(o).forEach(function(ga){fa[ga]=w(ea,ga)?p.ENABLED:p.NOT_SUPPORTED;});}return fa;}function y(ea,fa){var ga=false;for(var ha in o)if(ha!==fa&&da.isPlacementEnabled(ea,ha)){if(ha===o.FAN){ga=true;continue;}return n.NONE;}return ga?n.ONLY_PLACEMENT_EXCEPT_FAN:n.ONLY_PLACEMENT;}function z(ea,fa){switch(ea.creativeType){case k.INLINE_RSVP:case k.PLATFORM_CONTEXT:return fa===o.RHC;case k.CONTEXTUAL_APP_AD:if(l('ads_cf_neko_desktop_ads')&&(ea.mobileStore===h.MOBILE_STORE.FB_CANVAS)){return fa===o.RHC||fa===o.NEWS_FEED;}else if(da.isThirdPartyMobileAppPlacementEnabled())return fa===o.MOBILE_NEWS_FEED||fa===o.FAN;return fa===o.MOBILE_NEWS_FEED;default:if(ca())return fa!==o.FAN;return fa!==o.MOBILE_NEWS_FEED&&fa!==o.FAN;}}function aa(ea,fa){m(fa in o);var ga=ea.placements;return (ga&&ga[fa])||null;}function ba(){return (l('neko_mobile_external_page_type')||i.hasAccountCapability(g.CAN_USE_MOBILE_EXTERNAL_PAGE_TYPE));}function ca(){return l('ads_cf_mobile_previews');}var da={canDisable:y,getDefaultPlacementOrder:u,getPlacementsState:x,getSupportedPlacements:v,hasEnabledPlacement:r,hasMultiplePlacements:q,isMobileExperimentEnabled:ca,isNewsFeedDisabled:t,isPlacementEnabled:s,isPlacementSupported:w,isThirdPartyMobileAppPlacementEnabled:ba};e.exports=da;});
__d("AdsCFUIObjectives",["adsGKCheck","whitelistObjectKeys","ads-objectives"],function(a,b,c,d,e,f,g,h){'use strict';var i=b('ads-objectives').KPIObjectives,j=h(i,[i.POST_ENGAGEMENT,i.PAGE_LIKES,i.WEBSITE_CLICKS,i.WEBSITE_CONVERSIONS,i.APP_INSTALLS,i.APP_ENGAGEMENT,i.EVENT_RESPONSES,i.OFFER_CLAIMS]);if(g('neko_media_ads_cf'))j.APP_STORE_MEDIA_VISITS=i.APP_STORE_MEDIA_VISITS;e.exports=j;});
__d("AdsImageValidation",["AdsCFConstants","AdImageSpecs","AdImageSpecsUtils","fbt","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.PlacementID,m={isSquare:function(n){return !!(n.getWidth()&&n.getWidth()===n.getHeight());},isExactSize:function(n,o){return (n.getWidth()===o.width&&n.getHeight()===o.height);},isWarningSize:function(n,o){return (n.getWidth()>=o.minWarningWidth&&n.getHeight()>=o.minWarningHeight);},isRecommendedSize:function(n,o){return (n.getHeight()>=o.height&&n.getWidth()>=o.width);},isLargeSize:function(n,o){return (m.isRecommendedSize(n,o)||(n.getWidth()>=o.minLargeWidth&&n.getHeight()>=o.minLargeHeight));},isSmallSize:function(n,o){return (m.isLargeSize(n,o)||m.isWarningSize(n,o));},isWithinSizeTolerance:function(n,o){var p=o.dimensionTolerance,q=Math.abs(o.height-n.getHeight())<p,r=Math.abs(o.width-n.getWidth())<p;return q&&r;},validate:function(n,o,p){if(o.placement in n.validationMap){p(n,o,n.validationMap[o.placement]);return;}var q=this._imageDimensionsReady.bind(this,n,o,p);if(n.isStockImage()){n.fetchFullSizeDimensions(q);}else n.setDimensionsReadyCallback(q);},_imageDimensionsReady:function(n,o,p){var q,r,s,t,u,v,w,x,y,z=o.placement,aa=j._("Minimum Size: {width} pixels x {height} pixels",[j.param("width",o.minWarningWidth),j.param("height",o.minWarningHeight)]),ba=j._("Recommended Size: {width} pixels x {height} pixels",[j.param("width",o.width),j.param("height",o.height)]),ca=j._("Required Size: {width} pixels x {height} pixels",[j.param("width",o.width),j.param("height",o.height)]),da="This image is too small. Please use a larger image."+'\n\n'+aa+'\n'+ba,ea=k(h),fa=i.getImageSpecKey(o);switch(fa){case ea.APP_INSTALL_FEED:case ea.APP_INSTALL_RHC:case ea.APP_INSTALL_MOBILE_FEED:u=m.isWithinSizeTolerance(n,o);if(!u)s=ca;break;case ea.APP_INSTALL_ICON:t=m.isSquare(n);v=m.isWarningSize(n,o);if(!t){s="Your icon is not a square.";}else if(!v)s=da;break;default:v=m.isWarningSize(n,o);if(!v){s=da;}else if(z===l.NEWS_FEED){y=m.isRecommendedSize(n,o);x=m.isLargeSize(n,o);w=m.isSmallSize(n,o);if(y){q="This image will display in high-resolution on Facebook.";}else if(x&&!y){q="This image will show in the wider format in News Feed."+'\n\n'+ba;}else if(w&&!y)r="Upload a larger image to be eligible for the wider format in News Feed."+'\n\n'+ba;}}var ga={successMessage:q,warningMessage:r,errorMessage:s};p(n,o,ga);}};e.exports=m;});
__d("mergeDeepInto",["invariant","mergeHelpers"],function(a,b,c,d,e,f,g,h){"use strict";var i=h.ArrayStrategies,j=h.checkArrayStrategy,k=h.checkMergeArrayArgs,l=h.checkMergeLevel,m=h.checkMergeObjectArgs,n=h.isTerminal,o=h.normalizeMergeArg,p=function(t,u,v,w){m(t,u);l(w);var x=u?Object.keys(u):[];for(var y=0;y<x.length;y++){var z=x[y];r(t,u,z,v,w);}},q=function(t,u,v,w){k(t,u);l(w);var x=Math.max(t.length,u.length);for(var y=0;y<x;y++)r(t,u,y,v,w);},r=function(t,u,v,w,x){var y=u[v],z=u.hasOwnProperty(v),aa=z&&n(y),ba=z&&Array.isArray(y),ca=z&&!ba&&!ba,da=t[v],ea=t.hasOwnProperty(v),fa=ea&&n(da),ga=ea&&Array.isArray(da),ha=ea&&!ga&&!ga;if(fa){if(aa){t[v]=y;}else if(ba){t[v]=[];q(t[v],y,w,x+1);}else if(ca){t[v]={};p(t[v],y,w,x+1);}else if(!z)t[v]=da;}else if(ga){if(aa){t[v]=y;}else if(ba){g(i[w]);if(w===i.Clobber)da.length=0;q(da,y,w,x+1);}else if(ca){t[v]={};p(t[v],y,w,x+1);}else !z;}else if(ha){if(aa){t[v]=y;}else if(ba){t[v]=[];q(t[v],y,w,x+1);}else if(ca){p(da,y,w,x+1);}else !z;}else if(!ea)if(aa){t[v]=y;}else if(ba){t[v]=[];q(t[v],y,w,x+1);}else if(ca){t[v]={};p(t[v],y,w,x+1);}else !z;},s=function(t,u,v){var w=o(u);j(v);p(t,w,v,0);};e.exports=s;});
__d("AdsImage",["AdsDaoGraph","AdsImageValidation","CachedDOMImageSizePool","invariant","mergeDeepInto"],function(a,b,c,d,e,f,g,h,i,j,k){var l=new i(1000,10*60*1000),m=['FullSize','Preview','Thumbnail'];n.prototype.toJSON=function(){"use strict";var o=this.$AdsImage0;return {url:o?o.toString():null,hash:this.$AdsImage1,width:this.width,height:this.height};};n.prototype.clone=function(o){"use strict";var p=new n();k(p,this,'Clobber');o&&k(p,o,'Clobber');return p;};function n(o){"use strict";o=o||{};this.crops=o.crops||{};this.$AdsImage1=o.hash;this.$AdsImage0=o.url;this.$AdsImage2=o.url_128;this.$AdsImage3=o.stockImageID;if(this.isStockImage()){this.$AdsImage2=o.url;this.$AdsImage4=o.thumbWidth;this.$AdsImage5=o.thumbHeight;this.$AdsImage6=o.previewUrl;this.$AdsImage7=o.previewWidth;this.$AdsImage8=o.previewHeight;j(this.getThumbnailWidth()&&this.getThumbnailHeight());j(this.getPreviewUrl()&&this.getPreviewWidth()&&this.getPreviewHeight());}this.height=o.height;this.width=o.width;this.validationMap=o.validationMap||{};this.$AdsImage9();}n.prototype.$AdsImage9=function(){"use strict";if(this.$AdsImage0&&!this.hasDimensions())l.get(this.$AdsImage0,this.$AdsImagea,this);if(this.$AdsImage2&&!this.hasThumbnailDimensions())l.get(this.$AdsImage2,this.$AdsImageb,this);};n.prototype.getCrop=function(o){"use strict";return this.crops[o];};n.prototype.getCrops=function(){"use strict";var o={};for(var p in this.crops){var q=this.getCrop(p);if(q)o[p]=q;}return o;};n.prototype.hasDimensions=function(){"use strict";return this.width!==undefined&&this.height!==undefined;};n.prototype.hasThumbnailDimensions=function(){"use strict";return this.$AdsImage4!==undefined&&this.$AdsImage5!==undefined;};n.prototype.getWidth=function(){"use strict";return this.getFullSizeWidth()||this.getPreviewWidth()||this.width;};n.prototype.getHeight=function(){"use strict";return this.getFullSizeHeight()||this.getPreviewHeight()||this.height;};n.prototype.setDimensionsReadyCallback=function(o){"use strict";if(!o)return;if(this.hasDimensions()){setTimeout(o,0);}else if(this.$AdsImage0){l.get(this.$AdsImage0,o);}else{this.$AdsImagea(0,0);this.$AdsImageb(0,0);setTimeout(o,0);}};n.prototype.validate=function(o,p){"use strict";h.validate(this,o,p);};n.prototype.getUrl=function(){"use strict";return this.$AdsImage0;};n.prototype.getBiggestVersionDetails=function(){"use strict";if(this.isStockImage())for(var o=0;o<m.length;o++){var p='get'+m[o],q=this[p+'Url']();if(q)return {url:q,width:this[p+'Width'](),height:this[p+'Height']()};}return {url:this.getUrl(),width:this.getWidth(),height:this.getHeight()};};n.prototype.getPreviewUrl=function(){"use strict";return this.$AdsImage6;};n.prototype.getPreviewWidth=function(){"use strict";return this.$AdsImage7;};n.prototype.getPreviewHeight=function(){"use strict";return this.$AdsImage8;};n.prototype.getFullSizeUrl=function(){"use strict";return this.$AdsImagec;};n.prototype.setFullSizeUrl=function(o){"use strict";this.$AdsImagec=o;};n.prototype.getFullSizeWidth=function(){"use strict";return this.$AdsImaged;};n.prototype.getFullSizeHeight=function(){"use strict";return this.$AdsImagee;};n.prototype.fetchStockImageDetails=function(o){"use strict";j(this.isStockImage());var p={image_id:this.getStockImageID()},q=function(r){this.$AdsImagec=r.preview_url;o&&o(this);}.bind(this);g.fetch.detailsForStockImage.one(q,p);};n.prototype.fetchFullSizeDimensions=function(o){"use strict";j(this.isStockImage());if(this.getFullSizeUrl()){this.$AdsImagef(o);}else this.fetchStockImageDetails(this.$AdsImagef.bind(this,o));};n.prototype.$AdsImagef=function(o){"use strict";if(this.hasFullSizeDimensions()){setTimeout(o,0);}else l.get(this.getFullSizeUrl(),function(p,q){this.$AdsImaged=p;this.$AdsImagee=q;o&&o();},this);};n.prototype.hasFullSizeDimensions=function(){"use strict";return !!(this.getFullSizeWidth()&&this.getFullSizeHeight());};n.prototype.getAdAccountHash=function(){"use strict";return this.$AdsImage1;};n.prototype.equals=function(o){"use strict";return this.getUniqueIdentifier()===o.getUniqueIdentifier();};n.prototype.getUniqueIdentifier=function(){"use strict";if(this.isStockImage())return this.getStockImageID();return this.getAdAccountHash()||this.getUrl();};n.prototype.isStockImage=function(){"use strict";return !!this.getStockImageID();};n.prototype.getStockImageID=function(){"use strict";return this.$AdsImage3;};n.prototype.getThumbnailUrl=function(){"use strict";return this.$AdsImage2;};n.prototype.getThumbnailHeight=function(){"use strict";return this.$AdsImage5;};n.prototype.getThumbnailWidth=function(){"use strict";return this.$AdsImage4;};n.prototype.$AdsImagea=function(o,p){"use strict";this.width=o;this.height=p;};n.prototype.$AdsImageb=function(o,p){"use strict";this.$AdsImage4=o;this.$AdsImage5=p;};e.exports=n;});
__d("AdsImageCollectionViews",["invariant"],function(a,b,c,d,e,f,g){var h=['LIBRARY','PAGE','SCRAPED','STOCK'],i={};h.forEach(function(r,s){i[r]=1<<s;});i.INVISIBLE=0;var j={};for(var k in i){var l=i[k];j[l]=l;}i.ALL=(1<<h.length)-1;function m(r){return (r in j);}function n(r){return r>=0&&r<=i.ALL;}function o(r){g(m(r));}function p(r){g(n(r));}var q={views:i,isValidView:m,isValidViewBitmask:n,assertIsValidView:o,assertIsValidViewBitmask:p};e.exports=q;});
__d("AdsImageCollection",["AdsImageCollectionViews","ArbiterMixin","copyProperties","invariant","mixin"],function(a,b,c,d,e,f,g,h,i,j,k){var l=k(h);for(var m in l)if(l.hasOwnProperty(m))o[m]=l[m];var n=l===null?null:l.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=l;function o(p){"use strict";p=i({maxSelectedImages:1},p);this.$AdsImageCollection0=p.maxSelectedImages;j(this.$AdsImageCollection0%1===0);this.$AdsImageCollection1();}o.prototype.$AdsImageCollection1=function(){"use strict";this.$AdsImageCollection2=[];this.$AdsImageCollection3={};this.$AdsImageCollection4=[];};o.prototype.addImagesToFront=function(p,q){"use strict";this.$AdsImageCollection5(p);this.$AdsImageCollection6(p,0,q);};o.prototype.addImagesToBack=function(p,q){"use strict";this.$AdsImageCollection5(p);this.addImagesToBack_UNSAFE(p,q);};o.prototype.addImagesToBack_UNSAFE=function(p,q){"use strict";this.$AdsImageCollection6(p,this.$AdsImageCollection2.length,q);};o.prototype.$AdsImageCollection6=function(p,q,r){"use strict";g.assertIsValidView(r);var s=p.filter(function(t){var u=this.$AdsImageCollection3[t.getUniqueIdentifier()];if(u){u.view=r;return false;}else{this.$AdsImageCollection3[t.getUniqueIdentifier()]={selected:false,view:r,image:t};return true;}},this);Array.prototype.splice.apply(this.$AdsImageCollection2,[q,0].concat(s));this.inform('onChange');};o.prototype.$AdsImageCollection5=function(p){"use strict";p.forEach(function(q){var r=this.$AdsImageCollection3[q.getUniqueIdentifier()];if(r)j(0===(r.view&g.views.ALL));}.bind(this));};o.prototype.isImageSelected=function(p){"use strict";return !!this.$AdsImageCollection3[p.getUniqueIdentifier()].selected;};o.prototype.toggleImageSelected=function(p){"use strict";var q=!this.isImageSelected(p);this.setImageSelected(p,q);return q;};o.prototype.setImageSelected=function(p,q){"use strict";var r=this.$AdsImageCollection7(p,q);r&&this.inform('onChange');};o.prototype.setImagesSelected=function(p,q){"use strict";var r;for(var s=0,t=p.length;s<t;s++)if(this.$AdsImageCollection7(p[s],q))r=true;r&&this.inform('onChange');};o.prototype.$AdsImageCollection7=function(p,q){"use strict";this.assertHasImage(p);if(q===this.isImageSelected(p))return false;if(q){this.$AdsImageCollection4.push(p);}else this.$AdsImageCollection4=this.$AdsImageCollection4.filter(function(s){return !p.equals(s);});this.$AdsImageCollection3[p.getUniqueIdentifier()].selected=q;if(this.$AdsImageCollection0>0)while(this.getSelectedImageCount()>this.$AdsImageCollection0){var r=this.$AdsImageCollection4.shift();this.$AdsImageCollection3[r.getUniqueIdentifier()].selected=false;}return true;};o.prototype.deselectAllImages=function(){"use strict";if(!this.hasSelectedImages())return;this.getSelectedImages().forEach(function(p){this.$AdsImageCollection3[p.getUniqueIdentifier()].selected=false;},this);this.$AdsImageCollection4=[];this.inform('onChange');};o.prototype.clearImagesByViewBitmask=function(p){"use strict";g.assertIsValidViewBitmask(p);var q=false;this.$AdsImageCollection2=this.$AdsImageCollection2.filter(function(r){var s=0!==(p&this.$AdsImageCollection3[r.getUniqueIdentifier()].view);if(s){q=true;if(this.isImageSelected(r)){this.$AdsImageCollection3[r.getUniqueIdentifier()].view=g.views.INVISIBLE;s=false;}else delete this.$AdsImageCollection3[r.getUniqueIdentifier()];}return !s;},this);if(q)this.inform('onChange');};o.prototype.hasImage=function(p){"use strict";return this.$AdsImageCollection3[p.getUniqueIdentifier()]!==undefined;};o.prototype.assertHasImage=function(p){"use strict";j(this.hasImage(p));};o.prototype.getSelectedImages=function(){"use strict";return this.$AdsImageCollection4.slice(0);};o.prototype.getSelectedImageCount=function(){"use strict";return this.$AdsImageCollection4.length;};o.prototype.hasSelectedImages=function(){"use strict";return this.getSelectedImageCount()!==0;};o.prototype.canSelectImages=function(){"use strict";return !this.allowsMultiImageSelection()||this.getSelectedImageCount()<this.getMaxSelectedImageCount();};o.prototype.getImageByIndex=function(p){"use strict";return this.$AdsImageCollection2[p];};o.prototype.getImageByHash=function(p){"use strict";return this.$AdsImageCollection3[p]&&this.$AdsImageCollection3[p].image;};o.prototype.getImages=function(p){"use strict";g.assertIsValidViewBitmask(p);return this.$AdsImageCollection2.filter(function(q){return (0!==(p&this.$AdsImageCollection3[q.getUniqueIdentifier()].view));},this);};o.prototype.getImageCount=function(p){"use strict";return this.getImages(p).length;};o.prototype.isEmpty=function(){"use strict";return this.getImageCount(g.views.ALL)===0;};o.prototype.getMaxSelectedImageCount=function(){"use strict";return this.$AdsImageCollection0;};o.prototype.allowsMultiImageSelection=function(){"use strict";return this.$AdsImageCollection0!==1;};e.exports=o;});
__d("AdsCFDestinationUtils",["ads-app-platforms","AdsCFConnectConfig","AdsCFUIObjectives","AdsCreationConfig","AdsImage","AdsImageCollection","AdsImageCollectionViews","SearchableEntry","ads-destinationType","fbt","ads-lib-urllib","ads-lib-connect"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=b('ads-lib-connect').FB,s=o.DEST_TYPE,t='/images/icons/t_default.jpg';function u(z,aa){z=z||{};var ba={activeCoupons:z.active_coupons||[],infoAvailable:true,destinationId:z.id,destinationName:z.type===s.EXTERNAL_WEBPAGE?z.url:(z.name||z.title_fill||z.original_object_url||"No description available"),destinationTitle:z.title_fill||z.name||'',destinationSummary:z.body_fill||z.description||'',destinationPicture:w(z),destinationImages:x(z.images),destinationOriginalObjectUrl:q.normalize(z.object_url||z.url),destinationIsOG:!!z.is_og,destinationUrl:z.url,destinationCityInfo:z.city_info,fanCountries:z.fan_countries,suggestedTopics:z.suggested_topics,destinationType:z.type,tabs:z.tabs||{},minAge:(+z.minimum_age<j.maxAge)?+z.minimum_age:j.minAge,isAdmin:!!z.is_admin,isAppStoreMedia:!!z.is_app_store_media,isBlackholed:!!z.is_blackholed,canReceiveMessage:!!z.can_receive_message,isPublished:!!z.is_published,offerEligible:!!z.offer_eligible,hasEnoughFansForOffers:z.has_enough_fans_for_offers,geoGating:z.geo_gating,canCreatePageContent:z.can_create_page_content,storyId:z.story_id||'',warmup:!!aa,isGame:z.is_game,defaultObjective:z.default_objective,actualDestinationType:z.type,appPlatforms:g.getPlatformsFromGraph(z.app_platforms),appInstallsTracked:z.app_installs_tracked,defaultDailyBudget:z.default_daily_budget,nativeAppStoreIds:z.native_app_store_ids,category:z.category,subcategory:z.subcategory,mobileStoreObject:z.mobile_store_object,mobileStoreDestinationType:z.mobile_store_destination_type,originalObjectUrl:z.original_object_url,supportedDevices:z.supported_devices,mobileAppCPAAccess:z.mobile_app_cpa_access,nativeAppTargetingIDs:z.native_app_targeting_ids,interests:z.interests};return ba;}function v(z,aa,ba,ca){ca=ca||aa.destinationName;if(aa.originalObjectUrl&&(ba===i.WEBSITE_CLICKS||ba===i.WEBSITE_CONVERSIONS))ca=aa.originalObjectUrl;var da=new n({uniqueID:z,title:ca,photo:aa.destinationPicture});return da;}function w(z){switch(z.type){case s.EXTERNAL_WEBPAGE:return z.picture||t;case s.APP:return z.picture;default:var aa=z.id;if(!aa)return t;return r.url('/'+aa+'/picture',{type:'large'},h.access_token);}}function x(z){z=z||[];var aa=new l();aa.addImagesToBack(z.map(function(ba){return new k({url:ba});}),m.views.LIBRARY);return aa;}function y(z,aa){if(aa.isPublished||(z!==s.PAGE&&z!==s.PLACE))return false;return true;}e.exports={convertAPIDataToFields:u,convertToSearchableEntry:v,isUnpublishedPage:y};});
__d("isNumberLike",[],function(a,b,c,d,e,f){function g(h){return !isNaN(parseFloat(h))&&isFinite(h);}e.exports=g;});
__d("AdsCFDateUtils",[],function(a,b,c,d,e,f){var g={parseISODate:function(h){var i=h.split('T'),j=i[0].split('-'),k=j[0],l=j[1]-1,m=j[2],n=i[1].split(':'),o=parseInt(n[0],10),p=parseInt(n[1],10),q=n[2],r,s,t,u,v;if(n.length===4)v=n[3];var w=false,x=[/\+/,/\-/,/Z/];x.forEach(function(z,aa){if(q.match(z)){r=q.split(z);w=aa===1;s=parseInt(r[0],10);t=r[1];}});if(!t){u=0;v=0;}else{u=t.slice(0,2);if(!v)v=t.slice(-2);}if(w){u=u*-1;v=v*-1;}var y=new Date(Date.UTC(k,l,m,o,p,s));y.setUTCHours(y.getUTCHours()-parseInt(u,10));y.setUTCMinutes(y.getUTCMinutes()-parseInt(v,10));return y;}};e.exports=g;});
__d("AdsCreativeUtils",["AdCreativeType","ads-app-platforms","AdsCFDateUtils","AdsCreateFlowConfig","AdsCreationConfig","AdsImage","ads-lib-formatters","PagePostTypes","ads-lib-pagePostUtils","AdsAPIObjectives","URI","adsGKCheck","actionSpecConstants","areEqual","keyMirror","merge","bolt/util","tx","ads-destinationType"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){var y=b('ads-destinationType').DEST_TYPE,z=m.createTextTruncator(k.maxBodyLength),aa=b('AdCreativeType').keyToType,ba=m.createTextTruncator(k.maxTitleLength),ca=m.createTextTruncator(k.maxDeepLinkTitleLength),da=b('AdCreativeType').AD_CREATIVE_TYPE,ea=3;function fa(za,ab){return t(za,ab);}function ga(za){za=ha(za).concat(za);var ab={};return za.filter(function(bb){if(bb.hasOwnProperty('is_published')&&!bb.is_published&&bb.type===n.LINK)return false;if(bb.type===n.STATUS&&!bb.message)return false;if(ab[bb.id])return false;ab[bb.id]=true;return true;});}function ha(za){var ab=[];for(var bb=0;bb<za.length;bb++){if(za[bb].is_popular)ab.push(za[bb]);if(ab.length===ea)break;}return ab;}function ia(za){if(!za||za.type!==n.OFFER||!za.is_published)return false;var ab=za.expiration_timestamp;return (typeof ab==='number')?ab<Date.now()/1000:false;}function ja(za,ab){if(!za||!ab)return null;var bb;for(var cb=0;cb<ab.length;cb++){bb=o.getPostIdBestGuess(ab[cb].id);if(bb===za)return ab[cb];}return null;}function ka(za){return (za.comments&&za.comments.summary&&za.comments.summary.total_count)||0;}function la(za){var ab=ma(za);if(za.type===n.PHOTO)ab=za.name&&za.message?za.name+" - "+za.message:ab;var bb=xa(ab);if(this.getIsPagePostExpiredOffer(za))bb+=' ('+"Expired"+')';return bb;}function ma(za){var ab=za.name||za.message||za.story||'';return ab.replace(/(\r\n|\n|\r)/gm,'');}function na(za){if(!za.created_time)return 0;return i.parseISODate(za.created_time).getTime()/1000;}function oa(za){var ab;if(za instanceof l){ab=za.getThumbnailUrl()||za.getPreviewUrl()||za.getUrl();}else ab=za;return ab;}function pa(za){return (za.likes&&za.likes.summary&&za.likes.summary.total_count)||0;}function qa(za){return (za.shares&&za.shares.count)||0;}function ra(za,ab){var bb='STORY_QUERY_BASED';return aa[bb];}function sa(za,ab,bb){var cb='FEED_URL';switch(za){case y.PAGE:case y.PLACE:cb=(ab===p.POST_ENGAGEMENT||ab===p.OFFER_CLAIMS)?'AD_PAGE_POST':'AD_FAN_LIKE';break;case y.APP:var db=(ab===p.WEBSITE_CLICKS&&bb&&bb.destinationDetails&&bb.destinationDetails.isAppStoreMedia&&r('neko_media_ads_cf'));if(ab===p.MOBILE_APP_INSTALLS||db){cb='MOBILE_APP_INSTALL';}else if(ab===p.MOBILE_APP_ENGAGEMENT){cb='MOBILE_APP_ENGAGEMENT';}else if((ab===p.CANVAS_APP_INSTALLS||ab===p.CANVAS_APP_ENGAGEMENT)&&r('ads_cf_neko_desktop_ads')){cb='CANVAS_APP_INSTALL_ENGAGEMENT';}else cb='AD_APPLICATION';break;case y.EVENT:cb='AD_EVENT_RSVP';break;}var eb=u({AD_FAN_LIKE:null,AD_APPLICATION:null,AD_EVENT_RSVP:null}),fb=v(aa[cb]);fb.isAdminOnly=!!eb[cb];return fb;}function ta(za,ab,bb,cb,db,eb){var fb=eb.title||db.destinationTitle,gb=eb.body||db.destinationSummary,hb;if(db.destinationImages&&!db.destinationImages.isEmpty()){hb=db.destinationImages.getImageByIndex(0).getUrl();}else if(za===da.CONTEXTUAL_APP_AD){hb=null;}else hb=db.destinationPicture;var ib=h.getNativeMobileApps(db.nativeAppStoreIds),jb=eb.imageList,kb=eb.imageUrl||hb;if(kb&&!(jb&&jb.length))jb=[new l({url:eb.imageUrl||hb})];var lb=null;if(za===da.CONTEXTUAL_APP_AD&&(ab===p.CANVAS_APP_INSTALLS||ab===p.CANVAS_APP_ENGAGEMENT)){lb=h.MOBILE_STORE.FB_CANVAS;}else lb=(ib.length&&ib[0].value);var mb=null;if(za===da.CONTEXTUAL_APP_AD){switch(ab){case p.CANVAS_APP_INSTALLS:case p.CANVAS_APP_ENGAGEMENT:mb=eb.linkUrl;break;default:break;}}else if(za===da.PLATFORM_CONTEXT){switch(ab){case p.CANVAS_APP_INSTALLS:case p.CANVAS_APP_ENGAGEMENT:mb=eb.linkUrl||wa(db.tabs,db.destinationUrl);break;default:break;}}else mb=eb.linkUrl||wa(db.tabs,db.destinationUrl);var nb=db.relatedFanPage||eb.relatedFanPage;return {title:ba(fb),body:z(gb),imageUrl:kb,imageList:jb,mobileStore:eb.mobileStore||lb,iconImage:new l({url:eb.iconImageUrl||db.destinationPicture}),relatedFanPage:nb,showRelatedFanPage:!!nb,objectId:bb,linkUrl:mb,storyId:eb.storyId||cb,mobileProductName:(ab===p.MOBILE_APP_ENGAGEMENT)?ca(fb):null};}function ua(za){return {creativeType:g.AD_CREATIVE_TYPE.QUERY_BASED,objectId:za};}function va(za,ab,bb,cb){if(!ab)return [];switch(ab){case p.INCOMPATIBLE_OFFER_CLAIMS:ab=p.OFFER_CLAIMS;break;case p.INCOMPATIBLE_PAGE_LIKES:ab=p.PAGE_LIKES;break;case p.INCOMPATIBLE_POST_ENGAGEMENT:ab=p.POST_ENGAGEMENT;break;case p.INCOMPATIBLE_PAGE_ENGAGEMENT:ab=(cb&&cb.id)?p.POST_ENGAGEMENT:p.PAGE_LIKES;break;case p.INCOMPATIBLE_CANVAS_APP_INSTALLS:ab=p.CANVAS_APP_INSTALLS;break;case p.INCOMPATIBLE_CANVAS_APP_ENGAGEMENT:ab=p.CANVAS_APP_ENGAGEMENT;break;case p.INCOMPATIBLE_MOBILE_APP_INSTALLS:ab=p.MOBILE_APP_INSTALLS;break;case p.INCOMPATIBLE_EVENT_RESPONSES:ab=p.EVENT_RESPONSES;break;}var db;switch(za){case y.PAGE:case y.PLACE:if(ab===p.POST_ENGAGEMENT&&cb&&cb.type===n.QUESTION){db=s.QUESTION_SS_SPECS[ab];}else db=(za===y.PAGE)?s.PAGE_SS_SPECS[ab]:s.PLACE_SS_SPECS[ab];break;case y.APP:db=bb.isGame?s.GAME_SS_SPECS[ab]:s.APP_SS_SPECS[ab];break;case y.EVENT:case y.PLAN:db=s.EVENT_SS_SPECS[ab];break;}return db||[];}var wa=function(za,ab){var bb,cb,db;if(w.isObject(za))for(var eb in za){if(!za.hasOwnProperty(eb))continue;var fb=q(eb),gb=fb.getQueryData().sk;if(gb==='timeline'){bb=ab;}else if(gb==='wall'){cb=eb;}else if(!db)db=eb;}return bb||cb||db||ab;},xa=m.createTextTruncator(j.MAX_PAGE_POST_LEN,"No message");function ya(za,ab){return q('https://graph.facebook.com/act_'+za+'/adimages').addQueryData({hashes:[ab],redirect:true}).toString();}e.exports={filterPagePosts:ga,getAvailableSponsoredStories:va,getDefaultCreativeData:ta,getDefaultLinkURL:wa,getDefaultSecondaryCreativeData:ua,getImageURLFromHash:ya,getIsPagePostExpiredOffer:ia,getPagePostFromStoryId:ja,getPostCommentCount:ka,getPostContent:la,getPostDate:na,getPostImageURL:oa,getPostLikeCount:pa,getPostShareCount:qa,getPrimaryCreativeConfig:sa,getRawPostContent:ma,getSecondaryCreativeConfig:ra,isSameCreativeSpec:fa};});
__d("AdsCFDestinationStore",["AdsActionTypes","AdsAPIObjectives","ads-app-platforms","AdsCFAccountStore","AdsCFActionTypes","AdsCFConstants","AdsCFDestinationDataLoader","AdsDispatcher","AdsCFPrimedDao","AdsCFDestinationUtils","ads-objectives","AdsPayloadSource","Arbiter","PagePostTypes","SearchableEntry","ads-lib-urllib","adsGKCheck","copyProperties","isNumberLike","merge","ads-destinationType","AdsCreativeUtils"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){var aa=b('ads-destinationType').DEST_TYPE,ba=q.KPIObjectivesByDestinationType,ca=l.DestinationSelectionSource.SINGLE_OBJECT_PREFILL,da={},ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa=false;function qa(){ea={};fa=null;ga=null;ha=false;ia=null;ja=false;ka=null;la=false;ma=[];oa={};}qa();function ra(wa){return wa.requestId>=na;}function sa(){la=false;ma=[];na=na+1||0;if(ga===aa.PLACE||ga===aa.PAGE)m.fetchPagePosts(na,fa);}function ta(wa,xa,ya,za){var ab=j.getAccountID(),bb=o.getInstanceForAccount(ab),cb=function(fb,gb,hb){n.handleUpdateFromViewAction({actionType:k.DESTINATION_FETCH_ERROR,entityID:hb.object_id,entityURL:hb.object_url});};if(za&&(za.type===aa.EXTERNAL_WEBPAGE))wa=null;var db=z(ya,{account_id:ab,handleError:cb});if(wa){db.object_id=wa;}else if(!xa||!xa.length){ia={entityID:l.ErrorEntityID,searchableEntry:za};return;}else if(y(xa)){db.object_id=xa.replace(/^0+/,'');}else if(v.isUrlSimple(xa))db.object_url=v.normalize(xa);var eb=function(fb){var gb=fb&&fb.length&&fb[0];if(!gb||!gb.id){ia=oa;oa={};va.inform('change');return;}var hb=p.convertAPIDataToFields(gb);if(!va.hasPendingEntity())return;var ib;if(oa.entityID)ib=!((oa.entityID===hb.destinationId)||(oa.entityID===hb.storyId));var jb=oa.entityURL&&oa.entityURL!==hb.originalObjectUrl;if(ib||jb)return;var kb=hb.destinationType,lb=hb.destinationId;delete hb.destinationType;delete hb.destinationId;n.handleUpdateFromViewAction({actionType:k.DESTINATION_CHANGE,destinationType:kb,destinationID:lb,destinationDetails:hb,destSource:ja?l.DestinationSelectionSource.SINGLE_OBJECT_PREFILL:l.DestinationSelectionSource.USER_SELECTED});};oa={entityID:db.object_id,entityURL:db.object_url,searchableEntry:za};bb.fetch.adsDestinationInfo.one(eb,db);}function ua(){var wa=j.getAccountID(),xa=o.getInstanceForAccount(wa);xa.fetch.connectionObjectsForAccount.one(function(ya){var za=ya.data.filter(function(cb){var db=ba[cb.type];return db&&db.indexOf(ka)>-1;}),ab=za[0];if(za.length===1){var bb=new u({uniqueID:ab.id,title:ab.name,photo:ab.picture,subtitle:ab.category});bb.id=ab.id;n.handleUpdateFromServerResponse({actionType:k.KPI_DESTINATION_SELECT,destinationEntry:bb,source:ca});}});}var va=x(new s(),{hasLoadedInitialDestinationDetails:function(){return pa;},getCachedPostLinkData:function(wa){return wa?da[wa]:null;},getDestinationDetails:function(){return ea;},getDestinationID:function(){return fa;},getDestinationType:function(){if((ka===q.KPIObjectives.WEBSITE_CLICKS||ka===q.KPIObjectives.WEBSITE_CONVERSIONS)&&(ea.originalObjectUrl||ea.destinationUrl))return aa.EXTERNAL_WEBPAGE;return ga;},getDestinationTypeIgnoringKPI:function(){return ga;},getHasDesktopCanvas:function(){var wa=this.getDestinationDetails().appPlatforms;return i.supportsDesktop(wa);},getHasLoadCompleted:function(){return la;},getHasNativeMobileApp:function(){var wa=this.getDestinationDetails().appPlatforms;return i.supportsNativeMobile(wa);},getIsDestinationAppStoreMedia:function(){return (this.getDestinationDetails().isAppStoreMedia&&w('neko_media_ads_cf'));},getIsObjectiveAppStoreMedia:function(wa){return (this.getIsDestinationAppStoreMedia()&&wa===h.WEBSITE_CLICKS);},getPagePostDetails:function(wa){var xa;for(var ya=0;ya<ma.length;++ya){xa=ma[ya];if(xa.id===wa)return xa;}return {};},getPagePosts:function(){return ma;},getPagePostsForKPI:function(){if(!ma||!ma.length)return ma;if(ka===q.KPIObjectives.OFFER_CLAIMS)return ma.filter(function(wa){return wa.type===t.OFFER;});return ma;},getDestinationForTypeahead:function(){if(!this.hasPendingEntity()&&this.hasPromotableDestinationEntity()&&!this.hasDestination())return null;var wa=oa&&oa.searchableEntry,xa=ia&&ia.searchableEntry;if(wa||xa)return wa||xa;return p.convertToSearchableEntry(fa,ea,ka);},getDefaultStoryIDForCreative:function(){var wa,xa=this.getPagePostsForKPI();if(xa.length)wa=ea.storyId||xa[0].id;return wa;},hasDestination:function(){return !!fa;},hasPromotableDestinationEntity:function(){return !ia;},hasPendingEntity:function(){return Object.keys(oa).length>0;},isInvalidDestinationInput:function(){return (ia&&ia.entityID===l.ErrorEntityID);},isSingleObjectPrefill:function(){return ja;},isMobilePlatformOnlyApp:function(){if(ga!==aa.APP)return false;return (this.getHasNativeMobileApp()&&!this.getHasDesktopCanvas());},isMultiPlatformApp:function(){if(ga!==aa.APP)return false;return (this.getHasNativeMobileApp()&&this.getHasDesktopCanvas());},dispatchToken:n.register(function(wa){va.onDispatchToken(wa);}),onDispatchToken:function(wa){var xa=wa.action;switch(xa.actionType){case k.DESTINATION_FETCH_ERROR:if(xa.entityID===oa.entityID||xa.entityURL===oa.entityURL){ia=oa;oa={};va.inform('change');}break;case k.DESTINATION_SELECT:case k.KPI_DESTINATION_SELECT:var ya,za;if(xa.actionType===k.KPI_DESTINATION_SELECT){ya=xa.destinationEntry.id;za=xa.destinationEntry.getTitle();ja=(xa.source===ca);}else{ya=xa.entityID;za=xa.typeaheadInput;}ta(ya,za,xa.queryParams,xa.destinationEntry);va.inform('change');break;case k.DESTINATION_CHANGE:pa=true;var ab=xa.destinationID!==fa||xa.destinationType!==ga;if(xa.destinationID){fa=xa.destinationID;oa={};}if(xa.destinationType)ga=xa.destinationType;if(xa.destinationDetails)x(ea,xa.destinationDetails);ha=!ka;ab&&sa();va.inform('change');break;case k.KPI_OBJECTIVE_CHANGE:if(xa.source===l.ObjectiveChangeSource.OBJECTIVE_SELECTOR&&!ha){qa();ua();va.inform('change');}ka=xa.kpiObjective;break;case k.OBJECTIVE_CHANGE:if(wa.payloadsource!==r.SERVER_RESPONSE)break;var bb=xa.objectiveType;if(va.getIsObjectiveAppStoreMedia(bb)){ka=q.KPIObjectives.APP_STORE_MEDIA_VISITS;}else ka=q.APItoKPIObjectives[bb];if(va.hasDestination())ha=!ka;break;case k.PAGE_POSTS_PUBLISHED:j.getDao().fetch.pagePromotablePostsForConnectionObject.clearCache();la=false;ma=[];ea.storyId='';m.fetchPagePosts(++na,fa);va.inform('change');break;case k.PAGE_POSTS_LOADED:if(!ra(xa))return;ma.push.apply(ma,xa.apiData);ma=b('AdsCreativeUtils').filterPagePosts(ma);va.inform('change');break;case k.POST_LINK_DATA_LOADED:var cb=xa.data;if(!cb)break;da[xa.storyId]={id:cb.id,type:cb.type,objective:cb.default_objective,url:cb.original_object_url};va.inform('change');break;case k.PAGE_POSTS_LOAD_COMPLETE:if(!ra(xa))return;la=true;va.inform('change');break;case g.PAGE_TRANSITION:pa=false;qa();break;case k.RESET_DESTINATION:var db=ka;qa();ka=db;va.inform('change');break;}}});e.exports=va;});
__d("AdsCFCreativeUtils",["AdImageSpecs","AdsCFConstants","AdsCFCreativeProperties","AdsCFCreativeViewActions","AdsCFDestinationStore","AdsImage","AdsImageValidation","ApiCreativeTypes","actionSpecConstants","fbt","mergeInto"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=h.CreativeStatusModes;function s(ca){return {id:''+ca.id,name:ca.name||(''+ca.id),globalBrandName:ca.global_brand_page_name||(''+ca.id),picture:(ca.picture&&ca.picture.data&&ca.picture.data.url)||'https://graph.facebook.com/'+ca.id+'/picture',published:!!ca.is_published,detail:ca.category||'',stats:!ca.likes?'':p._("{Number} Likes",[p.param("Number",ca.likes)]),userPermissions:(ca.userpermissions&&ca.userpermissions.data)||[]};}function t(ca,da){if(!da)return true;var ea=i.idToType[ca.creativeType].validFields;return ea.some(function(fa){return da[fa]!==ca[fa];});}function u(ca){return ca.status!==r.UNAVAILABLE;}function v(ca,da){var ea=ca.status!=='ENABLED'?da:ca;if(!ea.availableSponsoredStories)return;var fa=ea.storyId||ca.storyId,ga=[];ea.availableSponsoredStories.forEach(function(ha){if(!ha.enabled)return;ga.push(o.ACTION_SPECS[ha.id](k.getDestinationID(),fa,k.getDestinationDetails().destinationUrl,k.getPagePostDetails(fa)));});if(ga.length)return ga;}function w(ca){var da=ca.imageList;if(Array.isArray(da)&&da.length){var ea={};q(ea,ca);ea.imageList=da.map(function(fa){return fa.toJSON();});return ea;}return ca;}function x(ca){var da=ca.imageList;if(Array.isArray(da)&&da.length)ca.imageList=da.map(function(ea){return new l({hash:ea.hash,url:ea.url,width:ea.width,height:ea.height});});return ca;}function y(ca){return ca!==n.QUERY_BASED&&ca!==n.PAGE_POSTS_V2;}function z(ca){var da=g.PAGE_LIKE_FEED;return ca.imageList.some(function(ea){if(ea.hasDimensions()&&m.isLargeSize(ea,da))return true;});}function aa(ca,da){var ea=da&&da.length?da[0].id:'';j.setAutoUpdate(h.CreativeID.PRIMARY,ca,ea);}function ba(ca){j.setStoryId(h.CreativeID.PRIMARY,ca.value);}e.exports={convertPageApiSpecToActor:s,creativeTypeHasImage:y,pageLikeHasLargeFormatImage:z,handleChangeForAutoUpdate:aa,handleChangeForStoryID:ba,hasCreativeChanged:t,shouldRenderCreative:u,generateActionSpec:v,serializeCreativeState:w,deserializeCreativeState:x};});
__d("AdsCFObjectiveUtils",["AdsAPIObjectives","AdsCFDestinationStore","AdsCFDestinationUtils","AdsCreativeUtils","ads-objectives","ApiCreativeTypes","OcpmAdConfig","AdsAPISpec","ads-destinationType"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=b('AdsAPISpec').BID_INFO_FIELDS,o=b('ads-destinationType').DEST_TYPE,p=k.APIObjectivesWithRequiredStoryID;function q(z,aa,ba){var ca=ba.storyID,da=ba.pagePosts,ea=ba.destinationType,fa=p.indexOf(z)>-1,ga;if(fa){var ha=j.getPagePostFromStoryId(ca,da);ga=j.getIsPagePostExpiredOffer(ha);}var ia=aa.offerEligible,ja=i.isUnpublishedPage(ea,aa);return {isUnpublishedPage:ja,requiresStoryID:fa,storyID:ca,offerEligible:ia,offerExpired:ga,noPosts:!da.length};}function r(z,aa,ba,ca,da){var ea=q(z,ca,da);if(!aa||!ba||ea.isUnpublishedPage||ca.isBlackholed||(ea.requiresStoryID&&(!ea.storyID||ea.offerExpired||ea.noPosts))||(z===g.MOBILE_APP_ENGAGEMENT&&!ca.isAdmin)||(z===g.OFFER_CLAIMS&&!ea.offerEligible)||(!ca.isAdmin&&(z===g.PAGE_LIKES||z===g.EVENT_RESPONSES)))return false;return true;}function s(z,aa,ba,ca,da,ea){var fa=q(z,da,ea);if(!ba||!ca||fa.isUnpublishedPage||da.isBlackholed||(fa.requiresStoryID&&fa.offerExpired)||(z===g.MOBILE_APP_ENGAGEMENT&&!da.isAdmin)||(z===g.OFFER_CLAIMS&&aa&&!fa.offerEligible))return true;return false;}function t(z,aa,ba){var ca={};if(z===g.MOBILE_APP_INSTALLS&&ba){ca[n.CLICKS]=aa*m.clicksMultiplier;}else if(z===g.DEPRECATED_CLICKS){ca[n.CLICKS]=aa*m.clicksMultiplier;}else ca[n.ACTIONS]=aa;return ca;}function u(z){if(!z)return null;var aa=null;if(z instanceof Array){for(var ba=0;ba<z.length;++ba){var ca=z[ba];if(ca.offsite_pixel){aa=ca.offsite_pixel;break;}}}else if(z.offsite_pixel)aa=z.offsite_pixel;if(aa instanceof Array)return aa[0];return aa;}function v(z,aa){var ba=u(aa);if(!ba)ba=u(z);return ba;}var w=function(z){if(!z)return;z=z[0]?z[0]:z;var aa=z['action.type'];if(Array.isArray(aa))aa=aa[0];switch(aa){case 'page_engagement':case 'page_story':return g.DEPRECATED_CLICKS;case 'post_engagement':return g.POST_ENGAGEMENT;case 'like':if(z.page)return g.PAGE_LIKES;return g.DEPRECATED_CLICKS;}return;};function x(z,aa,ba){switch(z){case o.PAGE:case o.PLACE:if(aa===l.PAGE_POSTS_V2){return g.POST_ENGAGEMENT;}else if(aa===l.INLINE_FAN)return g.PAGE_LIKES;return w(ba)||g.PAGE_LIKES;case o.APP:return aa===l.CONTEXTUAL_APP_AD?g.MOBILE_APP_INSTALLS:g.CANVAS_APP_INSTALLS;case o.EVENT:return g.EVENT_RESPONSES;}return g.DEPRECATED_CLICKS;}function y(){if(h.getHasNativeMobileApp())return g.MOBILE_APP_INSTALLS;var z=h.getDestinationDetails();if(z.defaultObjective)return z.defaultObjective;var aa=h.getDestinationType();if(!aa)return g.NONE;switch(aa){case o.PAGE:case o.PLACE:return g.PAGE_LIKES;case o.APP:return g.CANVAS_APP_INSTALLS;case o.EVENT:return g.EVENT_RESPONSES;default:return g.DEPRECATED_CLICKS;}}e.exports={canContinue:r,canNeverContinue:s,getDefaultObjectiveType:y,getInferredObjective:x,objectiveToDefaultBidInfo:t,getTrackingPixelIDs:v,getTrackingPixelIDsFromSpecs:u};});
__d("AdsCFCampaignGroupLoader",["AdsAPISpec","AdsCFAccountStore","AdsCFActionTypes","AdsDispatcher"],function(a,b,c,d,e,f,g,h,i,j){function k(m,n){j.handleUpdateFromServerResponse({actionType:i.CAMPAIGN_GROUPS_LOADED,campaignGroupAPISpecs:m});if(n)n(k);}var l={loadAll:function(){h.getDao().fetch.campaignGroupsForAccount.paged(k,{fields:g.CAMPAIGN_GROUP_FIELDS});}};e.exports=l;});
__d("AdsCFNamingUtils",["ads-lib-formatters","AdsObjectivesConfig"],function(a,b,c,d,e,f,g){var h=b('AdsObjectivesConfig').KPIObjectivesData,i=30,j={generateCampaignGroupName:function(k,l){var m=[];if(k)m.push(g.chopString(k.replace(/^https?:\/\//i,''),i,'...'));m.push(h[l].shortName);return m.join(' - ');}};e.exports=j;});
__d("AdsCFCampaignGroupStore",["AdsAPIObjectives","AdsActionTypes","AdsCFAccountStore","AdsCFActionTypes","AdsCFCampaignGroupLoader","AdsCFConstants","AdsCFDestinationStore","AdsCFNamingUtils","AdsCFObjectiveStore","AdsDispatcher","Arbiter","ImmutableObject","copyProperties","invariant","whitelistObjectKeys"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){var v=l.CampaignGroupRunStatuses,w=l.NEW_CAMPAIGN_GROUP_ID,x,y=false,z;function aa(){x=new r();var ia=new r({id:w,isNew:true,name:null,objective:g.NONE,status:v.ACTIVE});x=r.setProperty(x,w,ia);da(w);}aa();function ba(){y=true;k.loadAll();}function ca(ia){var ja=u(ia,{name:null});fa(ia.id,ja);}function da(ia){t(ia in x);z=ia;}function ea(){p.waitFor([m.dispatchToken,o.dispatchToken]);var ia=m.getDestinationDetails().destinationName,ja=o.getKPIObjective();if(!ja)return null;var ka=n.generateCampaignGroupName(ia,ja);fa(w,{name:ka});return ka;}function fa(ia,ja){x=r.setProperty(x,ia,r.set(x[ia],ja));}function ga(ia){x=r.set(x,ha._parseUpdates(ia));}var ha=s(new q(),{dispatchToken:p.register(function(ia){p.waitFor([i.dispatchToken]);if(!i.isCampaignGroupAware())return;var ja=ia.action;switch(ja.actionType){case j.ACCOUNT_INIT:if(!y)ba();break;case j.CAMPAIGN_GROUPS_LOADED:ga(ja.campaignGroupAPISpecs);break;case j.CAMPAIGN_GROUP_SELECT:da(ja.id);ha.inform('change');break;case j.CAMPAIGN_GROUP_SELECT_AND_UPDATE:da(ja.id);ca(ja);ha.inform('change');break;case j.CREATE_SIMILAR_AD:if(ha.getSelectedState().id===w){var ka=r.set(ha.getSelectedState(),{id:ja.campaignGroupID,isNew:false,objective:o.getKPIObjective(),campaign_group_status:v.ACTIVE});ga([ka]);da(ja.campaignGroupID);ha.inform('change');}break;case j.DESTINATION_CHANGE:if(ea())ha.inform('change');break;case j.KPI_OBJECTIVE_CHANGE:case j.OBJECTIVE_CHANGE:if(ea()){if(ha.isObjectiveSet())da(w);ha.inform('change');}break;case j.CAMPAIGN_GROUP_LOAD:ga([ja.campaignGroupApiSpec]);ha.inform('change');break;case h.PAGE_TRANSITION:aa();break;}}),getAllStates:function(){return x;},getValidExistingCampaignGroups:function(ia){var ja=[],ka=[],la;for(var ma in x){la=x[ma];if(!la.isNew){if(la.objective===ia)ja.push(la);if(la.objective===g.NONE)ka.push(la);}}return new r({matchingObjective:ja,noneObjective:ka});},getNewCampaignGroup:function(){return this.getState(w);},getSelectedState:function(){return this.getState(z);},getState:function(ia){return x[ia];},isObjectiveSet:function(){return this.getState(z).objective!==g.NONE;},_createCampaignGroup:function(ia){return new r({id:ia.id,isNew:false,name:ia.name,objective:ia.objective,status:ia.campaign_group_status});},_parseUpdates:function(ia){var ja={};ia.forEach(function(ka){ja[ka.id]=this._createCampaignGroup(ka);},this);return ja;}});e.exports=ha;});
__d("AdsCFObjectiveStore",["AdsActionTypes","AdsAPIObjectives","AdsCFAccountStore","AdsCFActionTypes","AdsCFDestinationStore","AdsCFObjectiveUtils","AdsCFUIObjectives","AdsDispatcher","ads-objectives","AdsPayloadSource","Arbiter","copyProperties","AdsCFCampaignGroupStore"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=o.APItoKPIObjectives,t=o.KPItoAPIObjectives,u,v,w,x;function y(){u=false;v=false;w=null;x=h.NONE;}y();var z=r(new q(),{getIsKPIObjectiveManuallySet:function(){return u;},getIsObjectiveManuallySet:function(){return v;},getKPIObjective:function(){return w;},getObjectiveType:function(){return x;},dispatchToken:n.register(function(aa){z.onDispatchToken(aa);}),onDispatchToken:function(aa){var ba=aa.action;switch(ba.actionType){case j.RESET_DESTINATION:case j.DESTINATION_CHANGE:n.waitFor([k.dispatchToken]);if(w===m.APP_INSTALLS){x=l.getDefaultObjectiveType();}else if(w===m.APP_ENGAGEMENT)if(k.isMobilePlatformOnlyApp()){x=h.MOBILE_APP_ENGAGEMENT;}else x=t[w];z.inform('change');break;case j.OBJECTIVE_CHANGE:x=ba.objectiveType;v=true;if(k.getIsObjectiveAppStoreMedia(x)){w=m.APP_STORE_MEDIA_VISITS;}else w=s[x];z.inform('change');break;case j.CAMPAIGN_GROUP_SELECT:case j.CAMPAIGN_SELECT:if(aa.payloadsource===p.URL_PARAM_LOAD&&i.isCampaignGroupAware()){var ca=b('AdsCFCampaignGroupStore');n.waitFor([ca.dispatchToken]);var da=ca.getSelectedState().objective;if(da===h.NONE)break;x=da;w=o.APItoKPIObjectives[da];z.inform('change');}break;case j.KPI_OBJECTIVE_CHANGE:n.waitFor([k.dispatchToken]);w=ba.kpiObjective;u=true;if(w===m.APP_INSTALLS&&k.hasDestination()){x=l.getDefaultObjectiveType();}else if(w===m.APP_ENGAGEMENT&&k.isMobilePlatformOnlyApp()){x=h.MOBILE_APP_ENGAGEMENT;}else x=t[w];z.inform('change');break;case g.PAGE_TRANSITION:y();break;}}});e.exports=z;});
__d("AdsCFUserStore",["AdsDispatcher","Arbiter","AdsCFActionTypes","copyProperties"],function(a,b,c,d,e,f,g,h,i,j){var k,l;function m(){k=[];l=[];}m();var n=j(new h(),{getAllActors:function(){return k;},getAvailableActors:function(){return l;},dispatchToken:g.register(function(o){var p=o.action;switch(p.actionType){case i.CHANGE_ACTORS:l=p.availableActors?p.availableActors.slice(0):[];k=p.allActors?p.allActors.slice(0):l.slice(0);n.inform('change');break;case i.ADD_ACTOR:p.actor.published=true;k.push(p.actor);l.push(p.actor);n.inform('change');break;}})});e.exports=n;});
__d("AdsCFCreativeStore",["AdCreativeType","AdImageSpecsUtils","AdsActionTypes","AdsCFActionTypes","AdsCFConstants","AdsCFCreateModeStore","AdsCFCreativePlacementUtils","AdsCFCreativeProperties","AdsCFCreativeUtils","AdsCFCreativeViewActions","AdsCFDestinationDataLoader","AdsCFDestinationStore","AdsDispatcher","AdsCFObjectiveStore","AdsCFUserStore","AdsCreationConfig","AdsCreativeUtils","ApiCreativeTypes","Arbiter","copyProperties","invariant","merge","removeFromArray","whitelistObjectKeys","ads-destinationType"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){"use strict";var ea=b('ads-destinationType').DEST_TYPE,fa=m.getPlacementsState,ga=m.hasEnabledPlacement,ha=m.isPlacementSupported,ia=g.AD_CREATIVE_TYPE,ja=k.PlacementID,ka=k.PlacementStates,la=k.CreativeID.PRIMARY,ma=k.CreativeID.SECONDARY,na=k.CreativeStatusModes,oa,pa,qa,ra,sa;function ta(){oa={};oa[la]={};oa[ma]={};pa={};qa=false;ra=[];sa=[];}ta();function ua(pb,qb){oa[pb]=ba(oa[pb],qb);}function va(pb,qb){var rb={apiCreativeID:null,creativeType:null,status:null,placements:null};qb.forEach(function(sb){rb[sb]=null;});return rb;}function wa(pb){if(pb.addedSponsoredStory)ca(sa,pb.addedSponsoredStory);if(pb.removedSponsoredStory)if(sa.indexOf(pb.removedSponsoredStory)===-1)sa.push(pb.removedSponsoredStory);ab();}function xa(pb){var qb=pb||oa[la].storyId,rb=t.getObjectiveType();ra=w.getAvailableSponsoredStories(r.getDestinationType(),rb,r.getDestinationDetails(),r.getPagePostDetails(qb));ab();}function ya(pb){ra.forEach(function(qb){if(pb.indexOf(qb)===-1&&sa.indexOf(qb)===-1)sa.push(qb);});pb.forEach(function(qb){if(ra.indexOf(qb)===-1)ra.push(qb);});ab();}function za(pb){if(r.getCachedPostLinkData(pb))return;q.fetchPostLinkData(pb,r.getPagePostDetails(pb));}function ab(){var pb=[];ra.forEach(function(qb){pb.push({id:qb,enabled:sa.indexOf(qb)===-1});});ua(ma,{availableSponsoredStories:pb});}function bb(pb){var qb=pb.creativeID;if(pb.actor!==undefined&&qb===ma)eb(pb);if(pb.showRelatedFanPage!==undefined&&qb===la)db(pb);}function cb(pb,qb){var rb;if(pb&&qb){rb=qb.id;}else rb=0;ua(la,{relatedFanPage:rb});}function db(pb){aa(pb.creativeID===la);var qb=pb.showRelatedFanPage;cb(qb,ob.getState(ma).actor);}function eb(pb){aa(pb.creativeID===ma);cb(ob.getState(la).showRelatedFanPage,pb.actor);}function fb(){var pb=ob.getState(la),qb=pb.creativeType,rb=function(tb,ub,vb){if(ub.placement in tb.validationMap)return;p.imageValidated(la,tb,ub.placement,vb);},sb=pb.imageList;if(sb)sb.forEach(function(tb){Object.keys(ja).forEach(function(ub){var vb=ha(pb,ub);if(vb){var wb=h.getImageSpecForAdType(qb,ub);wb&&tb.validate(wb,rb);}else delete tb.validationMap[ub];});});}function gb(pb,qb,rb){var sb=ob.getState(la),tb=sb.imageList;tb&&tb.some(function(ub){if(ub.equals(pb)){ub.validationMap[qb]=rb;return true;}});}function hb(pb){var qb=pb.creativeID;aa(qb);var rb=pb.creativeType||oa[qb].creativeType;aa(rb);if(pb.storyId){var sb=pb.storyId;xa(sb);za(sb);}ua(qb,da(pb,va(rb,n.idToType[rb].validFields)));}function ib(pb){var qb=pb.creativeType;if(!qb)return;pa[pb.creativeID]=da(pb,va(qb,n.idToType[qb].validFields));}function jb(pb,qb,rb){var sb=oa[pb].status||na.ENABLED;if(sb===na.UNAVAILABLE||sb===na.DISQUALIFIED)sb=na.ENABLED;if(qb.id===x.QUERY_BASED&&sb===na.ENABLED&&pb===ma&&oa[la].status===na.ENABLED)sb=na.DISABLED;if(qb.isAdminOnly&&!rb.isAdmin)sb=na.UNAVAILABLE;return sb;}function kb(pb,qb,rb,sb){var tb=qb.id,ub=z({creativeType:tb,status:jb(pb,qb,sb)},rb);if(pb===ma&&tb===x.QUERY_BASED){xa();ub.status=ra.length?ub.status:na.UNAVAILABLE;}var vb=da(ub,va(qb.id,n.idToType[qb.id].validFields));vb.placements=undefined;vb.storyId&&za(vb.storyId);ua(pb,vb);}function lb(pb,qb,rb,sb,tb){var ub=w.getPrimaryCreativeConfig(sb,pb,{destinationDetails:tb});kb(la,ub,w.getDefaultCreativeData(ub.id,pb,qb,rb,tb,oa[la]),tb);var vb=nb();if(sb===ea.EXTERNAL_WEBPAGE){ua(la,{linkDescription:'',actor:vb});return;}}function mb(){var pb=oa[la];if(pb.creativeType===ia.STANDARD){ua(la,{creativeType:ia.FEED_URL,linkDescription:'',actor:nb()});delete pb.relatedFanPage;}else if(pb.creativeType===ia.FEED_URL){var qb=r.getDestinationDetails();ua(la,{creativeType:ia.STANDARD,relatedFanPage:qb.relatedFanPage});delete pb.actor;delete pb.linkDescription;delete pb.storyId;}}function nb(){var pb=oa[la],qb=u.getAvailableActors()||[],rb=pb.relatedFanPage||r.getDestinationDetails().relatedFanPage;rb=rb+'';var sb=qb.filter(function(tb){return tb.id===rb;})[0];if(!sb&&qb.length&&qb.length<=v.maxPagesForUrlDefaulting)sb=qb[0];return sb;}var ob=z(new y(),{resetCreative:function(){},isPlacedOnNewsFeed:function(){var pb=oa[la];return pb.creativeType===ia.FEED_URL;},getState:function(pb){var qb=oa[pb];if(!qb.creativeType)return {};var rb=da(qb,va(qb.creativeType,n.idToType[qb.creativeType].validFields));rb.hasChanged=o.hasCreativeChanged(rb,pa[pb]);if(qb.creativeType===ia.FEED_URL&&rb.hasChanged)rb.storyId=undefined;return rb;},dispatchToken:s.register(function(pb){ob.onDispatchToken(pb);}),onDispatchToken:function(pb){var qb=pb.action;switch(qb.actionType){case j.CREATIVE_INIT:if(qb.selectedSponsoredStories&&l.isEditingExisting())ya(qb.selectedSponsoredStories);hb(qb);fb();ib(qb);if(l.getCurrentMode()!==k.CreateMode.EDIT_EXISTING){qb.autoUpdate=false;hb(qb);}ob.inform('change');break;case j.ADD_ACTOR:hb({creativeID:la,actor:qb.actor});ob.inform('change');break;case j.CREATIVE_CHANGE:hb(qb);qb.imageList&&fb();bb(qb);ob.inform('change');break;case j.IMAGE_VALIDATED:gb(qb.image,qb.placement,qb.validation);ob.inform('change');break;case j.SPONSORED_STORY_CHANGE:wa(qb);ob.inform('change');break;case j.CREATIVE_PLACEMENTS_CHANGE:aa(qb.creativeID===la);var rb=oa[la],sb=qb.placementList,tb=qb.enabled?ka.ENABLED:ka.DISABLED,ub=ba(fa(rb));sb.forEach(function(ec){ub[ec]=tb;});if(!ga(ba(rb,{placements:ub})))Object.keys(ub).some(function(ec){if(ha(rb,ec)&&sb.indexOf(ec)===-1){ub[ec]=ka.ENABLED;return true;}});if(rb.creativeType===x.STANDARD||rb.creativeType===ia.FEED_URL){var vb=ub[ja.NEWS_FEED]===ka.ENABLED||ub[ja.MOBILE_NEWS_FEED]===ka.ENABLED?ia.FEED_URL:x.STANDARD;if(vb!==rb.creativeType)mb();}hb({creativeID:qb.creativeID,placements:ub});ob.inform('change');break;case j.CREATIVE_STATUS_CHANGE:var wb=qb.creativeID,xb=(wb===la)?ma:la,yb=ob.getState(xb);if((qb.status===na.DISABLED||qb.status===na.DISQUALIFIED)&&yb.status===na.DISABLED)ua(xb,{status:na.ENABLED});ua(wb,{status:qb.status});ob.inform('change');break;case j.PAGE_POSTS_LOADED:s.waitFor([r.dispatchToken]);if((qa||!oa[la].storyId)&&oa[la].creativeType&&oa[la].creativeType!==x.INLINE_FAN){hb({creativeID:la,storyId:r.getDefaultStoryIDForCreative()});ob.inform('change');}qa=false;break;case j.PAGE_POSTS_PUBLISHED:s.waitFor([r.dispatchToken]);var zb=r.getDefaultStoryIDForCreative();if(zb){hb({creativeID:la,storyId:zb});}else qa=true;ob.inform('change');break;case j.RESET_DESTINATION:if(l.isCreatingSimilar())break;ta();ob.inform('change');break;case j.DESTINATION_CHANGE:case j.OBJECTIVE_CHANGE:case j.KPI_OBJECTIVE_CHANGE:s.waitFor([t.dispatchToken,r.dispatchToken]);if(qb.actionType===j.OBJECTIVE_CHANGE&&oa[la].creativeType===ia.CONTEXTUAL_APP_AD){ta();}else if(qb.actionType===j.DESTINATION_CHANGE)if(l.isCreatingSimilar()){oa[la].linkUrl=undefined;oa[la].storyId=undefined;}else ta();if(qb.actionType===j.KPI_OBJECTIVE_CHANGE&&!r.hasDestination())break;lb(t.getObjectiveType(),r.getDestinationID(),r.getDefaultStoryIDForCreative(),r.getDestinationType(),r.getDestinationDetails());if(qb.actionType===j.OBJECTIVE_CHANGE&&oa[ma].status===na.UNAVAILABLE)oa[la].status=na.ENABLED;fb();ob.inform('change');break;case j.IMAGE_CROP_CHANGE:var ac=qb.coordinates,bc=qb.cropKey,cc=oa[la],dc=cc.imageList;dc=dc.map(function(ec){if(!ec.equals(qb.image))return ec;var fc={};fc[bc]=ac;return ec.clone({crops:fc});});ua(la,{imageList:dc});ob.inform('change');break;case i.PAGE_TRANSITION:ta();break;}},getPrimaryDisabled:function(){return (oa[la].status!==na.ENABLED);},processImageValidationChange:gb,validateImages:fb});e.exports=ob;});
__d("AdsCFTargetingStore",["AdsAccountCapabilities","ads-app-platforms","AdsCFAccountStore","AdsCFConstants","AdsCFCreateModeStore","AdsCFCreativeStore","AdsCFDestinationStore","AdsCFObjectiveStore","AdsCountries","AdsCreationConfig","AdsDispatcher","ads-mobile-platforms","AdsPayloadSource","Arbiter","AdsCFActionTypes","AdsCommonTargetingProperties","AdsTargetingAdvancedDemoConstants","ImmutableObject","URIInitDataUtil","AdsAPISpec","AdsUtils","copyProperties","merge","AdsAPIObjectives","whitelistObjectKeys","LocationConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){var fa=b('LocationConstants').RadiusInfo,ga=j.CanonicalID,ha='countries',ia='cities',ja='regions',ka='zips',la=50,ma,na,oa,pa,qa={},ra={targetAllGraduationYears:true};function sa(){ma={};ma[ga]=ba({},ra);}sa();function ta(ib,jb){ma[ib]=ca(ma[ib],jb);}function ua(ib){return ma[ga][ib];}function va(ib){var jb=Math.max(+ib.minAge,p.minAge);return {ageMinLimit:jb,ageMin:jb};}function wa(ib){return xa(ib,'whitelist').filter(function(jb){return !!o.countries[jb];});}function xa(ib,jb){var kb=ib.geoGating||{};if(!kb[jb]||typeof kb[jb]!=='object')return [];return Object.keys(kb[jb]);}function ya(ib){var jb=ib.destinationCityInfo;if(jb)return true;var kb=wa(ib);if(kb.length)return false;var lb=ib.fanCountries||[];return !!lb.length;}function za(ib){var jb=wa(ib);if(jb.length){return jb;}else{var kb=i.getState().businessCountryCode||p.userLocalCountryCode||'US';return [kb];}}function ab(ib){return {cities:[],locTargeting:ha,countries:za(ib)};}function bb(ib){if(!ya(ib))return ab(ib);var jb=ib.destinationCityInfo;if(jb)return {countries:[jb.country],cities:[{name:jb.name,id:jb.id}],locTargeting:ia,radius:la,radiusIfValid:la};return ab(ib);}function cb(){var ib=ua(ha);return ib&&ib.length===1&&ib[0];}function db(ib,jb,kb){var lb=[],mb=[];if(jb.isAdmin){switch(kb){case da.CANVAS_APP_ENGAGEMENT:lb=[ib];break;}switch(kb){case da.PAGE_LIKES:case da.EVENT_RESPONSES:case da.CANVAS_APP_INSTALLS:case da.MOBILE_APP_INSTALLS:mb=[ib];break;}}return {connections:lb,excludedConnections:mb};}function eb(ib,jb){var kb=r.operatingSystems,lb=h.APP_PLATFORM,mb=[],nb;if(jb===da.MOBILE_APP_INSTALLS||jb===da.MOBILE_APP_ENGAGEMENT||m.getIsObjectiveAppStoreMedia(jb)){if(ib.supportedDevices){mb=ib.supportedDevices;}else mb=[r.deviceTypes.IPAD,r.deviceTypes.IPOD,r.deviceTypes.IPHONE];var ob=ib.appPlatforms;if(ob)if(ob.indexOf(lb.IOS)!==-1){nb=kb.IOS;}else if(ob.indexOf(lb.ANDROID)!==-1){nb=kb.ANDROID;}else if(ob.indexOf(lb.WINDOWS)!==-1)nb=kb.WINDOWS;}return {mobileDevices:mb,mobileOperatingSystem:nb};}var fb=v;function gb(){var ib=n.getObjectiveType(),jb=m.getDestinationDetails(),kb=m.getDestinationID(),lb=i.hasAccountCapability(g.CAN_USE_UNIFIED_INTERESTS),mb={id:kb,name:jb.destinationName},nb=db(mb,jb,ib),ob=eb(jb,ib),pb=ba({},nb,ob,{wifiOnly:false});if(lb){pb.interests=jb.interests;}else pb.keywords=jb.interests;ta(ga,pb);}var hb=ba(new t(),{getState:function(ib){return new x(ma[ib]||{});},getValue:function(ib){return ua(ib);},getSyndicatedCustomAudiencesMap:function(){return new x(qa);},getTargetableCountries:function(){return na;},getTargetableLanguages:function(){return oa;},getTargetableAudiences:function(){return pa;},dispatchToken:q.register(function(ib){var jb=ib.action,kb,lb,mb=ib.payloadsource===s.VIEW_ACTION,nb=ib.payloadsource===s.URL_PARAM_LOAD,ob=false;switch(jb.actionType){case u.CREATIVE_CHANGE:if(!jb.mobileStore)break;q.waitFor([l.dispatchToken]);var pb=l.getState(j.CreativeID.PRIMARY).mobileStore;ta(ga,{mobileOperatingSystem:h.getOSForMobileStore(pb)});ob=true;break;case u.TARGETING_CHANGE:ta(ga,ea(jb,fb));if(jb.syndicatedCustomAudiencesLibrary)jb.syndicatedCustomAudiencesLibrary.forEach(function(xb){qa[xb.id]=true;});ob=true;break;case u.TARGETABLE_COUNTRIES_CHANGE:na=jb.countries;ob=true;break;case u.TARGETABLE_LANGUAGES_CHANGE:oa=aa.indexedMap(jb.languages||[],'key','name');ob=true;break;case u.TARGETABLE_AUDIENCES_CHANGE:pa=ca(pa,jb.audiences);ob=true;break;case u.TARGETING_RESET_DEFAULTS:case u.DESTINATION_CHANGE:if(y.getDefaultTargeting())break;q.waitFor([n.dispatchToken,m.dispatchToken,l.dispatchToken]);kb=m.getDestinationDetails();if(k.isCreatingSimilar()||(!mb&&!nb&&jb.actionType!==u.TARGETING_RESET_DEFAULTS)){var qb=va(kb),rb=ua('ageMin');if(qb.ageMin<rb)qb.ageMin=rb;ta(ga,qb);ob=true;break;}var sb=bb(kb),tb=va(kb),ub=(sb.cities||[]).map(function(xb){var yb=ba({},xb);yb.radius=sb.radius;yb.distance_unit=fa.getLocalizedUnit();yb.key=xb.id;yb.country=sb.countries[0];return yb;}),vb=ub.length?[]:sb.countries;sb.geoLocations={countries:vb,regions:[],cities:ub,zips:[]};lb=ba({userAdclusters:[],locales:[],educationStatuses:[],workNetworks:[],friendsOfConnections:[],keywords:[]},sb,tb);ta(ga,lb);gb();ob=true;break;case u.OBJECTIVE_CHANGE:case u.KPI_OBJECTIVE_CHANGE:if(!mb&&!nb)break;q.waitFor([n.dispatchToken,m.dispatchToken,l.dispatchToken]);gb();ob=true;break;case u.RESET_DESTINATION:if(k.isCreatingSimilar())break;sa();ob=true;break;}if(ob){var wb=ea(jb,fb);hb.inform('change',{payloadsource:ib.payloadsource,changedProperties:wb});}}),getCountryHasOptions:function(){return this.getCountryHasCities()||this.getCountryHasZips()||this.getCountryHasRegions();},getSingleCountry:function(){return cb();},getCountryHasRegions:function(){var ib=cb();return ib&&o.hasRegions(ib);},getCountryHasCities:function(){var ib=cb();return ib&&o.hasCities(ib);},getCountryHasZips:function(){var ib=cb();return ib==='US';},getLocTargeting:function(){var ib=ua('locTargeting');if(ib===ia)return this.getCountryHasCities()?ia:ha;if(ib===ja)return this.getCountryHasRegions()?ja:ha;if(ib===ka)return this.getCountryHasZips()?ka:ha;return ha;},getHasCollege:function(){var ib=this.getEducationStatuses()||[];return (ib.indexOf(z.EDUCATION_STATUSES.IN_COLLEGE)>=0||ib.indexOf(z.EDUCATION_STATUSES.COLLEGE_GRAD)>=0);},getMaxGradYear:function(){return ua('maxGradYear')||w.graduationYearBounds.maxGraduationYear;},getMinGradYear:function(){return ua('minGradYear')||w.graduationYearBounds.minGraduationYear;},getMobileMinVersion:function(ib){var jb=r.operatingSystems,kb;if(ib===jb.IOS){kb=ua('minIosVersion');}else if(ib===jb.ANDROID)kb=ua('minAndroidVersion');return kb;}});e.exports=hb;});
__d("AdsTargetingModelAdapter",["AdsDispatcher","AdsCFTargetingStore","AdsCreationConfig","AdsCFActionTypes","AdsModelAdapterMixin","AdsPayloadSource","ads-mobile-platforms","AdsAPISpec","merge","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=m.operatingSystems,r=false,s={};function t(aa,ba){return function(){var ca=h.getValue(aa);return ca===undefined?ba:ca;};}function u(aa){return h[aa];}function v(aa,ba){if(r){s=p(s,aa);return;}var ca=p({actionType:j.TARGETING_CHANGE},aa);if(!ba){g.handleUpdateFromUnknownSource(ca);}else g.handleUpdateFromViewAction(ca);}function w(aa){return function(ba,ca){var da={};da[aa]=ba;v(da,!!ca);};}function x(aa,ba){if(!aa)return ba;return ba.toLowerCase()+'_ver_'+aa+'_and_above';}function y(aa){return function(){var ba=Array.prototype.slice.apply(arguments);ba[1]=true;aa.apply(this,ba);};}var z=o(k,{initSubscriptions:function(aa){h.subscribe('change',function(ba,ca){this.invokeChanged({ageMax:this.getAgeMax(),ageMin:this.getAgeMin(),behaviors:this.getBehaviors(),cities:this.getCities(),connections:this.getConnections(),countries:this.getCountries(),countryHasCities:this.getCountryHasCities(),countryHasOptions:this.getCountryHasOptions(),countryHasRegions:this.getCountryHasOptions(),countryHasZips:this.getCountryHasZips(),friendsOfConnections:this.getFriendsOfConnections(),hasCollege:this.getHasCollege(),geoLocations:this.getGeoLocations(),excludedGeoLocations:this.getExcludedGeoLocations(),locTargeting:this.getLocTargeting(),loggedCities:this.getCities(),loggedConnections:this.getConnections(),loggedCountries:this.getCountries(),loggedExcludedConnections:this.getExcludedConnections(),loggedLocTargeting:this.getLocTargeting(),loggedFriendsOfConnections:this.getFriendsOfConnections(),loggedInterestedInSex:this.getInterestedInSex(),loggedLocales:this.getLocales(),loggedAgeMax:this.getAgeMax(),loggedAgeMin:this.getAgeMin(),loggedRequireExactAgeMatch:this.getRequireExactAgeMatch(),loggedSex:this.getSex(),loggedCollegeNetworks:this.getCollegeNetworks(),loggedCollegeMajors:this.getCollegeMajors(),loggedEducationSchools:this.getEducationSchools(),loggedEducationMajors:this.getEducationMajors(),loggedMinGradYear:this.getMinGradYear(),loggedMaxGradYear:this.getMaxGradYear(),loggedWorkEmployers:this.getWorkEmployers(),loggedWorkNetworks:this.getWorkNetworks(),loggedRadius:this.getRadius(),loggedRegions:this.getRegions(),loggedZips:this.getZips(),radius:this.getRadius(),regions:this.getRegions(),mobileOperatingSystem:this.getMobileOperatingSystem(),targetAllGraduationYears:this.getTargetAllGraduationYears(),wifiOnly:this.getWifiOnly(),zips:this.getZips()});if(ca.payloadsource===l.VIEW_ACTION)for(var da in ca.changedProperties)if(ca.changedProperties.hasOwnProperty(da))this.invoke('changedByUser',da);}.bind(this));},getCities:function(){return this.getLocTargeting()==='cities'?h.getValue('cities'):[];},getCountries:t('countries',[]),getCountryHasCities:u('getCountryHasCities'),getCountryHasOptions:u('getCountryHasOptions'),getCountryHasRegions:u('getCountryHasRegions'),getCountryHasZips:u('getCountryHasZips'),getLocTargeting:u('getLocTargeting'),getRadius:function(){var aa=this.getRadiusIfValid();if(aa===undefined)aa=0;return this.getLocTargeting()==='cities'?aa:0;},getRadiusIfValid:t('radiusIfValid'),getRegions:function(){return this.getLocTargeting()==='regions'?h.getValue('regions'):[];},getSingleCountry:u('getSingleCountry'),getZips:function(){return this.getLocTargeting()==='zips'?h.getValue('zips'):[];},getAgeMinLimit:t('ageMinLimit',i.minAge),getAgeMax:function(){var aa=h.getValue('ageMax');if(!aa){return i.maxAge;}else return aa;},getAgeMin:function(){var aa=h.getValue('ageMin'),ba=0;if(!aa){ba=i.minAge;}else ba=aa;return Math.max(this.getAgeMinLimit(),ba);},getBroadAge:function(){return !this.getRequireExactAgeMatch();},getGenders:function(){var aa=this.getSex();return aa===n.GENDERS.ALL?[]:[aa];},getRequireExactAgeMatch:t('requireExactAgeMatch',true),getSex:t('sex',n.GENDERS.ALL),getInterests:t('interests'),getKeywords:t('keywords'),getUserAdclusters:t('userAdclusters'),getConjunctiveUserAdclusters:t('conjunctiveUserAdclusters'),getCustomAudiences:t('customAudiences'),getNonSyndicatedCustomAudiences:function(){var aa=this.getCustomAudiences()||[],ba=h.getSyndicatedCustomAudiencesMap(),ca=[];aa.forEach(function(da){if(!ba[da.id])ca.push(da);});return ca;},getSyndicatedCustomAudiences:function(){var aa=this.getCustomAudiences()||[],ba=h.getSyndicatedCustomAudiencesMap(),ca=[];aa.forEach(function(da){if(ba[da.id])ca.push(da);});return ca;},getSyndicatedCustomAudiencesLibrary:t('syndicatedCustomAudiencesLibrary'),getExcludedCustomAudiences:t('excludedCustomAudiences'),getConnections:t('connections'),getExcludedConnections:t('excludedConnections'),getFriendsOfConnections:t('friendsOfConnections'),getInterestedIn:function(){var aa=this.getInterestedInSex();return aa===n.GENDERS.ALL?[]:[aa];},getInterestedInSex:t('interestedInSex',n.GENDERS.ALL),getRelationshipStatuses:t('relationshipStatuses'),getFamilyStatuses:t('familyStatuses'),getIndustries:t('industries'),getLifeEvents:t('lifeEvents'),getMarkets:t('markets'),getPolitics:t('politics'),getIncome:t('income'),getNetWorth:t('netWorth'),getHomeType:t('homeType'),getHomeOwnership:t('homeOwnership'),getHomeValue:t('homeValue'),getEthnicAffinity:t('ethnicAffinity'),getGeneration:t('generation'),getHouseholdComposition:t('householdComposition'),getMoms:t('moms'),getOfficeType:t('officeType'),getLocales:t('locales'),getMinIosVersion:t('minIosVersion'),getMinAndroidVersion:t('minAndroidVersion'),getMobileDevices:t('mobileDevices',[]),getMobileMinVersion:u('getMobileMinVersion'),getMobileOperatingSystem:t('mobileOperatingSystem'),getUserOs:function(){var aa=this.getMobileOperatingSystem();if(!aa)return [];var ba;if(aa===q.IOS){ba=this.getMinIosVersion();}else if(aa===q.ANDROID)ba=this.getMinAndroidVersion();return [x(ba,aa)];},getUserDevice:function(){var aa=this.getMobileOperatingSystem(),ba=this.getMobileDevices();if(aa===q.IOS){return ba.filter(m.isIosDevice);}else if(aa===q.ANDROID)return ba.filter(m.isAndroidDevice);return [];},getWifiOnly:t('wifiOnly',false),getWirelessCarrier:function(){var aa=m.carriers;if(this.getWifiOnly())return [aa.WIFI];return [];},getCollegeMajors:function(){return h.getValue('collegeMajors')||[];},getCollegeNetworks:function(){return h.getValue('collegeNetworks')||[];},getEducationMajors:function(){return h.getValue('educationMajors')||[];},getEducationSchools:function(){return h.getValue('educationSchools')||[];},getCollegeYears:function(){if(this.getTargetAllGraduationYears())return [];var aa=this.getMinGradYear(),ba=this.getMaxGradYear(),ca=[];for(var da=aa;da<=ba;da++)ca.push(da);return ca;},getEducationStatuses:t('educationStatuses'),getHasCollege:u('getHasCollege'),getGeoLocations:t('geoLocations'),getExcludedGeoLocations:t('excludedGeoLocations'),getMaxGradYear:u('getMaxGradYear'),getMinGradYear:u('getMinGradYear'),getTargetAllGraduationYears:t('targetAllGraduationYears'),getWorkEmployers:function(){return h.getValue('workEmployers')||[];},getWorkNetworks:t('workNetworks'),getWorkPositions:t('workPositions'),getBehaviors:t('behaviors'),getExcludedUserAdclusters:t('excludedUserAdclusters'),getPageTypes:t('pageTypes'),setCities:function(aa,ba){aa=aa||[];aa.length&&this.setLocTargeting('cities');v({cities:aa},ba);},setCountries:w('countries'),setLocTargeting:w('locTargeting'),setGeoLocations:w('geoLocations'),setExcludedGeoLocations:w('excludedGeoLocations'),setRadius:w('radiusIfValid'),setRadiusIfValid:w('radiusIfValid'),setRegions:function(aa,ba){aa=aa||[];aa.length&&this.setLocTargeting('regions');v({regions:aa},ba);},setZips:function(aa,ba){aa=aa||[];aa.length&&this.setLocTargeting('zips');v({zips:aa},ba);},setAgeMax:w('ageMax'),setAgeMin:w('ageMin'),setAgeMinLimit:w('ageMinLimit'),setBroadAge:function(aa,ba){v({requireExactAgeMatch:!aa},ba);},setGenders:function(aa,ba){var ca=aa&&aa.length===1?aa[0]:n.GENDERS.ALL;v({sex:ca},ba);},setRequireExactAgeMatch:w('requireExactAgeMatch'),setSex:w('sex'),setCustomAudiences:w('customAudiences'),setExcludedCustomAudiences:w('excludedCustomAudiences'),setKeywords:w('keywords'),setInterests:w('interests'),setNonSyndicatedCustomAudiences:function(aa,ba){var ca=aa.concat(this.getSyndicatedCustomAudiences());this.setCustomAudiences(ca,ba);},setSyndicatedCustomAudiences:function(aa){var ba=aa.concat(this.getNonSyndicatedCustomAudiences());this.setCustomAudiences(ba);},setSyndicatedCustomAudiencesLibrary:w('syndicatedCustomAudiencesLibrary'),setUserAdclusters:w('userAdclusters'),setConjunctiveUserAdclusters:w('conjunctiveUserAdclusters'),setConnections:w('connections'),setExcludedConnections:w('excludedConnections'),setFriendsOfConnections:function(aa,ba){aa=aa.filter(function(ca){return !!ca.name&&!!ca.id;});v({friendsOfConnections:aa},ba);},setInterestedIn:function(aa,ba){this.setInterestedInSex(aa&&aa.length===1?aa[0]:n.GENDERS.ALL,ba);},setInterestedInSex:w('interestedInSex'),setRelationshipStatuses:w('relationshipStatuses'),setFamilyStatuses:w('familyStatuses'),setIndustries:w('industries'),setLifeEvents:w('lifeEvents'),setMarkets:w('markets'),setPolitics:w('politics'),setIncome:w('income'),setNetWorth:w('netWorth'),setHomeType:w('homeType'),setHomeOwnership:w('homeOwnership'),setHomeValue:w('homeValue'),setEthnicAffinity:w('ethnicAffinity'),setGeneration:w('generation'),setHouseholdComposition:w('householdComposition'),setMoms:w('moms'),setOfficeType:w('officeType'),setLocales:w('locales'),setMobileOperatingSystem:w('mobileOperatingSystem'),setMobileDevices:w('mobileDevices'),setWifiOnly:w('wifiOnly'),setMinIosVersion:w('minIosVersion'),setMinAndroidVersion:w('minAndroidVersion'),setMobileMinVersion:function(aa,ba){if(aa===q.IOS){this.setMinIosVersion(ba);}else if(aa===q.ANDROID)this.setMinAndroidVersion(ba);},setWirelessCarrier:function(aa,ba){var ca=m.carriers;if(aa&&aa.length&&aa[0]===ca.WIFI){this.setWifiOnly(true,ba);}else this.setWifiOnly(false,ba);},setUserDevice:function(aa,ba){var ca=m.deviceTypes;if(!aa||!aa.length)aa=[ca.IPAD,ca.IPOD,ca.IPHONE];this.setMobileDevices(aa,ba);},setUserOs:function(aa,ba){aa=aa||[];v({userOs:aa});aa.forEach(function(ca){var da=null;if(ca.indexOf('_ver_')>=0){var ea=ca.split('_ver_')[1];da=ea.split('_')[0];}var fa=function(ga,ha){ga=ga.toLowerCase();return ga.indexOf(ha.toLowerCase())>=0;};if(fa(ca,q.IOS)){this.setMobileOperatingSystem(q.IOS,ba);this.setMinIosVersion(da,ba);}else if(fa(ca,q.ANDROID)){this.setMobileOperatingSystem(q.ANDROID,ba);this.setMinAndroidVersion(da,ba);}else this.setMobileOperatingSystem(null,ba);},this);},setEducationStatus:w('educationStatus'),setMinGradYear:w('minGradYear'),setMaxGradYear:w('maxGradYear'),setTargetAllGraduationYears:w('targetAllGraduationYears'),setCollegeMajors:w('collegeMajors'),setCollegeNetworks:w('collegeNetworks'),setEducationSchools:w('educationSchools'),setEducationMajors:w('educationMajors'),setCollegeYears:function(aa,ba){aa.sort(function(ca,da){return ca-da;});if(aa&&aa.length){this.setMinGradYear(aa[0],ba);this.setMaxGradYear(aa[aa.length-1],ba);this.setTargetAllGraduationYears(false,ba);}else this.setTargetAllGraduationYears(true,ba);},setEducationStatuses:w('educationStatuses'),setWorkEmployers:w('workEmployers'),setWorkNetworks:w('workNetworks'),setWorkPositions:w('workPositions'),setBehaviors:w('behaviors'),setExcludedUserAdclusters:w('excludedUserAdclusters'),setPageTypes:w('pageTypes'),getApiSpec:function(){var aa=this._getApiSpecForFields(n.TARGETING_FIELDS);aa.countries=[];aa.cities=[];aa.zips=[];aa.regions=[];aa.radius=undefined;aa.geo_locations=this._transformNewGeoAPISpec(aa.geo_locations||{});aa.excluded_geo_locations=this._transformNewGeoAPISpec(aa.excluded_geo_locations||{});return aa;},getGeoLocationsApiSpecMetaData:function(){var aa=this._getApiSpecForFields(n.TARGETING_FIELDS);return aa.geo_locations||{};},_transformNewGeoAPISpec:function(aa){return {countries:aa.countries||[],cities:(aa.cities||[]).map(function(ba){return {key:ba.key,radius:ba.radius,distance_unit:ba.distance_unit};}),regions:(aa.regions||[]).map(function(ba){return {key:ba.key};}),zips:(aa.zips||[]).map(function(ba){return {key:ba.key};})};},setApiSpec:function(aa){if(!aa.hasOwnProperty('relationship_statuses'))aa.relationship_statuses=null;r=true;this._setApiSpecForFields(n.TARGETING_FIELDS,aa);r=false;g.handleUpdateFromUnknownSource(p({actionType:j.TARGETING_CHANGE},s));s={};}});z=o(z,{getLoggedCountries:z.getCountries,getLoggedCities:z.getCities,getLoggedRegions:z.getRegions,getLoggedZips:z.getZips,getLoggedRadiusIfValid:z.getRadiusIfValid,getLoggedLocTargeting:z.getLocTargeting,getLoggedGeoLocations:z.getGeoLocations,getLoggedExcludedGeoLocations:z.getExcludedGeoLocations,getLoggedAgeMinLimit:z.getAgeMinLimit,getLoggedAgeMin:z.getAgeMin,getLoggedAgeMax:z.getAgeMax,getLoggedRequireExactAgeMatch:z.getRequireExactAgeMatch,getLoggedSex:z.getSex,getLoggedKeywords:z.getKeywords,getLoggedUserAdclusters:z.getUserAdclusters,getLoggedConjunctiveAdclusters:z.getConjunctiveUserAdclusters,getLoggedCustomAudiences:z.getCustomAudiences,getLoggedSyndicatedCustomAudiencesLibrary:z.getSyndicatedCustomAudiencesLibrary,getLoggedExcludedCustomAudiences:z.getExcludedCustomAudiences,getLoggedConnections:z.getConnections,getLoggedExcludedConnections:z.getExcludedConnections,getLoggedFriendsOfConnections:z.getFriendsOfConnections,getLoggedInterestedInSex:z.getInterestedInSex,getLoggedLocales:z.getLocales,getLoggedMobileOperatingSystem:z.getMobileOperatingSystem,getLoggedMobileDevices:z.getMobileDevices,getLoggedWifiOnly:z.getWifiOnly,getLoggedMinIosVersion:z.getMinIosVersion,getLoggedMinAndroidVersion:z.getMinAndroidVersion,getLoggedCollegeNetworks:z.getCollegeNetworks,getLoggedCollegeMajors:z.getCollegeMajors,getLoggedEducationSchools:z.getEducationSchools,getLoggedEducationMajors:z.getEducationMajors,getLoggedMinGradYear:z.getMinGradYear,getLoggedMaxGradYear:z.getMaxGradYear,getLoggedTargetAllGraduationYears:z.getTargetAllGraduationYears,getLoggedWorkEmployers:z.getWorkEmployers,getLoggedWorkNetworks:z.getWorkNetworks,getLoggedExcludedUserAdclusters:z.getExcludedUserAdclusters,getLoggedPageTypes:z.getPageTypes,setLoggedCountries:y(z.setCountries),setLoggedCities:y(z.setCities),setLoggedRegions:y(z.setRegions),setLoggedZips:y(z.setZips),setLoggedRadiusIfValid:y(z.setRadiusIfValid),setLoggedLocTargeting:y(z.setLocTargeting),setLoggedGeoLocations:y(z.setGeoLocations),setLoggedExcludedGeoLocations:y(z.setExcludedGeoLocations),setLoggedAgeMinLimit:y(z.setAgeMinLimit),setLoggedAgeMin:y(z.setAgeMin),setLoggedAgeMax:y(z.setAgeMax),setLoggedRequireExactAgeMatch:y(z.setRequireExactAgeMatch),setLoggedSex:y(z.setSex),setLoggedKeywords:y(z.setKeywords),setLoggedUserAdclusters:y(z.setUserAdclusters),setLoggedConjunctiveUserAdclusters:y(z.setConjunctiveUserAdclusters),setLoggedCustomAudiences:y(z.setCustomAudiences),setLoggedSyndicatedCustomAudiencesLibrary:y(z.setSyndicatedCustomAudiencesLibrary),setLoggedExcludedCustomAudiences:y(z.setExcludedCustomAudiences),setLoggedConnections:y(z.setConnections),setLoggedExcludedConnections:y(z.setExcludedConnections),setLoggedFriendsOfConnections:y(z.setFriendsOfConnections),setLoggedInterestedInSex:y(z.setInterestedInSex),setLoggedLocales:y(z.setLocales),setLoggedMobileOperatingSystem:y(z.setMobileOperatingSystem),setLoggedMobileDevices:y(z.setMobileDevices),setLoggedWifiOnly:y(z.setWifiOnly),setLoggedMinIosVersion:y(z.setMinIosVersion),setLoggedMinAndroidVersion:y(z.setMinAndroidVersion),setLoggedCollegeNetworks:y(z.setCollegeNetworks),setLoggedCollegeMajors:y(z.setCollegeMajors),setLoggedEducationSchools:y(z.setEducationSchools),setLoggedEducationMajors:y(z.setEducationMajors),setLoggedMinGradYear:y(z.setMinGradYear),setLoggedMaxGradYear:y(z.setMaxGradYear),setLoggedTargetAllGraduationYears:y(z.setTargetAllGraduationYears),setLoggedWorkEmployers:y(z.setWorkEmployers),setLoggedWorkNetworks:y(z.setWorkNetworks),setLoggedExcludedUserAdclusters:y(z.setExcludedUserAdclusters),setLoggedPageTypes:y(z.setPageTypes)});z.initSubscriptions();e.exports=z;});
__d("BoostedPostConstants",["fbt"],function(a,b,c,d,e,f,g){var h={TARGET_GROUP_FANS:'fans_and_friends',TARGET_GROUP_FANS_TEXT:"Fans and friends of fans",GENDER_MALE:'male',GENDER_MALE_TEXT:"Male",GENDER_FEMALE:'female',GENDER_FEMALE_TEXT:"Female",GENDER_BOTH:'male_and_female',GENDER_BOTH_TEXT:"Male and Female",AUDIENCE_LABELS:["Ad Stopped","Promoted Area","Target Group","Age","Gender","Interest","Other","Boosted By"],END_DATE_LABEL_INDEX:0,END_DATE_LABEL:"End Date",PAYMENT_LABELS:["Current Budget","Payment","Account"],CUSTOM_BUDGET_SELECTOR_VALUE:-1,BUDGET_KEY:'budgets'};e.exports=h;});
__d("BoostedBudgetDropdown.react",["BoostedPostConstants","React","Image.react","PopoverMenu.react","ReactXUIMenu","XUIButton.react","XUIGrayText.react","XUIText.react","ix","cx","fbt","ads-lib-formatters"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=k.SelectableMenu,t=k.SelectableItem,u=r.createIntlNumberFormatter(0),v=h.createClass({displayName:'BoostedBudgetDropdown',propTypes:{budgets:h.PropTypes.object.isRequired,selectedBudget:h.PropTypes.number.isRequired,onChange:h.PropTypes.func.isRequired,showCustomBudgetOption:h.PropTypes.bool.isRequired},_getEstimatedReach:function(w){return (m({className:"_5ydf pll",weight:"normal"},q._("Est. Reach {reach_estimate_lower_limit} - {reach_estimate_upper_limit}",[q.param("reach_estimate_lower_limit",u(this.props.budgets[w].reach_lower)),q.param("reach_estimate_upper_limit",u(this.props.budgets[w].reach_upper))])));},_getDropdownMenu:function(){var w=[];for(var x in this.props.budgets){var y=parseInt(x,10);w.push(t({className:"_5ydg mvs",value:y,selected:y===this.props.selectedBudget},n({className:"_5ydh prl",size:"xlarge"},this.props.budgets[x].label),this._getEstimatedReach(x)));}if(this.props.showCustomBudgetOption)w.push(t({className:"_5ydg mvs",value:g.CUSTOM_BUDGET_SELECTOR_VALUE},n({className:"prl",size:"xlarge"},"Choose Your Own")));return (s({onChange:this.props.onChange},w));},render:function(){return (j({alignh:this.props.alignh,menu:this._getDropdownMenu()},l({className:this.props.className,image:i({src:o('/images/ui/x/button/dark/chevron.png')})})));}});e.exports=v;});
__d("BoostedCurrencySelector",["ArbiterMixin","mixin"],function(a,b,c,d,e,f,g,h){var i=h(g);for(var j in i)if(i.hasOwnProperty(j))l[j]=i[j];var k=i===null?null:i.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=i;function l(m){"use strict";this._selector=m;this.init();}l.prototype.init=function(){"use strict";this._selector.subscribe('change',function(m,n){this.inform('change',n);}.bind(this));};l.prototype.getValue=function(){"use strict";return this._selector.getValue();};e.exports=l;});
__d("BoostedPrimedDao",["ApiClient","BoostedPagelikeAppConfig","CurrentLocale","AdsDaoGraph"],function(a,b,c,d,e,f,g,h,i,j){g.setClientID(h.client_id.toString());g.setAccessToken(h.access_token);var k=null;e.exports={setAccountID:function(l){k=j.primedForAccount(l).primedForLocale(i.get());},getDaoForCurrentAccount:function(){return k;}};});
__d("AdsTargetingTogglerSafeMixin",[],function(a,b,c,d,e,f){var g={setStateSafe:function(h,i){setTimeout(function(){this.setState(h,i);}.bind(this),0);}};e.exports=g;});
__d("BoostedPostBasicDialog.react",["AdsTargetingTogglerSafeMixin","React","ReactLayeredComponentMixin","XUIDialog.react","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogButton.react","XUIText.react","cloneWithProps"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=h.createClass({displayName:'BoostedPostBasicDialog',mixins:[i,g],propTypes:{title:h.PropTypes.string.isRequired,body:h.PropTypes.string.isRequired,width:h.PropTypes.number.isRequired,entryComponent:h.PropTypes.component.isRequired,closeButtonText:h.PropTypes.string.isRequired,confirmText:h.PropTypes.string,confirmHandler:h.PropTypes.func},getInitialState:function(){return {dialogShown:false};},_onEntryClick:function(){this.setStateSafe({dialogShown:true});},_onToggle:function(r){this.setStateSafe({dialogShown:r});},_onConfirm:function(){this.setStateSafe({dialogShown:false});this.props.confirmHandler();},_onClose:function(){this.setStateSafe({dialogShown:false});},renderLayers:function(){var r=null;if(this.props.confirmHandler&&this.props.confirmText)r=n({use:"confirm",label:this.props.confirmText,onClick:this._onConfirm});return {dialog:j({causalElementRef:"entry",shown:this.state.dialogShown,onToggle:this._onToggle,width:this.props.width},k({showCloseButton:false},h.DOM.span(null,this.props.title)),l(null,h.DOM.div(null,o({size:"small"},this.props.body))),m(null,n({onClick:this._onClose,label:this.props.closeButtonText}),r))};},render:function(){return (p(this.props.entryComponent,{ref:"entry",onClick:this._onEntryClick}));}});e.exports=q;});
__d("XBoostedPostCalculateBudgetsControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f,g){e.exports=g.create("\/ads\/ajax\/boosted_post\/calculate_budget\/",{id:{type:"Int",required:true},page_id:{type:"Int",required:true},post_id:{type:"Int"},boosted_post_config:{type:"String",required:true},mode:{type:"Enum",required:true}});});
__d("BoostedPostBudgetReachDispatcher",["AsyncRequest","BoostedPostBudgetModes","XBoostedPostCalculateBudgetsControllerURIBuilder"],function(a,b,c,d,e,f,g,h,i){function j(k,l){"use strict";this.$BoostedPostBudgetReachDispatcher0=k;this.$BoostedPostBudgetReachDispatcher1=l;}j.prototype.getNewBudgets=function(k,l,m,n,o){"use strict";new g().setURI(this.$BoostedPostBudgetReachDispatcher2(k,l,n)).setHandler(function(p){var q=p.payload;if(n===h.UPDATE_CUSTOM_BUDGET)q.budgetInfo=this.$BoostedPostBudgetReachDispatcher3(m,q.budgetInfo);o(q);}.bind(this)).send();};j.prototype.$BoostedPostBudgetReachDispatcher3=function(k,l){"use strict";var m=Object.keys(k).concat([this.$BoostedPostBudgetReachDispatcher4(l)]);m.sort();var n={},o=null;for(var p=0;p<m.length;p++){o=m[p];n[o]=k[o]||l[o];}return n;};j.prototype.$BoostedPostBudgetReachDispatcher4=function(k){"use strict";return parseInt(Object.keys(k)[0],10);};j.prototype.$BoostedPostBudgetReachDispatcher2=function(k,l,m){"use strict";return (new i().setInt('id',k).setInt('page_id',this.$BoostedPostBudgetReachDispatcher0).setInt('post_id',this.$BoostedPostBudgetReachDispatcher1).setString('boosted_post_config',l.getJSONString()).setEnum('mode',m).getURI());};e.exports=j;});
__d("BoostedPostBudgetSelector",["Arbiter","ArbiterMixin","BoostedPostLogging","CSS","DOM","Event","fbt","MenuSelectableItem","mixin","PromotedPostConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=o(h);for(var r in q)if(q.hasOwnProperty(r))t[r]=q[r];var s=q===null?null:q.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=q;function t(u,v,w,x,y,z,aa,ba){"use strict";this.$BoostedPostBudgetSelector0=u;this.$BoostedPostBudgetSelector1=w;this.$BoostedPostBudgetSelector2=k.find(w,'.buttonBudgetValue');this.$BoostedPostBudgetSelector3=k.find(w,'.buttonDiscountedValue');this.$BoostedPostBudgetSelector4=y;this.$BoostedPostBudgetSelector5=x;this.$BoostedPostBudgetSelector6=v;this.$BoostedPostBudgetSelector7=z;this.$BoostedPostBudgetSelector8=aa;this.$BoostedPostBudgetSelector9=0;this.$BoostedPostBudgetSelectora=ba;this.$BoostedPostBudgetSelectorb=false;this.init();}t.prototype.init=function(){"use strict";this.$BoostedPostBudgetSelector6.subscribe('change',function(u,v){this.$BoostedPostBudgetSelectord(v.value);this.inform('change',v);}.bind(this));if(this.$BoostedPostBudgetSelector4){l.listen(this.$BoostedPostBudgetSelector4,'keyup',function(u,v){this.$BoostedPostBudgetSelectorb=true;clearTimeout(this.$BoostedPostBudgetSelector9);if(this.$BoostedPostBudgetSelector4.value!=this.$BoostedPostBudgetSelector7[this.$BoostedPostBudgetSelector8].label){this.showLoadingIndicator(true);this.inform(p.SAVE_BUTTON_DISABLE,true);this.$BoostedPostBudgetSelector9=setTimeout(this.onBudgetTextChange.bind(this),1000);}}.bind(this));g.subscribe(p.BUDGET_TEXT_CHANGE_FINISH,this.focusTextInput.bind(this));}this.$BoostedPostBudgetSelectore(this.$BoostedPostBudgetSelector8);};t.prototype.$BoostedPostBudgetSelectord=function(u){"use strict";if(u=='other'){this.$BoostedPostBudgetSelector4.value='';this.$BoostedPostBudgetSelector4.placeholder="Enter Budget";this.value=null;this.focusTextInput();this.inform(p.SAVE_BUTTON_DISABLE,true);}else{this.$BoostedPostBudgetSelectore(u);this.inform('campaign_length_changed',this.$BoostedPostBudgetSelector7[u].campaign_length);if(this.$BoostedPostBudgetSelector4&&this.$BoostedPostBudgetSelectorb===false){var v={reach_lower:this.$BoostedPostBudgetSelector7[this.$BoostedPostBudgetSelector8].reach_lower,reach_upper:this.$BoostedPostBudgetSelector7[this.$BoostedPostBudgetSelector8].reach_upper,value:this.$BoostedPostBudgetSelector8};this.inform(p.BUDGET_MENU_CHANGE,v);}this.$BoostedPostBudgetSelectorb=false;}};t.prototype.onBudgetTextChange=function(){"use strict";this.showLoadingIndicator(true);this.inform(p.BUDGET_TEXT_CHANGE,this.$BoostedPostBudgetSelector4.value);};t.prototype.getLowerReach=function(){"use strict";return this.$BoostedPostBudgetSelector7[this.$BoostedPostBudgetSelector8].reach_lower;};t.prototype.getUpperReach=function(){"use strict";return this.$BoostedPostBudgetSelector7[this.$BoostedPostBudgetSelector8].reach_upper;};t.prototype.showLoadingIndicator=function(u){"use strict";j.conditionShow(this.$BoostedPostBudgetSelector5,u);};t.prototype.$BoostedPostBudgetSelectore=function(u){"use strict";this.$BoostedPostBudgetSelector8=u;k.setContent(this.$BoostedPostBudgetSelector2,this.getLabel());j.conditionClass(this.$BoostedPostBudgetSelector1,'showDiscount',this.$BoostedPostBudgetSelectorf());k.setContent(this.$BoostedPostBudgetSelector3,this.$BoostedPostBudgetSelectorg());this.inform(p.SAVE_BUTTON_DISABLE,false);};t.prototype.$BoostedPostBudgetSelectorf=function(){"use strict";return this.$BoostedPostBudgetSelector7[this.$BoostedPostBudgetSelector8].discount_value;};t.prototype.$BoostedPostBudgetSelectorg=function(){"use strict";if(!this.$BoostedPostBudgetSelectorf())return '';return this.$BoostedPostBudgetSelectorf();};t.prototype.setValue=function(u){"use strict";this.$BoostedPostBudgetSelector6.setValue(u);};t.prototype.getValue=function(){"use strict";return this.$BoostedPostBudgetSelector8;};t.prototype.getFormattedValue=function(){"use strict";return this.$BoostedPostBudgetSelector7[this.$BoostedPostBudgetSelector8].label;};t.prototype.getCampaignLength=function(){"use strict";return this.$BoostedPostBudgetSelector7[this.$BoostedPostBudgetSelector8].campaign_length;};t.prototype.getLabel=function(){"use strict";if(this.$BoostedPostBudgetSelector4){this.$BoostedPostBudgetSelector4.value=this.$BoostedPostBudgetSelector7[this.$BoostedPostBudgetSelector8].label;return this.$BoostedPostBudgetSelector4;}else return this.$BoostedPostBudgetSelector7[this.$BoostedPostBudgetSelector8].label;};t.prototype.getBudgetLabel=function(){"use strict";return this.$BoostedPostBudgetSelector7[this.$BoostedPostBudgetSelector8].label;};t.prototype.getBudgets=function(){"use strict";var u=[];for(var v in this.$BoostedPostBudgetSelector7)u.push(v);return u;};t.prototype.getSelectedBudgetInfo=function(){"use strict";return this.$BoostedPostBudgetSelector7[this.$BoostedPostBudgetSelector8];};t.prototype.updateReachEstimation=function(u,v,w){"use strict";if(v&&w){var x=null;this.$BoostedPostBudgetSelector6.forEachItem(function(y){var z=y.getValue();if(!x&&(u<z||z=='other'))x=y;});this.$BoostedPostBudgetSelector6.addItemBefore(new n({label:w,value:u,selected:true}),x);this.$BoostedPostBudgetSelector7[u]=v;}if(this.$BoostedPostBudgetSelectorb){this.$BoostedPostBudgetSelectorh(u);}else this.showLoadingIndicator(false);};t.prototype.$BoostedPostBudgetSelectorh=function(u){"use strict";this.$BoostedPostBudgetSelectore(u);this.$BoostedPostBudgetSelector4.value=this.$BoostedPostBudgetSelector7[u].label;this.$BoostedPostBudgetSelector6.setValue([String(u),u]);this.showLoadingIndicator(false);this.inform(p.SAVE_BUTTON_DISABLE,false);i.log('budget_text_changed',{budget:u});};t.prototype.disable=function(){"use strict";j.hide(this.$BoostedPostBudgetSelector6.getRoot());j.removeClass(this.$BoostedPostBudgetSelector0,'budgetSelectorButton');j.addClass(this.$BoostedPostBudgetSelector0,'budgetSelectorButtonDisabled');this.showLoadingIndicator(true);};t.prototype.focusTextInput=function(){"use strict";if(this.$BoostedPostBudgetSelector4)this.$BoostedPostBudgetSelector4.focus();};t.prototype.hasTextBudget=function(){"use strict";if(this.$BoostedPostBudgetSelector4){return true;}else return false;};e.exports=t;});
__d("BoostedPostConfig",[],function(a,b,c,d,e,f){function g(){"use strict";}g.prototype.setAccountID=function(h){"use strict";this.$BoostedPostConfig0=h;};g.prototype.setAudienceOption=function(h){"use strict";this.$BoostedPostConfig1=h;};g.prototype.setBudget=function(h){"use strict";this.$BoostedPostConfig2=h;};g.prototype.setCampaignLength=function(h){"use strict";this.$BoostedPostConfig3=h;};g.prototype.setCurrency=function(h){"use strict";this.$BoostedPostConfig4=h;};g.prototype.setCustomTargeting=function(h){"use strict";this.$BoostedPostConfig5=h;};g.prototype.setFeedTargeting=function(h){"use strict";if(!h)h=[];this.$BoostedPostConfig6=h;};g.prototype.setPlacement=function(h){"use strict";this.$BoostedPostConfig7=h;};g.prototype.setLowerReachEstimate=function(h){"use strict";this.$BoostedPostConfig8=h.toString().replace(/\D/g,'');};g.prototype.setUpperReachEstimate=function(h){"use strict";this.$BoostedPostConfig9=h.toString().replace(/\D/g,'');};g.prototype.setObjective=function(h){"use strict";this.$BoostedPostConfiga=h;};g.prototype.getJSONString=function(){"use strict";return JSON.stringify({account_id:this.$BoostedPostConfig0,audience_option:this.$BoostedPostConfig1,budget:this.$BoostedPostConfig2,campaign_length:this.$BoostedPostConfig3,currency:this.$BoostedPostConfig4,custom_targeting:this.$BoostedPostConfig5,feed_targeting:this.$BoostedPostConfig6,placement:this.$BoostedPostConfig7,lower_reach_estimate:this.$BoostedPostConfig8,upper_reach_estimate:this.$BoostedPostConfig9,objective:this.$BoostedPostConfiga});};e.exports=g;});
__d("BoostedPostBudgetSelector.react",["AdsCurrencyInput.react","AdsTargetingTogglerSafeMixin","BoostedPostConfig","BoostedPostConstants","BoostedBudgetDropdown.react","BoostedPostBudgetModes","BoostedPostBudgetReachDispatcher","BoostedPostBudgetValidator","LoadingIndicator.react","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=p.createClass({displayName:'BoostedPostBudgetSelector',mixins:[h],propTypes:{pageID:p.PropTypes.string.isRequired,postID:p.PropTypes.string,defaultBudget:p.PropTypes.number.isRequired,initialBudgets:p.PropTypes.object.isRequired,budgetConstraints:p.PropTypes.object.isRequired,currency:p.PropTypes.string.isRequired,campaignLength:p.PropTypes.number.isRequired,boostedPostConfig:p.PropTypes.instanceOf(i).isRequired,onDataUpdate:p.PropTypes.func.isRequired,disableSaveButton:p.PropTypes.func.isRequired},componentWillMount:function(){this._requestID=0;this._budgetReachDispatcher=new m(this.props.pageID,this.props.postID);this._budgetValidator=new n(this.props.currency,this.props.budgetConstraints,this.props.campaignLength);},getInitialState:function(){return {budgets:this.props.initialBudgets,selectedBudget:this.props.defaultBudget,showLoadingIndicator:false};},refreshSelector:function(s,t,u){if(s===l.UPDATE_CAMPAIGN_LENGTH){this._budgetValidator.setCampaignLength(t.getCampaignLengthInDays());}else if(s===l.UPDATE_ACCOUNT||s===l.UPDATE_CURRENCY){this._budgetValidator.setCurrency(t.getCurrency());this._budgetValidator.setBudgetConstraints(u);}this._fetchNewBudgets(s,t.getConfig(),t.getBudget());},_fetchNewBudgets:function(s,t,u){this._requestID++;var v={showLoadingIndicator:true};if(s===l.UPDATE_CUSTOM_BUDGET)v.selectedBudget=u;this.setState(v);this.props.disableSaveButton(true);t.setBudget(u);this._budgetReachDispatcher.getNewBudgets(this._requestID,t,this.state.budgets,s,this._newBudgetsCallback);},_newBudgetsCallback:function(s){if(s.id!==this._requestID)return;var t=s.selectedBudget||this.state.selectedBudget,u={showLoadingIndicator:false,budgets:s.budgetInfo};if(s.selectedBudget)u.selectedBudget=t;this.setState(u);s.errorMsg=this._budgetValidator.isValidBudget(t);if(!s.errorMsg)s.selectedBudgetInfo=s.budgetInfo[t];this._onDataUpdate(s);},_onDataUpdate:function(s){this.props.onDataUpdate(j.BUDGET_KEY,s);},_renderDropdown:function(){return (k({alignh:"right",className:"_43-_",budgets:this.state.budgets,selectedBudget:this.state.selectedBudget,onChange:this._onSelectorChange,showCustomBudgetOption:true}));},_onSelectorChange:function(s,t){var u=t.value;if(t.value===j.CUSTOM_BUDGET_SELECTOR_VALUE){this.refs.budgetTextInput.getDOMNode().focus();return;}this.setStateSafe({selectedBudget:u});this._onDataUpdate({selectedBudgetInfo:this.state.budgets[u]});},_renderTextInput:function(){return (g({ref:"budgetTextInput",className:"_43_0",height:"tall",value:this.state.selectedBudget,currency:this.props.currency,nonnegative:true,onDataUpdate:this._onTextInputChange,eventType:"change"}));},_onTextInputChange:function(s){var t=Math.floor(s);if(t===this.state.selectedBudget)return null;var u=this._budgetValidator.isValidBudget(t);if(u){this.props.disableSaveButton(true);this.setStateSafe({selectedBudget:t});return this._onDataUpdate({errorMsg:u});}this._fetchNewBudgets(l.UPDATE_CUSTOM_BUDGET,this.props.boostedPostConfig,t);},_renderLoadingIndicator:function(){return (o({color:"white",size:"small"}));},render:function(){var s=((!this.state.showLoadingIndicator?"hidden_elem":'')+(' '+"mvs"));return (p.DOM.div(null,p.DOM.div({className:"_51xa"},this._renderTextInput(),this._renderDropdown()),p.DOM.div({className:s},this._renderLoadingIndicator())));}});e.exports=r;});
__d("BoostedPostComposerWidget",["Arbiter","ArbiterMixin","BoostedPostLogging","Button","DOM","Event","Form","PromotedPostConstants","copyProperties","mixin","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=p(h);for(var s in r)if(r.hasOwnProperty(s))u[s]=r[s];var t=r===null?null:r.prototype;u.prototype=Object.create(t);u.prototype.constructor=u;u.__superConstructor__=r;function u(v,w,x,y,z,aa){"use strict";this._container=v;this._popover=w;this._popoverButton=x;this._flyout=y;this._pageId=z;this._promoteButtonLabel=aa;this._loggingData={page_id:this._pageId,placement:'from_composer'};this._hiddenInputs={};this._composerFormDiv=k.find(this._container,'.boostedPostForm');this.initialize();}u.prototype.initialize=function(){"use strict";this._flyout.subscribe(n.SAVE,this._saveButtonListener.bind(this));this._flyout.subscribe(n.CANCEL,this._cancelButtonListener.bind(this));this._popover.subscribe('show',function(){g.inform(n.FLYOUT_SHOW);this._flyout.inform(n.FLYOUT_SHOW);var v={has_credit_card:this._flyout.userHasPaymentInfo()};o(v,this._loggingData);i.log('composer_flyout_open',v);}.bind(this));this._popover.subscribe('hide',function(){g.inform(n.FLYOUT_HIDE);}.bind(this));this._firstClickListener=l.listen(this._popoverButton,'click',this._onFirstClick.bind(this));g.subscribe('UIPrivacyWidget/globalPrivacyChanged',function(v,w){this._changeTargetingListener(n.TARGETING_CHANGE,{targeting_spec:w.data,targeting_type:n.PRIVACY_TARGETING});}.bind(this));g.subscribe(n.TARGETING_CHANGE,this._changeTargetingListener.bind(this));g.subscribe('composer/reset',this._resetWidget.bind(this));return this;};u.prototype._onFirstClick=function(){"use strict";if(this._firstClickListener){this._firstClickListener.remove();this._firstClickListener=null;}this._flyout.loadPaymentInfo();i.logClickConversionTracking(this._pageId,null);};u.prototype._resetWidget=function(v,w){"use strict";this._resetButtonLabel();k.empty(this._composerFormDiv);};u.prototype._saveButtonListener=function(v,w){"use strict";if(w.hasPaymentInfo){this._setButtonLabel(w.budgetLabel);}else{this._setButtonLabelPending();this._flyout.showAddPaymentHeader();}this._popover.hideLayer();var x={};o(x,w.formData,this._loggingData);i.log('composer_create_save',x);if(this._hiddenInputs.boosted_post_currency)this._hiddenInputs.boosted_post_currency.value="";k.empty(this._composerFormDiv);m.createHiddenInputs(w.formData,this._composerFormDiv,this._hiddenInputs,false);};u.prototype._cancelButtonListener=function(v,w){"use strict";this._resetButtonLabel();this._popover.hideLayer();var x={};o(x,w.formData,this._loggingData);i.log('composer_create_cancel',x);k.empty(this._composerFormDiv);};u.prototype._changeTargetingListener=function(v,w){"use strict";this._flyout.updateBudgetsWithTargeting(w.targeting_spec,w.targeting_type);};u.prototype._setButtonLabel=function(v){"use strict";var w=q._("Promoted for {budget}",{budget:v});j.setLabel(this._popoverButton,w);};u.prototype._setButtonLabelPending=function(){"use strict";j.setLabel(this._popoverButton,"Promotion Pending");};u.prototype._resetButtonLabel=function(){"use strict";j.setLabel(this._popoverButton,this._promoteButtonLabel);};o(u.prototype,{_firstClickListener:null});e.exports=u;});
__d("BoostedPostConstraints",[],function(a,b,c,d,e,f){function g(h){"use strict";this.$BoostedPostConstraints0=h.minSelectableAge;this.$BoostedPostConstraints1=h.maxSelectableAge;this.$BoostedPostConstraints2=h.minDailyBudget;this.$BoostedPostConstraints3=h.maxDailyBudget;}g.prototype.getAgeConstraints=function(){"use strict";return {minSelectableAge:this.$BoostedPostConstraints0,maxSelectableAge:this.$BoostedPostConstraints1};};g.prototype.getBudgetConstraints=function(){"use strict";return {minDailyBudget:this.$BoostedPostConstraints4(),maxDailyBudget:this.$BoostedPostConstraints5()};};g.prototype.$BoostedPostConstraints4=function(){"use strict";return this.$BoostedPostConstraints2;};g.prototype.$BoostedPostConstraints5=function(){"use strict";return this.$BoostedPostConstraints3;};g.prototype.setMinDailyBudget=function(h){"use strict";this.$BoostedPostConstraints2=h;};g.prototype.setMaxDailyBudget=function(h){"use strict";this.$BoostedPostConstraints3=h;};e.exports=g;});
__d("BoostedPostCreateFlyout",["Arbiter","ArbiterMixin","Button","CSS","DOM","Event","PromotedPostConstants","cx","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=o(h);for(var q in p)if(p.hasOwnProperty(q))s[q]=p[q];var r=p===null?null:p.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=p;function s(t,u,v,w,x){"use strict";this._flyout=t;this._module=u;this._disclaimer=w;this._forcePaymentLoad=x;this._actionMenu=v;this._actionMenuElement=k.find(this._flyout,'.promotedPostActionMenu');this._saveButton=k.find(this._flyout,'.saveButton');this._cancelButton=k.find(this._flyout,'.cancelButton');this._seeTermsLink=k.scry(this._flyout,'.seeTermsLink')[0];this.init();}s.prototype.init=function(){"use strict";this._module.subscribe(m.CANCEL,function(t,u){this.inform(m.CANCEL,u);}.bind(this));this._module.subscribe(m.SAVE,function(t,u){this.inform(m.SAVE,u);}.bind(this));g.subscribe(m.SAVE_BUTTON_DISABLE,this.updateSaveButton.bind(this));this._module.subscribe(m.SAVE_BUTTON_DISABLE,this.updateSaveButton.bind(this));l.listen(this._saveButton,'click',function(){this._module.saveHandler();}.bind(this));l.listen(this._cancelButton,'click',function(){this._module.cancelHandler();}.bind(this));if(this._seeTermsLink)l.listen(this._seeTermsLink,'click',function(){this._disclaimer.showDisclaimer();}.bind(this));this.subscribe(m.FLYOUT_SHOW,function(){this._module.inform(m.FLYOUT_SHOW);}.bind(this));this._module.setActionMenu(this._actionMenu,this._actionMenuElement);if(this._forcePaymentLoad)this.loadPaymentInfo();};s.prototype.updateSaveButton=function(event,t){"use strict";j.conditionClass(this._saveButton,"_42fr",t);this._saveButton.disabled=t;};s.prototype.loadPaymentInfo=function(){"use strict";this._module.loadPaymentInfo();};s.prototype.userHasPaymentInfo=function(){"use strict";return this._module.userHasPaymentInfo();};s.prototype.setButtonsEnabled=function(t){"use strict";i.setEnabled(this._saveButton,t);i.setEnabled(this._cancelButton,t);};s.prototype.getBoostedPostData=function(){"use strict";return this._module.getBoostedPostData();};s.prototype.updateBudgetsWithTargeting=function(t,u){"use strict";this._module.setFeedTargetingSpec(t,u);this._module.requestBudgetUpdate();};s.prototype.showAddPaymentHeader=function(){"use strict";this._module.showAddPaymentHeader();};s.prototype.getRoot=function(){"use strict";return this._flyout;};e.exports=s;});
__d("BoostedPostSection.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:'BoostedPostSection',propTypes:{border:g.PropTypes.bool},getDefaultProps:function(){return {border:false};},render:function(){var k=i((("_p2w")+(this.props.border?' '+"_p2x":'')),this.props.className);return (g.DOM.div({className:k},this.props.children));}});e.exports=j;});
__d("AdsTargetingConstants",[],function(a,b,c,d,e,f){var g={AUDIENCE:{Grouper:1,Ncpp:2,Custom:3},DEFAULT_MIN_SELECTABLE_AGE:13,DEFAULT_MAX_SELECTABLE_AGE:65,GENDERS:{All:0,Men:1,Women:2},LOCATION_TYPES:{Countries:0,Regions:1,Cities:2},LOCATION_URIS:{0:'/ajax/typeahead/ads_countries.php',1:'/ajax/typeahead/ads_regions.php',2:'/ajax/typeahead/ads_global_cities.php'},TARGETING_SPEC_KEYS:{NAME:'name',MIN_AGE:'minimum_age',MAX_AGE:'maximum_age',GENDER:'gender',COUNTRIES:'countries',REGIONS:'regions',CITIES:'cities',RADIUS:'radius',INTERESTS:'interests'},KEYWORD_URI:'/ajax/admarket/typeahead/ad_search.php',MAX_KEYWORDS_ENTRIES:8,MAX_KEYWORDS_SUGGESTIONS:5};e.exports=g;});
__d("BoostedPostSpecs",["ArbiterMixin","BoostedPostAudienceConstants","BoostedPostBudgetModes","BoostedPostConfig","BoostedPrimedDao","AdsTargetingConstants","PromotedPostConstants","SearchableEntry","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=o(g);for(var q in p)if(p.hasOwnProperty(q))s[q]=p[q];var r=p===null?null:p.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=p;function s(t,u,v,w,x,y,z,aa){"use strict";this._adAccountID=t;this._audience=u;this._currency=v;this._budgetInfo=w;this._campaignLength=x;this._targetingSpec=y;this._hasSticky=aa;this._feedTargetingSpec=z||{};}s.prototype.setAdAccountID=function(t){"use strict";this._adAccountID=t;k.setAccountID(t);this.inform(m.ACCOUNT_CHANGE);this.inform(m.REACT_BUDGET_SELECTOR_REFRESH_REQUIRED,{mode:i.UPDATE_ACCOUNT});};s.prototype.setAudience=function(t){"use strict";this._audience=t;this.inform(m.AUDIENCE_SPEC_CHANGE);};s.prototype.setTargetingSpec=function(t){"use strict";this._targetingSpec=t;this.inform(m.REACT_BUDGET_SELECTOR_REFRESH_REQUIRED,{mode:i.UPDATE_TARGETING_SPEC});this.inform(m.TARGETING_SPEC_CHANGE);};s.prototype.setFeedTargetingSpec=function(t,u){"use strict";if(Object.keys(u).length===0){delete this._feedTargetingSpec[t];return;}this._feedTargetingSpec[t]=u;};s.prototype.setAudienceAndTargetingSpec=function(t,u){"use strict";this._audience=t;this._targetingSpec=u;this.inform(m.AUDIENCE_SPEC_CHANGE);};s.prototype.setLocation=function(t){"use strict";this._targetingSpec.locations=t;this.inform(m.TARGETING_SPEC_CHANGE);};s.prototype.setRadius=function(t){"use strict";this._targetingSpec.radius=t;if(!t)delete this._targetingSpec.radius;this.inform(m.TARGETING_SPEC_CHANGE);};s.prototype.setMinAge=function(t){"use strict";if(this._targetingSpec.age_min===t)return;this._targetingSpec.age_min=t;this.inform(m.TARGETING_SPEC_CHANGE);};s.prototype.setMaxAge=function(t){"use strict";if(this._targetingSpec.age_max===t)return;this._targetingSpec.age_max=t;this.inform(m.TARGETING_SPEC_CHANGE);};s.prototype.setGender=function(t){"use strict";this._targetingSpec.gender=[t];if(t==l.GENDERS.All)delete this._targetingSpec.gender;this.inform(m.TARGETING_SPEC_CHANGE);};s.prototype.setKeywords=function(t){"use strict";this._targetingSpec.keywords=[];this._targetingSpec.text_keywords=[];for(var u in t){this._targetingSpec.keywords.push(u);this._targetingSpec.text_keywords.push(t[u]);}this.inform(m.TARGETING_SPEC_CHANGE);};s.prototype.setInterests=function(t){"use strict";this._targetingSpec.interests=[];for(var u in t)this._targetingSpec.interests.push({id:u,name:t[u]});this.inform(m.TARGETING_SPEC_CHANGE);};s.prototype.setCurrency=function(t,u){"use strict";this._currency=t;if(!u)this.inform(m.REACT_BUDGET_SELECTOR_REFRESH_REQUIRED,{mode:i.UPDATE_CURRENCY});};s.prototype.setBudgetInfo=function(t){"use strict";this._budgetInfo=t;};s.prototype.setCampaignLength=function(t){"use strict";this._campaignLength=t;this.inform(m.REACT_BUDGET_SELECTOR_REFRESH_REQUIRED,{mode:i.UPDATE_CAMPAIGN_LENGTH});};s.prototype.getAdAccountID=function(){"use strict";return this._adAccountID;};s.prototype.getAudience=function(){"use strict";return this._audience;};s.prototype.getTargetingSpec=function(){"use strict";if(this._audience===h.GROUPER)return null;return this._targetingSpec;};s.prototype.getTargetingSpecRaw=function(){"use strict";return this._targetingSpec;};s.prototype.getFeedTargetingSpec=function(){"use strict";if(!this.hasFeedTargetingSpec())return null;return (this._feedTargetingSpec[m.PRIVACY_TARGETING]||this._feedTargetingSpec[m.FEED_TARGETING]||this._feedTargetingSpec);};s.prototype.getTargetingLevel=function(){"use strict";var t=this._targetingSpec;if(t.locations)return Object.keys(t.locations).pop();return '';};s.prototype.getTargetingLocations=function(){"use strict";var t=this._targetingSpec;if(t.locations){var u=this.getTargetingLevel();return t.locations[u];}return {};};s.prototype.getRadius=function(){"use strict";return this._targetingSpec.radius;};s.prototype.getAgeRange=function(){"use strict";return {ageMin:this._targetingSpec.age_min,ageMax:this._targetingSpec.age_max};};s.prototype.getGender=function(){"use strict";if(this._targetingSpec&&this._targetingSpec.gender)return parseInt(this._targetingSpec.gender[0],10);return l.GENDERS.All;};s.prototype.getCurrency=function(){"use strict";return this._currency;};s.prototype.getBudget=function(){"use strict";return this._budgetInfo.budget_value;};s.prototype.getBudgetLabel=function(){"use strict";return this._budgetInfo.label;};s.prototype.getLowerReachEstimate=function(){"use strict";return this._budgetInfo.reach_lower;};s.prototype.getUpperReachEstimate=function(){"use strict";return this._budgetInfo.reach_upper;};s.prototype.getCampaignLength=function(){"use strict";return this._campaignLength;};s.prototype.getCampaignLengthInDays=function(){"use strict";return this._campaignLength/86400;};s.prototype.getTokenizedKeywords=function(){"use strict";var t=[];if(!this._targetingSpec.keywords)return t;var u=this._targetingSpec.keywords.length;for(var v=0;v<u;v++)t.push((new n({uniqueID:this._targetingSpec.keywords[v],title:this._targetingSpec.text_keywords[v]})));return t;};s.prototype.getTokenizedInterests=function(){"use strict";var t=[];if(!this._targetingSpec.interests)return t;var u=this._targetingSpec.interests.length;for(var v=0;v<u;v++)t.push((new n({uniqueID:this._targetingSpec.interests[v].id,title:this._targetingSpec.interests[v].name})));return t;};s.prototype.getConfig=function(){"use strict";var t=new j();t.setAccountID(this._adAccountID);t.setAudienceOption(this._audience);t.setCampaignLength(this._campaignLength);t.setCurrency(this._currency);t.setCustomTargeting(this.getTargetingSpec());t.setFeedTargeting(this.getFeedTargetingSpec());return t;};s.prototype.hasTargetingSpec=function(){"use strict";return !!this._targetingSpec;};s.prototype.hasFeedTargetingSpec=function(){"use strict";return !!Object.keys(this._feedTargetingSpec).length;};s.prototype.hasSticky=function(){"use strict";return this._hasSticky;};s.prototype.notifyAccountChangeFinished=function(){"use strict";this.inform(m.ACCOUNT_CHANGE_FINISH);};e.exports=s;});
__d("BoostedPostLabeledRow.react",["Grid.react","React","XUIGrayText.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.GridItem,m=h.createClass({displayName:'BoostedPostLabeledRow',propTypes:{label:h.PropTypes.string.isRequired,border:h.PropTypes.bool,alignv:h.PropTypes.oneOf(['top','middle','bottom'])},getDefaultProps:function(){return {border:false,alignv:'top'};},render:function(){var n=k((("_5vgm")+(this.props.border?' '+"_5vgn":'')),this.props.className);return (h.DOM.div({className:n},g({cols:2,fixed:true,alignv:this.props.alignv,spacing:"pas"},l({className:"_5vgo"},i({weight:"bold"},this.props.label)),l({className:"_5vgp"},this.props.children))));}});e.exports=m;});
__d("BoostedPostAudienceUtil",["AsyncRequest","fbt"],function(a,b,c,d,e,f,g,h){var i={getCountryNames:function(j,k){new g().setURI('/ads/targeting/country_names/').setHandler(function(l){k(l.payload);}).setData({country_isos:j}).setReadOnly(true).setMethod('GET').send();},getRegionNames:function(j,k){new g().setURI('/ads/targeting/region_info/').setHandler(function(l){k(l.payload);}).setData({region_ids:j}).setReadOnly(true).setMethod('GET').send();},getCityNames:function(j,k){new g().setURI('/ads/targeting/city_names/').setHandler(function(l){k(l.payload);}).setData({city_ids:j}).setReadOnly(true).setMethod('GET').send();},getRegionNamesFromSpecFormat:function(j){return j.map(function(k){return k.name;});},getCityNamesFromSpecFormat:function(j){return j.map(function(k){return (h._("{name}, {region}",[h.param("name",k.name),h.param("region",k.region)]));});}};e.exports=i;});
__d("BoostedPostAudienceDetails.react",["BoostedPostAudienceUtil","XUIText.react","AdsTargetingConstants","React","fbt","getObjectValues","intlList"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=j.createClass({displayName:'BoostedPostAudienceDetails',propTypes:{audience:j.PropTypes.object},getInitialState:function(){return {locationNames:null};},componentWillMount:function(){this._init(this.props);},componentWillReceiveProps:function(o){this._init(o);},_init:function(o){if(o.audience.geo_locations){this._populateLocationNames(o.audience.geo_locations);}else if(o.audience.locations)this._populateLocationNamesFromBoostedSpec(o.audience.locations,o.audience.radius);},_populateLocationNamesFromBoostedSpec:function(o,p){if(o.country){this._populateLocationNamesWithObjectValues(o.country);}else if(o.region){this._populateLocationNamesWithObjectValues(o.region);}else if(o.city)this._populateLocationNamesWithObjectValues(o.city,p);},_populateLocationNames:function(o){var p=null,q=null;if(o.countries){g.getCountryNames(o.countries,this._populateLocationNamesWithObjectValues);}else if(o.regions){p=g.getRegionNamesFromSpecFormat(o.regions);}else if(o.cities){if(o.cities.length)q=o.cities[0].radius;p=g.getCityNamesFromSpecFormat(o.cities);}if(p)this._populateLocationNamesWithList(p,q);},_populateLocationNamesWithList:function(o,p){var q='',r=null;if(p){r=h({weight:"bold"},"Located:");q=k._("Within {radius_in_miles} miles of",[k.param("radius_in_miles",p)]);}else r=h({weight:"bold"},"Located in:");var s=k._("{location_targeting_label} {radius_for_city_targeting} {location_targeting_list}",[k.param("location_targeting_label",r),k.param("radius_for_city_targeting",q),k.param("location_targeting_list",m(o,m.CONJUNCTIONS.AND))]);this.setState({locationNames:s});},_populateLocationNamesWithObjectValues:function(o,p){this._populateLocationNamesWithList(l(o),p);},_getGenderDetails:function(o){var p=o&&o.length&&o[0];switch(p){case i.GENDERS.Men:return (j.DOM.span(null,h({weight:"bold"},"Men")));case i.GENDERS.Women:return (j.DOM.span(null,h({weight:"bold"},"Women")));default:return (j.DOM.span(null,k._("{first_gender} and {second_gender}",[k.param("first_gender",h({weight:"bold"},"Men")),k.param("second_gender",h({weight:"bold"},"Women"))])));}},_getAgeDetails:function(o,p){var q=o?o:i.DEFAULT_MIN_SELECTABLE_AGE,r=p?p:i.DEFAULT_MAX_SELECTABLE_AGE;return (j.DOM.span(null,k._("ages {min_age}-{max_age}",[k.param("min_age",h({weight:"bold"},q)),k.param("max_age",h({weight:"bold"},r))])));},_getLocationDetails:function(){return this.state.locationNames;},_getInterestDetails:function(o){if(!o)return null;var p=o.map(function(q){return q.name;});return (j.DOM.div(null,k._("{interest_targeting_label} {interest_targeting_list}",[k.param("interest_targeting_label",h({weight:"bold"},"Interested in:")),k.param("interest_targeting_list",m(p,m.CONJUNCTIONS.AND))])));},render:function(){var o=this.props.audience,p=o.gender?o.gender:o.genders?o.genders:null,q=null;if(o)q=(j.DOM.div(null,j.DOM.div(null,this._getGenderDetails(p),' ',this._getAgeDetails(o.age_min,o.age_max)),j.DOM.div(null,this._getLocationDetails()),this._getInterestDetails(o.interests)));return q;}});e.exports=n;});
__d("BoostedPostAudienceManagerConstants",["fbt"],function(a,b,c,d,e,f,g){var h={NEW_AUDIENCE_ID:"new",SPECIAL_AUDIENCES:{LAST_USED:1,GROUPER:2,MANAGE:3,DEFAULT:4},EDITOR_MODES:{CREATE:0,EDIT:1,FREEFORM:2},EDITOR_ACTIONS:{CREATE:1,EDIT:2,DELETE:3},MESSAGES:{AUDIENCE_SAVED:"Audience Saved!",AUDIENCE_UPDATED:"Audience Updated!",AUDIENCE_DELETED:"Audience Deleted!",CREATE_AUDIENCE_ERROR:"Failed to create audience",UPDATE_AUDIENCE_ERROR:"Failed to update audience",DELETE_AUDIENCE_ERROR:"Failed to delete audience",MUST_SPECIFY_LOCATION:"Location must be specified"},LABELS:{AUDIENCE_DETAILS:"Audience Details",AUDIENCE:"Audience",NAME:"Name"},MAX_NAME_LENGTH:40,DEFAULT_NAME_INITIAL_NUMBER:1};e.exports=h;});
__d("XUIDialogSaveButton.react",["React","XUIDialogButton.react","tx"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:'XUIDialogSaveButton',render:function(){return this.transferPropsTo(h({action:"confirm",label:"Save"}));}});e.exports=j;});
__d("XUIDialogCancelButton.react",["React","XUIDialogButton.react","tx"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:'XUIDialogCancelButton',render:function(){return this.transferPropsTo(h({action:"cancel",label:"Cancel"}));}});e.exports=j;});
__d("TokenizerToken.react",["CloseButton.react","ReactPropTypes","React","SearchableEntry","cx","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=i.createClass({displayName:'TokenizerToken',propTypes:{label:h.string.isRequired,entry:h.instanceOf(j),onRemove:h.func,highlighted:h.bool},render:function(){var n;if(this.props.onRemove)n=g({'aria-label':l._("Remove {item}",{item:this.props.label}),className:"_58zx",size:"small",onClick:this._onClick});var o=(("_58zy")+(this.props.highlighted?' '+"_58zz":''));return this.transferPropsTo(i.DOM.span({className:o,label:null},this.props.label,n));},_onClick:function(n){n.preventDefault();this.props.onRemove(this.props.entry);}});e.exports=m;});
__d("AbstractTokenizer.react",["ReactPropTypes","React","Typeahead.react","TokenizerToken.react","cx","emptyFunction","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=h.createClass({displayName:'AbstractTokenizer',propTypes:{className:g.string,inputClassName:g.string,placeholder:g.string,queryString:g.string,searchSource:g.object.isRequired,searchSourceOptions:g.object,presenter:g.object.isRequired,entries:g.array,onAddEntryAttempt:g.func.isRequired,onRemoveEntryAttempt:g.func.isRequired,onReorderEntryAttempt:g.func,onQueryStringChange:g.func,onInputFocus:g.func,onInputBlur:g.func,onTypeaheadMouseDown:g.func,excludedEntries:g.object,selectOnBlur:g.bool,tokenizeQueryString:g.func},getDefaultProps:function(){return {selectOnBlur:false,tokenizeQueryString:l.thatReturnsNull};},getInitialState:function(){return {queryString:''};},_getQueryString:function(){return this.props.queryString||this.state.queryString;},componentWillReceiveProps:function(o){if(o.queryString==null&&this.props.queryString!=null)this.setState({queryString:this.props.queryString});},render:function(){var o=!!this.props.onReorderEntryAttempt,p=m((("_58-2")+(o?' '+"_5ph3":'')),'clearfix',this.props.className),q,r=this.props.entries,s={},t=r&&r.length>0,u;if(t){q=[];for(var v=0,w=r.length;v<w;v++){var x=r[v];u=x.getUniqueID();q[v]=this._renderToken(x,v);s[u]=true;}}if(this.props.excludedEntries)for(u in this.props.excludedEntries)s[u]=this.props.excludedEntries[u];var y=t?null:this.props.placeholder;return this.transferPropsTo(h.DOM.div({className:p,placeholder:null,onClick:this._focusTypeahead,onMouseDown:this._onTypeaheadMouseDown,onDragOver:this.onBackgroundDragOver,onDrop:this.onBackgroundDrop,'data-testid':this.props['data-testid']},q,i({ref:"typeahead",selectedEntry:null,className:"_58-0",'data-testid':this.props['data-testid'],inputClassName:this.props.inputClassName,showEntriesOnFocus:this.props.showEntriesOnFocus,queryString:this._getQueryString(),placeholder:y,presenter:this.props.presenter,searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,excludedEntries:s,onSelectAttempt:this._onSelectAttempt,onChange:this._onInputChange,onFocus:this.props.onInputFocus,onBlur:this.props.onInputBlur,onBackspace:this._onBackspace,autoHighlight:true,selectOnBlur:this.props.selectOnBlur,context:this.props.context}),h.DOM.span({ref:"textSizeProxy",className:"_58-3",'aria-hidden':"true"},this._getQueryString()||y)));},componentDidMount:function(){this._syncTimer=setTimeout(this._syncInputWidth,0);},componentDidUpdate:function(){clearTimeout(this._syncTimer);this._syncTimer=setTimeout(this._syncInputWidth,0);},componentWillUnmount:function(){clearTimeout(this._syncTimer);},clearActiveEntries:function(){this.refs.typeahead&&this.refs.typeahead.clearActiveEntries();},focusInput:function(){if(this.refs&&this.refs.typeahead)this.refs.typeahead.focusInput();},_focusTypeahead:function(o){o.preventDefault();this.focusInput();},_onTypeaheadMouseDown:function(){this.props.onTypeaheadMouseDown&&this.props.onTypeaheadMouseDown();},_onInputChange:function(event){var o=event.target.value,p=this.props.tokenizeQueryString(o);if(p){this._onSelectAttempt(p);}else if(this.props.queryString==null)this.setState({queryString:o});if(this.props.onQueryStringChange)this.props.onQueryStringChange(event);},_onSelectAttempt:function(o){if(o){this.props.onAddEntryAttempt(o);if(this.props.queryString==null)this.setState({queryString:''});}setTimeout(this.focusInput,0);},_onRemove:function(o){this.props.onRemoveEntryAttempt(o);},_onBackspace:function(event){var o=this.props.entries;if(o&&!this._getQueryString()&&o.length){var p=o[o.length-1];this.props.onRemoveEntryAttempt(p);event.preventDefault();setTimeout(this.focusInput,0);}},_syncInputWidth:function(){var o=this.refs.textSizeProxy.getDOMNode().offsetWidth;if(o===0)return;this.refs.typeahead.getTextFieldDOM().style.width=o+'px';},onBackgroundDragOver:function(event){event.preventDefault();var o=event.nativeEvent.dataTransfer;if(o)o.dropEffect='move';var p=this.props.entries;this.onTokenDragOver(p[p.length-1],p.length-1,false);},onBackgroundDrop:function(event){this.onTokenDrop(null,this.props.entries.length);},onTokenDragStart:function(o,p){this.setState({draggingIndex:p});},onTokenDragEnd:function(o,p){this.setState({draggingIndex:null});},onTokenDragLeave:function(o,p){if(this.leaveTimer)return;this.leaveTimer=setTimeout(function(){this.leaveTimer=null;if(this.state.dragTargetIndex===null)return;this.setState({dragTargetIndex:null});}.bind(this),100);},onTokenDragOver:function(o,p,q){if(this.leaveTimer){clearTimeout(this.leaveTimer);this.leaveTimer=null;}if(this.state.draggingIndex!==null&&this.state.draggingIndex!==p&&this.props.onReorderEntryAttempt){if(this.state.dragTargetIndex===p&&this.state.draggedOverLeftSideOfElement===q)return;this.setState({dragTargetIndex:p,draggedOverLeftSideOfElement:q});}},onTokenDrop:function(o,p){if(this.state.draggingIndex!==null&&this.props.onReorderEntryAttempt){if(!this.state.draggedOverLeftSideOfElement)p++;if(this.state.draggingIndex!==p)this.props.onReorderEntryAttempt(this.state.draggingIndex,p);}this.setState({draggingIndex:null,dragTargetIndex:null,draggedOverLeftSideOfElement:null});},_renderToken:function(o,p){var q=this.props.presenter.TokenRenderer||j,r=!!this.props.onReorderEntryAttempt,s=this.state.dragTargetIndex===p,t=((this.state.draggingIndex===p?"_5ph4":'')+(s?' '+"_5o8i":'')+(s&&this.state.draggedOverLeftSideOfElement?' '+"_5o8j":'')+(s&&!this.state.draggedOverLeftSideOfElement?' '+"_5o8k":''));return (q({className:t,key:o.getUniqueID(),label:o.getTitle(),entry:o,index:p,onRemove:this._onRemove,isDragDropEnabled:r,onTokenDragStart:this.onTokenDragStart,onTokenDragEnd:this.onTokenDragEnd,onTokenDragOver:this.onTokenDragOver,onTokenDragLeave:this.onTokenDragLeave,onTokenDrop:this.onTokenDrop}));}});e.exports=n;});
__d("DraggableTokenMixin.react",["ReactPropTypes","React","Rect","cx"],function(a,b,c,d,e,f,g,h,i,j){var k={lastDragEventPageX:null,propTypes:{isDragDropEnabled:g.bool,index:g.number.isRequired,onTokenDragStart:g.func.isRequired,onTokenDragEnd:g.func.isRequired,onTokenDragLeave:g.func.isRequired,onTokenDragOver:g.func.isRequired,onTokenDrop:g.func.isRequired},onTokenDragStart:function(event){var m=event.nativeEvent.dataTransfer;if(m){m.setData('text','');m.setDragImage(this.refs.draggableToken.getDOMNode(),0,0);}this.props.onTokenDragStart(this.props.entry,this.props.index);},onTokenDragEnd:function(event){this.props.onTokenDragEnd(this.props.entry,this.props.index);},onTokenDragLeave:function(event){this.props.onTokenDragLeave(this.props.entry,this.props.index);},onTokenDragOver:function(event){event.preventDefault();var m=event.nativeEvent.dataTransfer;if(m)m.dropEffect='move';if(event.pageX!==this.lastDragEventPageX){var n=this.getDOMNode(),o=i.getElementBounds(n).getCenter().x,p=event.pageX<o;this.props.onTokenDragOver(this.props.entry,this.props.index,p);}return false;},onTokenDrop:function(event){event.stopPropagation();this.props.onTokenDrop(this.props.entry,this.props.index);},renderDraggableToken:function(m){if(!this.props.isDragDropEnabled)return m;return (h.DOM.a({className:"_5o8l",draggable:true,href:"#",onClick:l,onDragStart:this.onTokenDragStart,onDragEnd:this.onTokenDragEnd,onDragOver:this.onTokenDragOver,onDragLeave:this.onTokenDragLeave,onDrop:this.onTokenDrop,ref:"draggableToken"},m));}};function l(m){m.preventDefault();}e.exports=k;});
__d("XUITokenizerToken.react",["DraggableTokenMixin.react","ReactPropTypes","React","SearchableEntry","XUICloseButton.react","cx","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=i.createClass({displayName:'XUITokenizerToken',mixins:[g],propTypes:{label:h.string.isRequired,entry:h.instanceOf(j),onRemove:h.func,highlighted:h.bool},_onRemove:function(o){o.preventDefault();this.props.onRemove(this.props.entry);},render:function(){var o;if(this.props.onRemove)o=k({type:"button",'aria-label':m._("Remove {item}",{item:this.props.label}),className:"_1z6_",size:"small",onClick:this._onRemove});var p=(("_59_o")+(this.props.highlighted?' '+"_59_r":''));return this.renderDraggableToken(this.transferPropsTo(i.DOM.span({className:p,label:null},i.DOM.span({'aria-label':this.props.label,title:this.props.label,className:"_5aab"},this.props.label),o)));}});e.exports=n;});
__d("AdsTargetingTokenizer.react",["AbstractTokenizer.react","WebAsyncSearchSource","React","XUITokenizerToken.react","XUITypeaheadView.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m={ViewRenderer:k,TokenRenderer:j,useLayer:true},n=i.createClass({displayName:'AdsTargetingTokenizer',propTypes:{onDataUpdate:i.PropTypes.func.isRequired,uri:i.PropTypes.string.isRequired,queryData:i.PropTypes.object,placeholder:i.PropTypes.string,initialEntries:i.PropTypes.array,smallInput:i.PropTypes.bool},getDefaultProps:function(){return {queryData:{}};},getInitialState:function(){return {entries:this.props.initialEntries||[]};},componentWillMount:function(){this._createSearchSource(this.props);},componentWillReceiveProps:function(o){if(o.initialEntries)this.setState({entries:o.initialEntries});this._createSearchSource(o);},_createSearchSource:function(o){this._searchSource=new h({queryRequests:[{uri:o.uri,data:o.queryData}]});},_onAdd:function(o){var p=this.state.entries;p.push(o);this.setState({entries:p});this.props.onDataUpdate(p,o);},_onRemove:function(o){var p=this.state.entries,q=p.indexOf(o);p.splice(q,1);this.setState({entries:p});this.props.onDataUpdate(p,o);},getEntries:function(){return this.state.entries;},render:function(){var o=(("_59_m")+(' '+"_557c")+(this.props.smallInput?' '+"_p63":''));return (i.DOM.div({className:o},g({'data-testid':this.props['data-testid'],className:"_59_n",entries:this.state.entries,onAddEntryAttempt:this._onAdd,onRemoveEntryAttempt:this._onRemove,placeholder:this.props.placeholder,presenter:m,searchSource:this._searchSource})));}});e.exports=n;});
__d("AdsTargetingLocationSelector.react",["XUISelector.react","AdsTargetingTokenizer.react","AdsTargetingTogglerSafeMixin","AdsTargetingConstants","React","XUIGrayText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=g.Option,p=[5,10,25,50],q=k.createClass({displayName:'AdsTargetingLocationSelector',mixins:[i],propTypes:{onDataUpdate:k.PropTypes.func.isRequired,initialTokenizer:k.PropTypes.number,initialTokens:k.PropTypes.object,initialRadius:k.PropTypes.number,defaultCountries:k.PropTypes.string,smallInput:k.PropTypes.bool},getDefaultProps:function(){return {initialTokenizer:j.LOCATION_TYPES.Countries,initialTokens:{},initialRadius:p[0]};},getInitialState:function(){return {countryRestriction:this._getCountryRestrictionFromProps(this.props),tokenizerShown:this.props.initialTokenizer,hasTokens:this._hasTokens(this.props),radiusSelected:this.props.initialRadius};},componentWillReceiveProps:function(r){this.setStateSafe({tokenizerShown:r.initialTokenizer,countryRestriction:this._getCountryRestrictionFromProps(r),hasTokens:this._hasTokens(r),radiusSelected:r.initialRadius});},_hasTokens:function(r){var s=r.initialTokenizer;return Boolean(r.initialTokens[this._getKeyString(s)]&&r.initialTokens[this._getKeyString(s)].length);},_hasInitialRegions:function(r){return (r.initialTokenizer===j.LOCATION_TYPES.Regions&&r.initialTokens.regions&&r.initialTokens.regions.length);},_getCountryRestrictionFromProps:function(r){if(!this._hasInitialRegions(r))return null;return r.initialTokens.regions[0].getSubtitle();},_getKeyString:function(r){switch(r){case j.LOCATION_TYPES.Countries:return 'countries';case j.LOCATION_TYPES.Regions:return 'regions';case j.LOCATION_TYPES.Cities:return 'cities';}},_getLocationEntries:function(r){return this.refs[this._getKeyString(r)].getEntries();},_onSelectorChange:function(r){var s=r.value,t=this._getLocationEntries(s);this.setStateSafe({tokenizerShown:s,hasTokens:!!t.length,countryRestriction:null});this.props.onDataUpdate(this._getKeyString(s),t);},_onEntriesUpdate:function(r,s){if(this.state.tokenizerShown===j.LOCATION_TYPES.Regions)this._onRegionDataUpdate(r,s);this.setStateSafe({hasTokens:!!r.length});this.props.onDataUpdate(this._getKeyString(this.state.tokenizerShown),r);},_onRadiusChange:function(r){this.setStateSafe({radiusSelected:r.value});this.props.onDataUpdate(j.TARGETING_SPEC_KEYS.RADIUS,r.value);},_onRegionDataUpdate:function(r,s){if(r.length){this.setStateSafe({countryRestriction:s.getSubtitle()});}else this.setStateSafe({countryRestriction:null});},_getCountriesTokenizer:function(){return (h({'data-testid':"country_token",uri:j.LOCATION_URIS[j.LOCATION_TYPES.Countries],onDataUpdate:this._onEntriesUpdate,initialEntries:this.props.initialTokens.countries,smallInput:this.props.smallInput,ref:"countries"}));},_getRegionsTokenizer:function(){var r={version:2};if(this.state.countryRestriction)r.whitelist_countries=this.state.countryRestriction;return (h({'data-testid':"region_token",uri:j.LOCATION_URIS[j.LOCATION_TYPES.Regions],onDataUpdate:this._onEntriesUpdate,queryData:r,initialEntries:this.props.initialTokens.regions,smallInput:this.props.smallInput,ref:"regions"}));},_getCitiesTokenizer:function(){return (h({'data-testid':"city_token",uri:j.LOCATION_URIS[j.LOCATION_TYPES.Cities],onDataUpdate:this._onEntriesUpdate,initialEntries:this.props.initialTokens.cities,smallInput:this.props.smallInput,ref:"cities"}));},_getCitiesRadiusSelector:function(){if(this.state.tokenizerShown!==j.LOCATION_TYPES.Cities)return null;var r=p.map(function(s){return (o({value:s,'data-testid':"within_"+s+"_miles"},n._("Within {radiusValue} miles",[n.param("radiusValue",s)])));});return (g({maxwidth:150,onChange:this._onRadiusChange,value:this.state.radiusSelected,className:"mls",'data-testid':"radius_selector"},r));},_getWarningMessage:function(){if(!this.props.defaultCountries)return null;var r=(("mts")+(this.state.hasTokens?' '+"hidden_elem":''));return (k.DOM.div({className:r},l({'data-testid':"targeting_warning_message"},n._("If left blank, your ad will be delivered to {list_of_countries}.",[n.param("list_of_countries",this.props.defaultCountries)]))));},render:function(){var r=this.state,s=((r.tokenizerShown!=j.LOCATION_TYPES.Countries?"hidden_elem":'')),t=((r.tokenizerShown!=j.LOCATION_TYPES.Regions?"hidden_elem":'')),u=((r.tokenizerShown!=j.LOCATION_TYPES.Cities?"hidden_elem":''));return (k.DOM.div(null,k.DOM.div({className:"_5tpn"},g({'data-testid':"location_selector",onChange:this._onSelectorChange,value:r.tokenizerShown},o({'data-testid':"location_selector_country_item",value:j.LOCATION_TYPES.Countries},"Countries"),o({'data-testid':"location_selector_region_item",value:j.LOCATION_TYPES.Regions},"Regions"),o({'data-testid':"location_selector_city_item",value:j.LOCATION_TYPES.Cities},"Cities")),this._getCitiesRadiusSelector()),k.DOM.div({className:"_5tpn"},k.DOM.div({className:s},this._getCountriesTokenizer()),k.DOM.div({className:t},this._getRegionsTokenizer()),k.DOM.div({className:u},this._getCitiesTokenizer())),this._getWarningMessage()));}});e.exports=q;});
__d("AdsTargetingNumberSelector.react",["XUISelector.react","React","cx"],function(a,b,c,d,e,f,g,h,i){var j=g.Option,k=h.createClass({displayName:'AdsTargetingNumberSelector',propTypes:{minimum:h.PropTypes.number.isRequired,maximum:h.PropTypes.number.isRequired,selectedValue:h.PropTypes.number.isRequired,onDataUpdate:h.PropTypes.func.isRequired,customMaxLabel:h.PropTypes.string},render:function(){var l=this.props,m=[];for(var n=l.minimum;n<=l.maximum;++n){var o=n;if(l.customMaxLabel&&n===l.maximum)o=l.customMaxLabel;m.push(j({value:n},o));}return (h.DOM.div({className:"_5tpo"},g({onChange:l.onDataUpdate,value:l.selectedValue,maxheight:200},m)));}});e.exports=k;});
__d("AdsTargetingAgeSelector.react",["AdsTargetingConstants","AdsTargetingNumberSelector.react","AdsTargetingTogglerSafeMixin","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=j.createClass({displayName:'AdsTargetingAgeSelector',mixins:[i],propTypes:{minSelectableAge:j.PropTypes.number,maxSelectableAge:j.PropTypes.number,initialMinAge:j.PropTypes.number,initialMaxAge:j.PropTypes.number,onDataUpdate:j.PropTypes.func.isRequired},getDefaultProps:function(){return {minSelectableAge:g.DEFAULT_MIN_SELECTABLE_AGE,maxSelectableAge:g.DEFAULT_MAX_SELECTABLE_AGE};},getInitialState:function(){return this._getInitialAges(this.props);},componentWillReceiveProps:function(n){this.setStateSafe(this._getInitialAges(n));},_getInitialAges:function(n){var o=n.minSelectableAge,p=n.maxSelectableAge,q=n.initialMinAge?n.initialMinAge:o,r=n.initialMaxAge?n.initialMaxAge:p;if(o>q)q=o;if(p<r)r=p;return {minAge:q,maxAge:r};},_onMinAgeUpdate:function(n){var o=n.value,p=o>this.state.maxAge?o:this.state.maxAge;this._updateAges(o,p);},_onMaxAgeUpdate:function(n){var o=n.value,p=o<this.state.minAge?o:this.state.minAge;this._updateAges(p,o);},_updateAges:function(n,o){this.setStateSafe({minAge:n,maxAge:o});this.props.onDataUpdate("minimum_age",n);this.props.onDataUpdate("maximum_age",o);},render:function(){var n=this.state,o="No max";return (j.DOM.div({className:"_5so_"},h({minimum:this.props.minSelectableAge,maximum:this.props.maxSelectableAge,selectedValue:n.minAge,onDataUpdate:this._onMinAgeUpdate})," - ",h({minimum:this.props.minSelectableAge,maximum:this.props.maxSelectableAge,selectedValue:n.maxAge,onDataUpdate:this._onMaxAgeUpdate,customMaxLabel:o})));}});e.exports=m;});
__d("AdsTargetingGenderSelector.react",["AdsTargetingConstants","XUIButtonGroup.react","XUIButton.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=j.createClass({displayName:'AdsTargetingGenderSelector',propTypes:{onDataUpdate:j.PropTypes.func.isRequired,initialGender:j.PropTypes.number},getDefaultProps:function(){return {initialGender:g.GENDERS.All};},getInitialState:function(){return {selected:this.props.initialGender};},componentWillReceiveProps:function(n){this.setState({selected:n.initialGender});},_onClick:function(n){this.setState({selected:n});this.props.onDataUpdate("gender",n);},render:function(){var n=this.state.selected,o=n==g.GENDERS.All?'confirm':'default',p=n==g.GENDERS.Men?'confirm':'default',q=n==g.GENDERS.Women?'confirm':'default',r=(("_5v_d")),s="All",t="Men",u="Women";return (j.DOM.div({className:r},h(null,i({label:s,use:o,onClick:this._onClick.bind(null,g.GENDERS.All)}),i({label:t,use:p,onClick:this._onClick.bind(null,g.GENDERS.Men)}),i({label:u,use:q,onClick:this._onClick.bind(null,g.GENDERS.Women)}))));}});e.exports=m;});
__d("AdsTargetingKeywordSuggestions.react",["React","cx"],function(a,b,c,d,e,f,g,h){var i=g.PropTypes,j=g.createClass({displayName:'AdsTargetingKeywordSuggestions',propTypes:{suggestions:i.array.isRequired,onSuggestionClick:i.func},render:function(){var k=this.props.suggestions.map(function(l,m){return (g.DOM.li({className:"_5c5m"},g.DOM.a({href:"#",'data-testid':"interest_suggestion_"+m.toString(),onClick:this.handleClick.bind(null,l)},l.text)));},this);return (g.DOM.ul(null,k));},handleClick:function(k){if(!this.props.onSuggestionClick)return;this.props.onSuggestionClick(k);}});e.exports=j;});
__d("AdsTargetingKeywordTypeahead.react",["AdsTargetingAdmarketKeywordCategory","AdsTargetingTokenizer.react","AdsTargetingConstants","React","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){var l=j.createClass({displayName:'AdsTargetingKeywordTypeahead',propTypes:{onDataUpdate:j.PropTypes.func.isRequired,initialEntries:j.PropTypes.array,maxEntries:j.PropTypes.number,smallInput:j.PropTypes.bool,useUnifiedInterests:j.PropTypes.bool},getDefaultProps:function(){return {maxEntries:i.MAX_KEYWORDS_ENTRIES,useUnifiedInterests:false};},_onChange:function(m,n){this.props.onDataUpdate('keywords',m);},render:function(){var m={kw_filter:[g.KEYWORD_CATEGORY_WIKI],max_results:this.props.maxEntries,show_coverage:false,kw_as_value:!this.props.useUnifiedInterests,no_wiki_hashtag:true,use_unified_interests:this.props.useUnifiedInterests},n="Enter 4-10 interests...";return (j.DOM.div(null,h({'data-testid':"interest_token",uri:i.KEYWORD_URI,queryData:m,onDataUpdate:this._onChange,placeholder:n,initialEntries:this.props.initialEntries,smallInput:this.props.smallInput})));}});e.exports=l;});
__d("AdsTargetingKeywordSelector.react",["AdsTargetingConstants","AdsTargetingKeywordSuggestions.react","AdsTargetingKeywordTypeahead.react","CurrentLocale","React","SearchableEntry","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=k.createClass({displayName:'AdsTargetingKeywordSelector',_tokenizerEntries:[],propTypes:{onDataUpdate:k.PropTypes.func.isRequired,initialEntries:k.PropTypes.array,maxEntries:k.PropTypes.number,primedDao:k.PropTypes.object,smallInput:k.PropTypes.bool,useUnifiedInterests:k.PropTypes.bool},getDefaultProps:function(){return {initialEntries:[],useUnifiedInterests:false};},getInitialState:function(){return {suggestions:[],entries:this.props.initialEntries};},_initializeSelector:function(o){this._tokenizerEntries=o.initialEntries;this._fetchSuggestions(this._getKeywordTokens(o.initialEntries));},componentWillMount:function(){if(!this.props.initialEntries.length)return;this._initializeSelector(this.props);},componentWillReceiveProps:function(o){this._initializeSelector(o);if(o.initialEntries)this.setState({entries:o.initialEntries});},_updateSuggestions:function(o){this.setState({suggestions:o});},_onDataUpdate:function(o,p){this._fetchSuggestions(this._getKeywordTokens(p));this._tokenizerEntries=p;if(this.props.useUnifiedInterests)o=g.TARGETING_SPEC_KEYS.INTERESTS;this.props.onDataUpdate(o,p);},_handleSuggestionClick:function(o){var p=this.props.useUnifiedInterests?o.id:'#'+o.text,q=new l({uniqueID:p,title:o.text});this._tokenizerEntries.push(q);this._onDataUpdate('keywords',this._tokenizerEntries);},_fetchSuggestions:function(o){if(this.props.useUnifiedInterests){this._fetchInterestSuggestions(o);}else this._fetchKeywordSuggestions(o);},_fetchKeywordSuggestions:function(o){if(!this.props.primedDao||!o.length){this._updateSuggestions([]);return;}this.props.primedDao.fetch.adKeywordSuggestion.one(this._renderKeywordSuggestions,{keyword_list:o,offset:0,include_algorithm:false,limit:2*g.MAX_KEYWORDS_SUGGESTIONS});},_fetchInterestSuggestions:function(o){if(!this.props.primedDao||!o.length){this._updateSuggestions([]);return;}this.props.primedDao.fetch.adInterestSuggestion.one(this._renderKeywordSuggestions,{interest_list:o,offset:0,include_algorithm:false,limit:2*g.MAX_KEYWORDS_SUGGESTIONS,locale:j.get()});},_getKeywordTokens:function(o){var p=[],q=o.length;for(var r=0;r<q;r++)if(this.props.useUnifiedInterests){p.push(o[r].getTitle());}else p.push(o[r].getUniqueID());return p;},_renderKeywordSuggestions:function(o){if(!o||!o.length){o=[];}else{var p=this.props.useUnifiedInterests;o=o.filter(function(q){if(!q.name||(!p&&q.name.charAt(0)!='#'))return false;q.text=q.uid=q.name;if(q.text.charAt(0)=='#')q.text=q.text.slice(1);return true;}).slice(0,g.MAX_KEYWORDS_SUGGESTIONS);}this._updateSuggestions(o);},render:function(){var o=(("mts")+(!this.state.suggestions?' '+"hidden_elem":''));return (k.DOM.div(null,i({onDataUpdate:this._onDataUpdate,initialEntries:this.state.entries,maxEntries:this.props.maxEntries,smallInput:this.props.smallInput,useUnifiedInterests:this.props.useUnifiedInterests}),k.DOM.div({className:o},h({suggestions:this.state.suggestions,onSuggestionClick:this._handleSuggestionClick}))));}});e.exports=n;});
__d("BoostedPostAudienceValues",[],function(a,b,c,d,e,f){var g=5;function h(){"use strict";this.$BoostedPostAudienceValues0=[];this.$BoostedPostAudienceValues1=[];this.$BoostedPostAudienceValues2=[];this.$BoostedPostAudienceValues3=g;}h.prototype.getID=function(){"use strict";return this.$BoostedPostAudienceValues4;};h.prototype.setID=function(i){"use strict";this.$BoostedPostAudienceValues4=i;};h.prototype.getName=function(){"use strict";return this.$BoostedPostAudienceValues5;};h.prototype.setName=function(i){"use strict";this.$BoostedPostAudienceValues5=i;};h.prototype.getMinAge=function(){"use strict";return this.$BoostedPostAudienceValues6;};h.prototype.setMinAge=function(i){"use strict";this.$BoostedPostAudienceValues6=i;};h.prototype.getMaxAge=function(){"use strict";return this.$BoostedPostAudienceValues7;};h.prototype.setMaxAge=function(i){"use strict";this.$BoostedPostAudienceValues7=i;};h.prototype.getGender=function(){"use strict";return this.$BoostedPostAudienceValues8;};h.prototype.setGender=function(i){"use strict";this.$BoostedPostAudienceValues8=i;};h.prototype.getLocationType=function(){"use strict";return this.$BoostedPostAudienceValues9;};h.prototype.setLocationType=function(i){"use strict";this.$BoostedPostAudienceValues9=i;};h.prototype.getCountries=function(){"use strict";return this.$BoostedPostAudienceValues0;};h.prototype.setCountries=function(i){"use strict";this.$BoostedPostAudienceValues0=i;};h.prototype.getRegions=function(){"use strict";return this.$BoostedPostAudienceValues1;};h.prototype.setRegions=function(i){"use strict";this.$BoostedPostAudienceValues1=i;};h.prototype.getCities=function(){"use strict";return this.$BoostedPostAudienceValues2;};h.prototype.setCities=function(i){"use strict";this.$BoostedPostAudienceValues2=i;};h.prototype.getRadius=function(){"use strict";return this.$BoostedPostAudienceValues3;};h.prototype.setRadius=function(i){"use strict";this.$BoostedPostAudienceValues3=i;};h.prototype.getInterests=function(){"use strict";return this.$BoostedPostAudienceValuesa;};h.prototype.setInterests=function(i){"use strict";this.$BoostedPostAudienceValuesa=i;};e.exports=h;});
__d("BoostedPostStrings",["fbt"],function(a,b,c,d,e,f,g){var h={TARGETING_LABELS:{LOCATION:"Location",AGE:"Age",GENDER:"Gender",INTERESTS:"Interests"}};e.exports=h;});
__d("BoostedPostTargetingController",["AdsTargetingModelAdapter","AdsDaoGraph","BoostedPostAudienceManagerConstants","BoostedPostAppConfig","BoostedPostLogging","BoostedPostEventType","AdsTargetingConstants","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(p,q){"use strict";this.$BoostedPostTargetingController0=h.primedForAccount(p);this.$BoostedPostTargetingController1=q;}o.prototype.getDao=function(){"use strict";return this.$BoostedPostTargetingController0;};o.prototype.getTargetingSpecs=function(p){"use strict";this.$BoostedPostTargetingController0.fetch.audiencesForAccount.one(p,{access_token:j.access_token});};o.prototype.saveTargetingSpec=function(p,q,r,s){"use strict";var t=this.$BoostedPostTargetingController2(p,q);if(!this.$BoostedPostTargetingController3(p,s))return;this.$BoostedPostTargetingController4(p);k.log(l.AM_AUDIENCE_CREATED,{custom_targeting_raw:g.getApiSpec()});this.$BoostedPostTargetingController0.add.createNewSavedTargetSpec.one(function(){this.$BoostedPostTargetingController0.fetch.audiencesForAccount.clearCache();r();}.bind(this),{targeting_spec:g.getApiSpec(),name:t,access_token:j.access_token,handleError:s.bind(null,i.MESSAGES.CREATE_AUDIENCE_ERROR)});};o.prototype.updateTargetingSpec=function(p,q,r,s,t,u){"use strict";var v=this.$BoostedPostTargetingController2(p,r,s);if(!this.$BoostedPostTargetingController3(p,u))return;this.$BoostedPostTargetingController4(p);k.log(l.AM_AUDIENCE_EDITED,{id:q,custom_targeting_raw:g.getApiSpec()});this.$BoostedPostTargetingController0.mutate.savedTargetSpec.one(function(){this.$BoostedPostTargetingController0.fetch.audiencesForAccount.clearCache();t();}.bind(this),{targeting_spec:g.getApiSpec(),name:v,audienceId:q,access_token:j.access_token,handleError:u.bind(null,i.MESSAGES.UPDATE_AUDIENCE_ERROR)});};o.prototype.deleteTargetingSpec=function(p,q,r){"use strict";k.log(l.AM_AUDIENCE_DELETED,{id:p});this.$BoostedPostTargetingController0.remove.audience.one(function(){this.$BoostedPostTargetingController0.fetch.audiencesForAccount.clearCache();q();}.bind(this),{audienceId:p,access_token:j.access_token,handleError:r.bind(null,i.MESSAGES.DELETE_AUDIENCE_ERROR)});};o.prototype.$BoostedPostTargetingController3=function(p,q){"use strict";if(this.$BoostedPostTargetingController5(p))if(!(this.$BoostedPostTargetingController1.length)){q(i.MESSAGES.MUST_SPECIFY_LOCATION);return false;}return true;};o.prototype.$BoostedPostTargetingController5=function(p){"use strict";switch(p.getLocationType()){case m.LOCATION_TYPES.Countries:if(!p.getCountries().length)return true;break;case m.LOCATION_TYPES.Regions:if(!p.getRegions().length)return true;break;case m.LOCATION_TYPES.Cities:if(!p.getCities().length)return true;break;default:return true;}return false;};o.prototype.$BoostedPostTargetingController6=function(){"use strict";g.unset('geoLocations');g.unset('ageMin');g.unset('ageMax');g.setGenders([]);g.unset('interests');};o.prototype.$BoostedPostTargetingController4=function(p){"use strict";this.$BoostedPostTargetingController6();if(this.$BoostedPostTargetingController5(p)){g.setGeoLocations({countries:this.$BoostedPostTargetingController1});}else switch(p.getLocationType()){case m.LOCATION_TYPES.Countries:g.setGeoLocations({countries:p.getCountries()});break;case m.LOCATION_TYPES.Regions:var q=p.getRegions().map(function(t){return {key:t};});g.setGeoLocations({regions:q});break;case m.LOCATION_TYPES.Cities:var r=null;if(p.getRadius())r=p.getRadius();var s=p.getCities().map(function(t){return {key:t,radius:r,distance_unit:'mile'};});g.setGeoLocations({cities:s});break;}if(p.getMinAge())g.setAgeMin(p.getMinAge());if(p.getMaxAge())g.setAgeMax(p.getMaxAge());if(p.getGender())g.setGenders([p.getGender()]);if(p.getInterests())g.setInterests(p.getInterests());};o.prototype.$BoostedPostTargetingController2=function(p,q,r){"use strict";var s=p.getName();if(s&&s.length)return s;if(r)return r;var t=i.DEFAULT_NAME_INITIAL_NUMBER;while(1){var u=n._("Audience {audience_number}",[n.param("audience_number",t)]);if(q.indexOf(u)===-1)return u;++t;}};e.exports=o;});
__d("BoostedPostAudienceSelector.react",["XUISelector.react","XUICloseButton.react","InlineBlock.react","BoostedPostAudienceManagerConstants","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=g.Option,n=k.createClass({displayName:'BoostedPostAudienceSelector',propTypes:{audiences:k.PropTypes.array.isRequired,onAudienceUpdate:k.PropTypes.func.isRequired,onAudienceDelete:k.PropTypes.func.isRequired,selectedValue:k.PropTypes.number},render:function(){var o=this.props,p=o.audiences,q=p.length,r=[],s=o.selectedValue?o.selectedValue:j.NEW_AUDIENCE_ID;r.push(m({value:j.NEW_AUDIENCE_ID},"New Audience"));for(var t=0;t<q;++t){var u=p[t];r.push(m({value:u.audience_id},u.audience_name));}var v=null;if(o.selectedValue)v=k.DOM.div({className:"_5vbi"},i({alignv:"middle"},h({size:"medium",shade:"light",onClick:o.onAudienceDelete.bind(null,o.selectedValue)})));return (k.DOM.div({className:"_5vbm"},g({onChange:o.onAudienceUpdate,value:s,maxheight:200},r),v));}});e.exports=n;});
__d("BoostedPostNameInput.react",["BoostedPostAudienceManagerConstants","XUITextInput.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){var l=i.createClass({displayName:'BoostedPostNameInput',propTypes:{onDataUpdate:i.PropTypes.func.isRequired,initialText:i.PropTypes.string},getDefaultProps:function(){return {initialText:''};},getInitialState:function(){return {text:this.props.initialText};},componentWillReceiveProps:function(m){this.setState({text:m.initialText});},_onChange:function(event){var m=event.target.value;this.setState({text:m});this.props.onDataUpdate("name",m);},clear:function(){this.setState({text:''});this.props.onDataUpdate("name",'');},render:function(){var m="Add audience name ...";return (i.DOM.div({className:"_5spb"},h({placeholder:m,value:this.state.text,onChange:this._onChange,maxLength:g.MAX_NAME_LENGTH,ref:"input"})));}});e.exports=l;});
__d("BoostedPostAudienceManagerRow.react",["XUIGrayText.react","React","cx"],function(a,b,c,d,e,f,g,h,i){var j=h.createClass({displayName:'BoostedPostAudienceManagerRow',propTypes:{label:h.PropTypes.string},render:function(){var k=this.props;return (h.DOM.div({className:"_5sp0"},h.DOM.div({className:"_5sp1"},g({size:"small",shade:"light",weight:"bold"},k.label)),h.DOM.div({className:"_5sp2"},k.children)));}});e.exports=j;});
__d("BoostedPostAudienceEditor.react",["AdsTargetingLocationSelector.react","AdsTargetingAgeSelector.react","AdsTargetingGenderSelector.react","AdsTargetingKeywordSelector.react","AdsTargetingTogglerSafeMixin","AdsTargetingConstants","BoostedPostAudienceManagerConstants","SearchableEntry","BoostedPostAudienceValues","BoostedPostAudienceUtil","BoostedPostStrings","BoostedPostTargetingController","BoostedPostAudienceSelector.react","BoostedPostNameInput.react","BoostedPostAudienceManagerRow.react","intlList","React"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){var x=q.TARGETING_LABELS,y=w.createClass({displayName:'BoostedPostAudienceEditor',mixins:[k],propTypes:{adAccountID:w.PropTypes.string.isRequired,setLoading:w.PropTypes.func.isRequired,onPostMutate:w.PropTypes.func.isRequired,mode:w.PropTypes.number.isRequired,audienceToEdit:w.PropTypes.object,otherNames:w.PropTypes.array,onMessageChange:w.PropTypes.func.isRequired,defaultCountries:w.PropTypes.object.isRequired},getDefaultProps:function(){return {otherNames:[]};},getInitialState:function(){return {audiences:[],initialLocations:this._getEmptyInitialLocations()};},componentWillMount:function(){this._ready=true;this._controller=new r(this.props.adAccountID,Object.keys(this.props.defaultCountries));this.resetEditorState(this.props.mode,this.props.audienceToEdit);},resetEditorState:function(z,aa,ba){this._refreshSpecs(null);if(z===m.EDITOR_MODES.EDIT){this._onAudienceSwitchWithAudience(aa,ba);}else if(z===m.EDITOR_MODES.CREATE)this.clearState(ba);},clearState:function(z){this._audienceValues=new o();this.setStateSafe({loadedAudience:null,loadedAudienceID:null,initialLocations:this._getEmptyInitialLocations()},z);},_populateTargetingSpecs:function(z,aa){this._setLoading(false);this.props.onMessageChange(z);this.setStateSafe({audiences:aa,loadedAudience:null,loadedAudienceID:null,initialLocations:this._getEmptyInitialLocations()});},_onDataUpdate:function(z,aa){var ba=this._audienceValues;if(z===l.TARGETING_SPEC_KEYS.COUNTRIES||z===l.TARGETING_SPEC_KEYS.REGIONS||z===l.TARGETING_SPEC_KEYS.CITIES)aa=aa.map(function(da){return da.getUniqueID();});switch(z){case l.TARGETING_SPEC_KEYS.NAME:ba.setName(aa);break;case l.TARGETING_SPEC_KEYS.MIN_AGE:ba.setMinAge(aa);break;case l.TARGETING_SPEC_KEYS.MAX_AGE:ba.setMaxAge(aa);break;case l.TARGETING_SPEC_KEYS.GENDER:ba.setGender(aa);break;case l.TARGETING_SPEC_KEYS.CITIES:ba.setCities(aa);ba.setLocationType(l.LOCATION_TYPES.Cities);break;case l.TARGETING_SPEC_KEYS.COUNTRIES:ba.setCountries(aa);ba.setLocationType(l.LOCATION_TYPES.Countries);break;case l.TARGETING_SPEC_KEYS.REGIONS:ba.setRegions(aa);ba.setLocationType(l.LOCATION_TYPES.Regions);break;case l.TARGETING_SPEC_KEYS.RADIUS:ba.setRadius(aa);break;case l.TARGETING_SPEC_KEYS.INTERESTS:var ca=aa.map(function(da){return {id:da.getUniqueID(),name:da.getTitle()};});ba.setInterests(ca);break;}},onSave:function(){this._setLoading(true);var z=this.state;if(z.loadedAudienceID){var aa=this.props.otherNames.slice(),ba=this.props.audienceToEdit.audience_name;for(var ca=0;ca<aa.length;++ca)if(aa[ca]===ba){aa.splice(ca,1);break;}this._controller.updateTargetingSpec(this._audienceValues,z.loadedAudienceID,aa,z.loadedAudience.audience_name,this._onPostMutate.bind(null,m.MESSAGES.AUDIENCE_UPDATED,m.EDITOR_ACTIONS.EDIT,z.loadedAudienceID),this._onErrorCallback);}else this._controller.saveTargetingSpec(this._audienceValues,this.props.otherNames,this._onPostMutate.bind(null,m.MESSAGES.AUDIENCE_SAVED,m.EDITOR_ACTIONS.CREATE),this._onErrorCallback);},_onErrorCallback:function(z,aa,ba,ca){this._setLoading(false);this.props.onMessageChange(z);},_refreshSpecs:function(z){if(this.props.mode!==m.EDITOR_MODES.FREEFORM)return;this._audienceValues=new o();this._controller.getTargetingSpecs(this._populateTargetingSpecs.bind(null,z));},_onPostMutate:function(z,aa,ba){this.props.onPostMutate(aa,ba);if(this.props.mode===m.EDITOR_MODES.FREEFORM){this._refreshSpecs(z);}else this._setLoading(false);},_onAudienceSwitchCallback:function(z){this._onAudienceSwitchWithID(z.value);},_onAudienceSwitchWithID:function(z){var aa=null;if(z!==m.NEW_AUDIENCE_ID){aa=this._getAudienceFromId(z);this._onAudienceSwitchWithAudience(aa);}else this.clearState();},_onAudienceSwitchWithAudience:function(z,aa){this._initAudienceValuesFromAudience(z);var ba=this._audienceValues,ca=ba.getID(),da=this._getNamesCallback.bind(null,z,ca,aa);switch(ba.getLocationType()){case l.LOCATION_TYPES.Countries:p.getCountryNames(ba.getCountries(),da.bind(null,l.TARGETING_SPEC_KEYS.COUNTRIES,null));break;case l.LOCATION_TYPES.Regions:p.getRegionNames(ba.getRegions(),da.bind(null,l.TARGETING_SPEC_KEYS.REGIONS,'name'));break;case l.LOCATION_TYPES.Cities:p.getCityNames(ba.getCities(),da.bind(null,l.TARGETING_SPEC_KEYS.CITIES,null));break;}},_getEmptyInitialLocations:function(){return {countries:[],regions:[],cities:[]};},onAudienceDelete:function(z){this._setLoading(true);this._controller.deleteTargetingSpec(z,this._onPostMutate.bind(null,m.MESSAGES.AUDIENCE_DELETED,m.EDITOR_ACTIONS.DELETE),this._onErrorCallback);},_getAudienceFromId:function(z){var aa=this.state.audiences,ba=aa.length;for(var ca=0;ca<ba;++ca)if(aa[ca].audience_id===z)return aa[ca];return null;},_getNamesCallback:function(z,aa,ba,ca,da,ea){var fa=[];for(var ga in ea){var ha=ea[ga];if(da)ha=ha[da];fa.push(new n({uniqueID:ga,title:ha}));}var ia=this._getEmptyInitialLocations();ia[ca]=fa;this.setStateSafe({loadedAudience:z,loadedAudienceID:aa,initialLocations:ia},ba);},_initAudienceValuesFromAudience:function(z){if(!z)return;this._audienceValues=new o();var aa=this._audienceValues;aa.setID(z.audience_id);aa.setName(z.audience_name);var ba=z.target_spec;if(!ba)return;aa.setMinAge(ba.age_min);aa.setMaxAge(ba.age_max);var ca=ba.gender;if(ca&&ca.length)aa.setGender(ca[0]);var da=ba.geo_locations,ea=da.countries,fa=da.regions,ga=da.cities;if(ea){aa.setCountries(ea);aa.setLocationType(l.LOCATION_TYPES.Countries);}else if(fa){aa.setRegions(fa.map(function(ha){return ha.key.toString();}));aa.setLocationType(l.LOCATION_TYPES.Regions);}else if(ga){if(ga.length)aa.setRadius(ga[0].radius);aa.setCities(ga.map(function(ha){return ha.key.toString();}));aa.setLocationType(l.LOCATION_TYPES.Cities);}aa.setInterests(ba.interests);},_setLoading:function(z){this._ready=!z;this.props.setLoading(z);},_getDefaultCountriesString:function(){var z=this.props.defaultCountries,aa=[];for(var ba in z)aa.push(z[ba]);return v(aa,v.CONJUNCTIONS.AND);},_getInterestEntries:function(z){if(!z)return [];var aa=[],ba=z.length;for(var ca=0;ca<ba;++ca)aa.push(new n({uniqueID:z[ca].id,title:z[ca].name}));return aa;},render:function(){var z=this._audienceValues,aa=null;if(this.props.mode===m.EDITOR_MODES.FREEFORM)aa=u({label:m.LABELS.AUDIENCE},s({audiences:this.state.audiences,selectedValue:z.getID(),onAudienceUpdate:this._onAudienceSwitchCallback,onAudienceDelete:this.onAudienceDelete}));var ba=this._getInterestEntries(z.getInterests());return (w.DOM.div(null,aa,u({label:x.LOCATION},g({initialTokenizer:z.getLocationType(),initialTokens:this.state.initialLocations,initialRadius:z.getRadius(),onDataUpdate:this._onDataUpdate,defaultCountries:this._getDefaultCountriesString(),smallInput:true,ref:"locations"})),u({label:x.AGE},h({initialMinAge:z.getMinAge(),initialMaxAge:z.getMaxAge(),onDataUpdate:this._onDataUpdate})),u({label:x.GENDER},i({onDataUpdate:this._onDataUpdate,initialGender:z.getGender()})),u({label:x.INTERESTS},j({initialEntries:ba,onDataUpdate:this._onDataUpdate,primedDao:this._controller.getDao(),useUnifiedInterests:true,smallInput:true})),u({label:m.LABELS.NAME},t({initialText:z.getName(),onDataUpdate:this._onDataUpdate,ref:"name"}))));}});e.exports=y;});
__d("AdInterfacesUiLogger",["AsyncRequest"],function(a,b,c,d,e,f,g){var h='/ajax/ads/interfaces/log/';function i(l){new g(h).setData(l).send();}var j='',k='0';e.exports={setAppName:function(l){j=l;},setAccountID:function(l){k=l;},log:function(l,m){if(!j||!k){j=j||'Unknown';k=k||0;}var n={app_name:j,event_name:l,account_id:k,payload:m||{}};i(n);}};});
__d("AdInterfacesAppNames",[],function(a,b,c,d,e,f){e.exports={CREATE_FLOW:"ads-adscreator",AUDIENCE_MANAGER:"ads-customaudiencesmanager",POWER_EDITOR:"ads-powereditor",BOOSTED_POSTS:"ads-boostedposts",CONVERSION_TRACKING:"ads-conversion-tracking"};});
__d("BoostedPostAudienceManagerModule",["AdsTargetingTogglerSafeMixin","BoostedPostAudienceManagerConstants","BoostedPostBasicDialog.react","LayerFadeOnHide","LoadingIndicator.react","XUIDialog.react","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogSaveButton.react","XUIDialogCancelButton.react","XUIGrayText.react","XUINotice.react","ReactLayeredComponentMixin","BoostedPostAudienceEditor.react","React","AdInterfacesUiLogger","AdInterfacesAppNames","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){var aa=v.createClass({displayName:'BoostedPostAudienceManagerModule',mixins:[t,g],propTypes:{adAccountID:v.PropTypes.string.isRequired,onPostMutate:v.PropTypes.func.isRequired,showDefault:v.PropTypes.bool,initialMode:v.PropTypes.number,initialAudienceToEdit:v.PropTypes.object,otherNames:v.PropTypes.array,defaultCountries:v.PropTypes.object.isRequired},getDefaultProps:function(){return {showDefault:true,initialMode:h.EDITOR_MODES.CREATE};},getInitialState:function(){return {dialogShown:false,loading:false,mode:this.props.initialMode,audienceToEdit:this.props.initialAudienceToEdit};},componentWillMount:function(){w.setAccountID(this.props.adAccountID);w.setAppName(x.BOOSTED_POSTS);},openCreateMode:function(){this.refs.editor.resetEditorState(h.EDITOR_MODES.CREATE,null,function(){this.setState({dialogShown:true,mode:h.EDITOR_MODES.CREATE});}.bind(this));},openEditMode:function(ba){this.refs.editor.resetEditorState(h.EDITOR_MODES.EDIT,ba,function(){this.setState({dialogShown:true,mode:h.EDITOR_MODES.EDIT,audienceToEdit:ba});}.bind(this));},_onToggle:function(ba){this.setStateSafe({dialogShown:ba,message:null});},_onSave:function(){this.refs.editor.onSave();},_onCloseDialog:function(){this.setState({dialogShown:false});},_setLoading:function(ba){this.setState({loading:ba});},_onButtonClick:function(){this.openCreateMode();},_onPostMutate:function(ba,ca){if(this.state.mode!==h.EDITOR_MODES.FREEFORM){this.setState({audienceToEdit:null});this._onCloseDialog();}this.props.onPostMutate(ba,ca);},_onDelete:function(){this.refs.editor.onAudienceDelete(this.state.audienceToEdit.audience_id);},_onMessageChange:function(ba){this.setState({message:ba});},_getDialogTitle:function(){switch(this.state.mode){case h.EDITOR_MODES.CREATE:return ("Create Audience");default:return ("Edit Audience");}},_getDeleteDialog:function(){var ba=v.DOM.a({href:"#"},r({size:"small"},"Delete")),ca="Delete Audience?",da="It will be removed from your saved audiences list.",ea="Cancel",fa="Delete";return (i({title:ca,body:da,width:300,entryComponent:ba,closeButtonText:ea,confirmText:fa,confirmHandler:this._onDelete}));},_getExplanationText:function(){if(this.state.mode===h.EDITOR_MODES.CREATE){return ("Select the location, age, gender and interests of people you want to reach with your ad.");}else return ("Make sure to save your edits once you're done.");},renderLayers:function(){var ba=this.state.loading,ca=null;if(ba)ca=v.DOM.span({className:"_5vbk"},k({size:"small",color:"white"}));var da=null;if(this.state.mode===h.EDITOR_MODES.EDIT&&this.state.audienceToEdit&&this.state.audienceToEdit.audience_id)da=this._getDeleteDialog();var ea=null;if(this.state.message)ea=v.DOM.div({className:"_5vbj"},s(null,this.state.message));return {dialog:l({causalElementRef:"button",shown:this.state.dialogShown,behaviors:{LayerFadeOnHide:j},onToggle:this._onToggle,width:445},m(null,this._getDialogTitle()),n(null,v.DOM.div({className:"_5csd"},v.DOM.div({className:"_42w7"},r({size:"small"},this._getExplanationText())),ea,u({adAccountID:this.props.adAccountID,setLoading:this._setLoading,onPostMutate:this._onPostMutate,mode:this.state.mode,audienceToEdit:this.state.audienceToEdit,otherNames:this.props.otherNames,onMessageChange:this._onMessageChange,defaultCountries:this.props.defaultCountries,ref:"editor"}))),o({leftContent:da},ca,q(null),p({use:"confirm",disabled:ba,onClick:this._onSave})))};},render:function(){if(!this.props.showDefault)return (v.DOM.div(null));return (v.DOM.span({className:"_1r-a"},r(null,"Default Audience")));}});e.exports=aa;});
__d("MenuSeparator.react",["MenuSeparator","ReactMenu","mergeInto"],function(a,b,c,d,e,f,g,h,i){var j=function(k){var l={ctor:g};h.putOnReactComponentCostume(l);i(l,k);return l;};e.exports=j;});
__d("BoostedPostSelectAudienceSelector.react",["AdsTargetingTogglerSafeMixin","BoostedPostAudienceManagerConstants","BoostedPostAudienceManagerModule","BoostedPostLogging","BoostedPostEventType","BoostedPostTargetingController","XUIMenuSeparator.react","XUISelector.react","XUIText.react","Image.react","React","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t=n.Option,u=q.createClass({displayName:'BoostedPostSelectAudienceSelector',mixins:[g],propTypes:{adAccountID:q.PropTypes.string.isRequired,onAudienceUpdate:q.PropTypes.func.isRequired,lastAudience:q.PropTypes.object,defaultTargetSpec:q.PropTypes.object.isRequired,defaultCountries:q.PropTypes.object.isRequired},getInitialState:function(){this._specialAudiences=this._getSpecialAudiences();return {audiences:[],selected:this._getDefaultSelectedValue([])};},componentWillMount:function(){this._controller=new l(this.props.adAccountID);this.refreshSpecs();},refreshSpecs:function(v,w){this._controller.getTargetingSpecs(this._getTargetingSpecsCallback.bind(null,v,w));},_getDefaultSelectedValueFromLastAction:function(v,w,x){if(w){return w;}else if(v&&v===h.EDITOR_ACTIONS.CREATE&&x.length)return x[x.length-1].audience_id;return this._getDefaultSelectedValue(x);},_getDefaultSelectedValue:function(v){var w=this._specialAudiences;return w.length?w[0].audience_id:(v.length?v[0].audience_id:h.SPECIAL_AUDIENCES.DEFAULT);},_getTargetingSpecsCallback:function(v,w,x){var y=this._getDefaultSelectedValueFromLastAction(v,w,x);if(y){this.setStateSafe({audiences:x,selected:y});var z=this._getAudienceFromID(y,x);this._onAudienceUpdate(y,z);}else this.setStateSafe({audiences:x});if(!this._loggedAudienceShown){this._loggedAudienceShown=true;var aa={ad_account_id:this.props.adAccountID};if(this.props.lastAudience){j.log(k.AM_LAST_USED_AUDIENCE_SHOWN,aa);}else if(x.length){j.log(k.AM_FIRST_AUDIENCE_SHOWN,aa);}else j.log(k.AM_DEFAULT_AUDIENCE_SHOWN,aa);}},_getSpecialAudiences:function(){var v=[];if(this.props.lastAudience)v.push({audience_id:h.SPECIAL_AUDIENCES.LAST_USED,audience_name:"Last Used Audience"});return v;},_onAudienceChange:function(v){var w=v.value,x=this._getAudienceFromID(w,this.state.audiences),y={ad_account_id:this.props.adAccountID,audience_id:w};j.log(k.AM_AUDIENCE_CHANGED,y);this.setStateSafe({selected:w===h.SPECIAL_AUDIENCES.MANAGE?this.state.selected:w});this._onAudienceUpdate(w,x);},_onAudienceUpdate:function(v,w){switch(v){case h.SPECIAL_AUDIENCES.LAST_USED:this.props.onAudienceUpdate(this.props.lastAudience);return;case h.SPECIAL_AUDIENCES.MANAGE:this.refs.manager.openCreateMode();return;case h.SPECIAL_AUDIENCES.DEFAULT:this.props.onAudienceUpdate(this.props.defaultTargetSpec);return;default:break;}if(w)this.props.onAudienceUpdate(w.target_spec);},_onAudienceEdit:function(){var v=this.state.selected,w=null;if(v===h.SPECIAL_AUDIENCES.DEFAULT){w={target_spec:this.props.defaultTargetSpec};var x={ad_account_id:this.props.adAccountID};j.log(k.AM_DEFAULT_AUDIENCE_EDITED,x);}else w=this._getAudienceFromID(v,this.state.audiences);if(w)this.refs.manager.openEditMode(w);},_getAudienceFromID:function(v,w){var x=w.length;for(var y=0;y<x;++y)if(w[y].audience_id===v)return w[y];return null;},_isSelectedAudienceEditable:function(){switch(this.state.selected){case h.SPECIAL_AUDIENCES.LAST_USED:case h.SPECIAL_AUDIENCES.MANAGE:return false;default:return true;}},_hasAnyAudiences:function(){return (this.state.audiences.length+this._specialAudiences.length>0);},_addSpecialAudienceOptions:function(v){var w=this._specialAudiences,x=w.length;for(var y=0;y<x;++y){var z=w[y];v.push(t({value:z.audience_id},z.audience_name));}},_addAudienceOptions:function(v){var w=this.state.audiences,x=w.length;for(var y=0;y<x;++y){var z=w[y];v.push(t({value:z.audience_id},z.audience_name));}},_onPostMutate:function(v,w){this.refreshSpecs(v,w);},_getOtherNames:function(){return this.state.audiences.map(function(v){return v.audience_name;});},render:function(){var v=null,w=null;if(this._hasAnyAudiences()){var x=[],y=this.state.audiences.length,z=this._specialAudiences.length;this._addSpecialAudienceOptions(x);if(z&&y)x.push(m(null));this._addAudienceOptions(x);if(z||y)x.push(m(null));x.push(t({value:h.SPECIAL_AUDIENCES.MANAGE,icon:p({src:s('/images/ui/x/image/gear.png')})},"Create Audience"));v=n({value:this.state.selected,onChange:this._onAudienceChange,maxheight:200,maxwidth:150},x);}if(this._isSelectedAudienceEditable())w=q.DOM.span({className:"mts mrs rfloat"},q.DOM.a({href:"#",onClick:this._onAudienceEdit},o(null,"Edit")));return (q.DOM.div(null,i({adAccountID:this.props.adAccountID,onPostMutate:this._onPostMutate,showDefault:!v,otherNames:this._getOtherNames(),defaultCountries:this.props.defaultCountries,ref:"manager"}),v,w));}});e.exports=u;});
__d("BoostedPostSelectAudienceSection.react",["BoostedPostAudienceDetails.react","BoostedPostSelectAudienceSelector.react","BoostedPostSpecs","AdsTargetingTogglerSafeMixin","PromotedPostConstants","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=l.createClass({displayName:'BoostedPostSelectAudienceSection',mixins:[j],propTypes:{adAccountID:l.PropTypes.string.isRequired,specs:l.PropTypes.instanceOf(i).isRequired,lastAudience:l.PropTypes.object,defaultCountries:l.PropTypes.object.isRequired,defaultSpec:l.PropTypes.object.isRequired},getInitialState:function(){return {specs:this.props.specs};},componentWillMount:function(){this.state.specs.subscribe(k.ACCOUNT_CHANGE_FINISH,this._refreshSpecs);},_onAudienceUpdate:function(o){this._convertApiSpecToBoostedSpec(o);this.state.specs.setTargetingSpec(o);this.setStateSafe({specs:this.state.specs});},_refreshSpecs:function(){this.refs.selector.refreshSpecs();},_convertApiSpecToBoostedSpec:function(o){if(o.genders){o.gender=o.genders.slice();delete o.genders;}},render:function(){return (l.DOM.div({className:"_3mui"},l.DOM.div({className:"_1obt"},h({adAccountID:this.props.adAccountID,onAudienceUpdate:this._onAudienceUpdate,lastAudience:this.props.lastAudience,defaultTargetSpec:this.props.defaultSpec,defaultCountries:this.props.defaultCountries,ref:"selector"})),l.DOM.div({className:"_1obt"},g({audience:this.props.specs.getTargetingSpecRaw()}))));}});e.exports=n;});
__d("HelpLink.react",["React","TooltipLink.react"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:'HelpLink',render:function(){return this.transferPropsTo(h({className:"uiHelpLink mls"}));}});e.exports=i;});
__d("XUIRadioInput.react",["React","ReactDOMInput","cx","joinClasses","invariant"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.createClass({displayName:'XUIRadioInput',render:function(){k(!this.props.children||this.props.children.length===0);var m=j(this.props.className,"_55sh"),n=this.transferPropsTo(h({type:"radio"}));n.props.className=null;return (g.DOM.label({className:m},n,g.DOM.span(null)));}});e.exports=l;});
__d("BoostedPostTargetingAudienceSelector.react",["AdsTargetingConstants","InputLabel.react","React","HelpLink.react","XUIRadioInput.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=i.createClass({displayName:'BoostedPostTargetingAudienceInfo',propTypes:{selectedAudience:i.PropTypes.oneOf([g.AUDIENCE.Grouper,g.AUDIENCE.Ncpp,g.AUDIENCE.Custom]).isRequired,showCustomAudience:i.PropTypes.bool.isRequired,isAlreadyTargeted:i.PropTypes.bool.isRequired,isInComposer:i.PropTypes.bool.isRequired,onDataUpdate:i.PropTypes.func.isRequired},_onValueChange:function(event){this.props.onDataUpdate('audience',event.target.value);},_renderGrouperOption:function(){var o=i.DOM.div(null,"Your post will only be promoted to the people who like your Page and their friends");return (h(null,k({name:"audience",value:g.AUDIENCE.Grouper,checked:this.props.selectedAudience===g.AUDIENCE.Grouper,onChange:this._onValueChange}),i.DOM.label(null,"People who like your Page and their friends",j({tooltip:o}))));},_renderNcppOption:function(){var o=i.DOM.div(null,"Your post will be promoted to people based on the targeting you choose below.");return (h({'data-testid':"ncpp_option"},k({name:"audience",value:g.AUDIENCE.Ncpp,checked:this.props.selectedAudience===g.AUDIENCE.Ncpp,onChange:this._onValueChange}),i.DOM.label(null,"People you choose through targeting",j({tooltip:o}))));},_renderCustomAudienceOption:function(){if(!this.props.showCustomAudience)return null;var o=i.DOM.div(null,"Your post will be promoted to people in the custom audience you choose below.");return (h(null,k({name:"audience",value:g.AUDIENCE.Custom,checked:this.props.selectedAudience===g.AUDIENCE.Custom,onChange:this._onValueChange}),i.DOM.label(null,"Your custom audience",j({tooltip:o}))));},_renderAlreadyTargeted:function(){if(!this.props.isAlreadyTargeted)return null;if(this.props.isInComposer){var o="Targeting for this post has already been specified.";}else o="Targeting for this post was specified when it was created.";return (i.DOM.div({className:"_5lq7",'data-testid':"already_targeted_message"},o));},render:function(){return (i.DOM.form({className:"_3ni0"},this._renderGrouperOption(),this._renderNcppOption(),this._renderCustomAudienceOption(),this._renderAlreadyTargeted()));}});e.exports=n;});
__d("ProgressBar.react",["React","cx"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:'UIProgressBar',propTypes:{value:g.PropTypes.number.isRequired,label:g.PropTypes.string,min:g.PropTypes.number,max:g.PropTypes.number,size:g.PropTypes.oneOf(['small','large']),typesetting:g.PropTypes.oneOf(['float','inline']),isRounded:g.PropTypes.bool},getDefaultProps:function(){return {min:0,max:100,size:'large',typesetting:'inline',isRounded:false};},_calculatePercentage:function(){var j=this.props,k=Math.min(Math.max((j.value-j.min)/(j.max-j.min)*100,0),100);return k;},_hasLabel:function(){return this.props.label!=null&&this.props.size!=='small';},_isFloatingLabel:function(){return this._hasLabel()&&this.props.typesetting==='float';},_getLabel:function(){if(!this._hasLabel())return null;return this.props.label;},_getSpacer:function(){if(this._isFloatingLabel())return g.DOM.div({className:"_6a"}," ");return null;},_getFillArea:function(){var j=Math.round(this._calculatePercentage()),k=(("_5e4k")+(j===0?' '+"_5e2d":'')+(j===100?' '+"_5e4j":'')),l=this._getLabel();if(l)l=g.DOM.span({className:"_5e2h"},l);var m=g.DOM.div({className:k,style:{width:j+'%'}},this._getSpacer(),l);return m;},_getUnfillArea:function(){var j=this._getLabel();if(!j)return null;j=g.DOM.span({className:"_5e2h _5e2n"},j);if(this._isFloatingLabel()){var k=this._calculatePercentage(),l={left:k+'%',width:k+'%'},m=g.DOM.div({className:"_5e2g",style:l},this._getSpacer(),j);return m;}return j;},render:function(){var j=(("_5e4h")+(!this._isFloatingLabel()?' '+"_5e2k":'')+(this._isFloatingLabel()?' '+"_5e2j":'')+(this.props.size==='small'?' '+"_5e2l":'')+(this.props.isRounded===true?' '+"_5e2m":''));if(this._isFloatingLabel()){var k=g.DOM.div({className:j},g.DOM.div({className:"_5e2k"},this._getUnfillArea(),this._getFillArea()));}else k=g.DOM.div({className:j},this._getUnfillArea(),this._getFillArea());return k;}});e.exports=i;});
__d("BoostedPostTargetingReachBar.react",["BoostedPostReachConstants","LeftRight.react","ProgressBar.react","React","XUINotice.react","cx","fbt","ads-lib-formatters"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=n.createIntlNumberFormatter(0),p=j.createClass({displayName:'BoostedPostTargetingReachBar',propTypes:{audienceSize:j.PropTypes.number,minReach:j.PropTypes.number,maxReach:j.PropTypes.number},getDefaultProps:function(){return {audienceSize:0,minReach:0,maxReach:0};},_getIsDataValid:function(){return (this.props.minReach>=0&&this.props.maxReach>this.props.minReach&&this.props.audienceSize>=this.props.maxReach);},_isAudienceBroad:function(){var q=this.props.audienceSize>g.AUDIENCE_BROAD;return q;},_getAverageReach:function(){return Math.round((this.props.minReach+this.props.maxReach)/2);},_computeFillWidth:function(){var q=this._getAverageReach();return Math.round(Math.sqrt(q)*Math.log(q));},_getFillWidth:function(){var q=this._computeFillWidth(),r=this._getTargetingBarWidth();if(q<.02*r){return Math.round(.02*r);}else if(q>.98*r)return Math.round(.98*r);return Math.round(q);},_getTargetingBarWidth:function(){return Math.round(Math.sqrt(this.props.audienceSize*Math.log(this.props.audienceSize))+this._computeFillWidth());},_renderInfoMessage:function(){var q=this.props.audienceSize,r=this._getAverageReach(),s=null;if(this._isAudienceBroad()){s="Your targeting is very broad. Narrow your targeted audience if you want your promotion to reach more people that you care about.";}else if(q&&(r/q)<g.MIN_REACH){s="Increase your budget or narrow your audience if you want to reach more people that you care about.";}else s="Your budget and targeting determine how many people your post will reach.";return (j.DOM.div({className:"_5ul1"},s));},_renderErrorMsg:function(){return (k({use:"notify"},"Estimated reach is unavailable."));},_renderHeaderInfo:function(){var q=o(this.props.minReach),r=o(this.props.maxReach),s=o(this.props.audienceSize);return (h(null,j.DOM.div(null,q," - ",r),j.DOM.div({className:"_5ul0"},m._("of {audience_size}",[m.param("audience_size",s)]))));},_renderReachBar:function(){var q=((this._isAudienceBroad()?"_5uk_":''));return (j.DOM.div({className:q},i({value:this._getFillWidth(),max:this._getTargetingBarWidth(),size:"small",isRounded:true})));},render:function(){if(!this._getIsDataValid())return this._renderErrorMsg();return (j.DOM.div(null,j.DOM.div({className:"_5uk-"},this._renderHeaderInfo(),this._renderReachBar()),this._renderInfoMessage()));}});e.exports=p;});
__d("BoostedPostTargetingSection.react",["AdsTargetingAgeSelector.react","AdsTargetingGenderSelector.react","AdsTargetingKeywordSelector.react","AdsTargetingLocationSelector.react","BoostedPostLabeledRow.react","BoostedPostStrings","BoostedPrimedDao","AdsTargetingConstants","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=l.TARGETING_LABELS,r=o.createClass({displayName:'BoostedPostTargetingSection',propTypes:{adAccountID:o.PropTypes.string.isRequired,onDataUpdate:o.PropTypes.func.isRequired,audienceSelected:o.PropTypes.number.isRequired,initialData:o.PropTypes.object.isRequired,ageSelectorOptions:o.PropTypes.object.isRequired,locationSelectorOptions:o.PropTypes.object.isRequired,interestSelectorOptions:o.PropTypes.object.isRequired},_getInitialLocationTokenizer:function(){switch(this.props.initialData.targetingLevel){case 'country':return n.LOCATION_TYPES.Countries;case 'region':return n.LOCATION_TYPES.Regions;default:return n.LOCATION_TYPES.Cities;}},getLocationSelector:function(){return (k({label:q.LOCATION},j({onDataUpdate:this.props.onDataUpdate,initialTokenizer:this._getInitialLocationTokenizer(),initialTokens:this.props.locationSelectorOptions.targetingLocations,initialRadius:this.props.initialData.radius,defaultCountries:this.props.locationSelectorOptions.defaultCountries,smallInput:true})));},getAgeSelector:function(){var s=this.props.ageSelectorOptions;return (k({label:q.AGE},g({minSelectableAge:s.minSelectableAge,maxSelectableAge:s.maxSelectableAge,initialMinAge:this.props.initialData.age.ageMin,initialMaxAge:this.props.initialData.age.ageMax,onDataUpdate:this.props.onDataUpdate})));},getGenderSelector:function(){return (k({label:q.GENDER},h({onDataUpdate:this.props.onDataUpdate,initialGender:this.props.initialData.gender})));},getKeywordSelector:function(){var s=this.props.interestSelectorOptions.unifiedInterests;return (k({label:q.INTERESTS},i({initialEntries:this.props.initialData.keywords,onDataUpdate:this.props.onDataUpdate,primedDao:m.getDaoForCurrentAccount(),smallInput:true,useUnifiedInterests:s})));},render:function(){var s=(("_3ja")+(this.props.audienceSelected===n.AUDIENCE.Grouper?' '+"hidden_elem":''));return (o.DOM.div({className:s,'data-testid':"targeting_section"},this.getLocationSelector(),this.getAgeSelector(),this.getGenderSelector(),this.getKeywordSelector()));}});e.exports=r;});
__d("BoostedPostCreateFlyoutBody.react",["Arbiter","AdsTargetingTogglerSafeMixin","BoostedPostBudgetModes","BoostedPostConstraints","BoostedPostSection.react","BoostedPostSpecs","BoostedPostLabeledRow.react","AdsTargetingConstants","PromotedPostConstants","React","XUINotice.react","BoostedPostBudgetSelector.react","BoostedPostSelectAudienceSection.react","BoostedPostTargetingAudienceSelector.react","BoostedPostTargetingReachBar.react","BoostedPostTargetingSection.react","BoostedPrimedDao","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){var z=p.createClass({displayName:'BoostedPostCreateFlyoutBody',mixins:[h],propTypes:{pageID:p.PropTypes.string.isRequired,postID:p.PropTypes.string,boostedPostSpecs:p.PropTypes.instanceOf(l).isRequired,boostedPostConstraints:p.PropTypes.instanceOf(j).isRequired,audienceManagerOptions:p.PropTypes.object.isRequired,audienceInfoOptions:p.PropTypes.object.isRequired,locationSelectorOptions:p.PropTypes.object.isRequired,budgetSelectorOptions:p.PropTypes.object.isRequired,interestSelectorOptions:p.PropTypes.object.isRequired},componentWillMount:function(){w.setAccountID(this.props.boostedPostSpecs.getAdAccountID());},componentDidMount:function(){this.subscribeGlobalEvents();},getInitialState:function(){return {audienceSelected:this.props.audienceInfoOptions.selectedAudience,isAlreadyTargeted:this.props.audienceInfoOptions.isAlreadyTargeted,reachEstimates:{minReach:this.props.boostedPostSpecs.getLowerReachEstimate(),maxReach:this.props.boostedPostSpecs.getUpperReachEstimate(),audienceSize:this.props.budgetSelectorOptions.audienceSize}};},updateTargetingSpec:function(aa,ba){switch(aa){case 'audience':var ca=parseInt(ba,10);this.setState({audienceSelected:ca});this.props.boostedPostSpecs.setAudience(ca);break;case 'cities':this.props.boostedPostSpecs.setLocation(this._getLocationSpecs('city',ba));break;case 'countries':this.props.boostedPostSpecs.setLocation(this._getLocationSpecs('country',ba));break;case 'regions':this.props.boostedPostSpecs.setLocation(this._getLocationSpecs('region',ba));break;case 'radius':this.props.boostedPostSpecs.setRadius(ba);break;case 'minimum_age':this.props.boostedPostSpecs.setMinAge(ba);break;case 'maximum_age':this.props.boostedPostSpecs.setMaxAge(ba);break;case 'gender':this.props.boostedPostSpecs.setGender(ba);break;case 'keywords':this.props.boostedPostSpecs.setKeywords(this._getTokens(ba));break;case 'interests':this.props.boostedPostSpecs.setInterests(this._getTokens(ba));break;default:break;}this._triggerBudgetSelectorUpdate(i.UPDATE_TARGETING_SPEC);},_triggerBudgetSelectorUpdate:function(aa){if(this.props.budgetSelectorOptions.renderSelector)this.refs.budgetSelector.refreshSelector(aa,this.props.boostedPostSpecs,this.props.boostedPostConstraints.getBudgetConstraints());},onUpdateBudget:function(aa,ba){var ca=this.state.reachEstimates;if(ba.selectedBudgetInfo){this.props.boostedPostSpecs.setBudgetInfo(ba.selectedBudgetInfo);ca.minReach=ba.selectedBudgetInfo.reach_lower;ca.maxReach=ba.selectedBudgetInfo.reach_upper;}if(ba.currency)this.props.boostedPostSpecs.setCurrency(ba.currency,true);if(ba.audienceSize)ca.audienceSize=ba.audienceSize;this.setStateSafe({errorMsg:ba.errorMsg,reachEstimates:ca});if(!ba.errorMsg)this.disableSaveButton(false);},_getLocationSpecs:function(aa,ba){var ca={},da=this._getTokens(ba);if(Object.keys(da).length===0)return null;ca[aa]=da;return ca;},_getTokens:function(aa){var ba={},ca=aa.length;for(var da=0;da<ca;da++)ba[aa[da].getUniqueID()]=aa[da].getTitle();return ba;},subscribeGlobalEvents:function(){g.subscribe(o.TARGETING_CHANGE,function(aa,ba){this.setState({isAlreadyTargeted:!!Object.keys(ba.targeting_spec).length});}.bind(this));this.props.boostedPostSpecs.subscribe(o.REACT_BUDGET_SELECTOR_REFRESH_REQUIRED,function(aa,ba){this._triggerBudgetSelectorUpdate(ba.mode);}.bind(this));},disableSaveButton:function(aa){g.inform(o.SAVE_BUTTON_DISABLE,aa);},getAudienceSelectorRow:function(){var aa="Audience",ba=this.props.audienceInfoOptions;return (m({label:aa},t({selectedAudience:this.state.audienceSelected,showCustomAudience:ba.showCustomAudience,isAlreadyTargeted:this.state.isAlreadyTargeted,isInComposer:ba.isInComposer,onDataUpdate:this.updateTargetingSpec})));},getTargetingSection:function(){if(this.state.isAlreadyTargeted||this.props.audienceManagerOptions.enabled)return null;var aa=this.props.boostedPostConstraints,ba=this.props.interestSelectorOptions.unifiedInterests?this.props.boostedPostSpecs.getTokenizedInterests():this.props.boostedPostSpecs.getTokenizedKeywords(),ca={targetingLevel:this.props.boostedPostSpecs.getTargetingLevel(),radius:this.props.boostedPostSpecs.getRadius(),age:this.props.boostedPostSpecs.getAgeRange(),gender:this.props.boostedPostSpecs.getGender(),keywords:ba};return (v({adAccountID:this.props.boostedPostSpecs.getAdAccountID(),onDataUpdate:this.updateTargetingSpec,audienceSelected:this.state.audienceSelected,initialData:ca,ageSelectorOptions:aa.getAgeConstraints(),locationSelectorOptions:this.props.locationSelectorOptions,interestSelectorOptions:this.props.interestSelectorOptions}));},getAudienceManagerSection:function(){var aa=this.props.audienceManagerOptions;if(!aa.enabled)return null;var ba=((this.state.audienceSelected===n.AUDIENCE.Grouper?"hidden_elem":''));return (m({className:ba,label:""},s({adAccountID:this.props.boostedPostSpecs.getAdAccountID(),specs:this.props.boostedPostSpecs,lastAudience:aa.lastAudience,defaultCountries:aa.defaultCountries,defaultSpec:aa.defaultSpec})));},getBudgetSelector:function(){var aa="Maximum Budget";return (m({label:aa},r({pageID:this.props.pageID,postID:this.props.postID,initialBudgets:this.props.budgetSelectorOptions.initialBudgets,defaultBudget:this.props.budgetSelectorOptions.defaultBudget,budgetConstraints:this.props.boostedPostConstraints.getBudgetConstraints(),currency:this.props.boostedPostSpecs.getCurrency(),campaignLength:this.props.boostedPostSpecs.getCampaignLengthInDays(),boostedPostConfig:this.props.boostedPostSpecs.getConfig(),onDataUpdate:this.onUpdateBudget,disableSaveButton:this.disableSaveButton,ref:"budgetSelector"})));},getTargetingReachBar:function(){if(this.state.errorMsg)return (q({className:"_24zp",use:"warn"},this.state.errorMsg));var aa="Est. People Reached";return (m({className:"mtm",label:aa},u({minReach:this.state.reachEstimates.minReach,maxReach:this.state.reachEstimates.maxReach,audienceSize:this.state.reachEstimates.audienceSize})));},render:function(){var aa=null;if(this.props.budgetSelectorOptions.renderSelector)aa=k({border:true},this.getBudgetSelector(),this.getTargetingReachBar());return (p.DOM.div(null,k({border:true},this.getAudienceSelectorRow(),this.getTargetingSection()),this.getAudienceManagerSection(),aa));}});e.exports=z;});
__d("AdsCurrencyWarnBoxToggler",["AdsSwapChargeCurrency","CSS"],function(a,b,c,d,e,f,g,h){function i(j,k){if(g[k]){h.show(j);}else h.hide(j);}e.exports=i;});
__d("BoostedPostCurrencyInfo",["AdsCurrencyWarnBoxToggler","ArbiterMixin","mixin"],function(a,b,c,d,e,f,g,h,i){var j=i(h);for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(n,o){"use strict";this._currencyInfo=n;this._warnbox=o;this.init();}m.prototype.init=function(){"use strict";this._currencyInfo.subscribe('change',function(n,o){this.inform('change',o);g(this._warnbox,o.value);}.bind(this));};m.prototype.getValue=function(){"use strict";return this._currencyInfo.getValue();};e.exports=m;});
__d("BoostedPostDurationSelector",["ArbiterMixin","CSS","PromotedPostConstants","mixin"],function(a,b,c,d,e,f,g,h,i,j){var k=j(g);for(var l in k)if(k.hasOwnProperty(l))n[l]=k[l];var m=k===null?null:k.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=k;function n(o,p){"use strict";this._lengthPicker=o;this._loadingIndicator=p;this._lengthPicker.subscribe('change',this.lengthListener.bind(this));}n.prototype.daysSelected=function(){"use strict";return this._lengthPicker.getValue();};n.prototype.lengthListener=function(){"use strict";this.inform(i.DURATION_CHANGE,this.daysSelected());};n.prototype.showLoadingIndicator=function(o){"use strict";if(o){h.show(this._loadingIndicator);}else h.hide(this._loadingIndicator);};e.exports=n;});
__d("BoostedPostPaymentInfo",["AsyncRequest","DOM"],function(a,b,c,d,e,f,g,h){var i=[];function j(k,l,m,n,o){"use strict";this._section=k;this._hasPayment=l;this._paymentInfoLoaded=m;this._accountID=n;this._reactCallback=o;this.initialize();}j.prototype.initialize=function(){"use strict";i.push(this);};j.prototype.remove=function(){"use strict";i.splice(i.indexOf(this),1);};j.prototype.setPaymentSection=function(k){"use strict";if(this._reactCallback){this._reactCallback(k);}else if(this._section){h.replace(this._section,k);this._section=k;}};j.prototype.setHasPayment=function(k){"use strict";this._hasPayment=k;};j.prototype.hasPaymentInfo=function(){"use strict";return this._hasPayment;};j.prototype.setPaymentInfoLoaded=function(k){"use strict";this._paymentInfoLoaded=k;};j.prototype.getPaymentInfoLoaded=function(){"use strict";return this._paymentInfoLoaded;};j.prototype.getAccountID=function(){"use strict";return this._accountID;};j.prototype.updateHasPayment=function(k){"use strict";j.setHasPayment(this._accountID,k);};j.prototype.loadPaymentInfo=function(){"use strict";if(!this._paymentInfoLoaded)j.loadPaymentInfo(this._accountID);};j.updatePaymentSection=function(k,l){"use strict";for(var m=0;m<i.length;m++){var n=i[m];if(n.getAccountID()===k)n.setPaymentSection(l.cloneNode(true));}};j.setHasPayment=function(k,l){"use strict";for(var m=0;m<i.length;m++){var n=i[m];if(n.getAccountID()===k)n.setHasPayment(l);}j.loadPaymentInfo(k);};j.loadPaymentInfo=function(k){"use strict";for(var l=0;l<i.length;l++){var m=i[l];if(m.getAccountID()===k)m.setPaymentInfoLoaded(true);}new g('/ads/ajax/boosted/payment_info.php').setData({account_id:k}).send();};j.ADS_PAYMENT_APP_ID=123097351040126;e.exports=j;});
__d("PromotedPostAccountInfo",["ArbiterMixin","PromotedPostConstants","mixin"],function(a,b,c,d,e,f,g,h,i){var j=i(g);for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(n){"use strict";this._accountInfo=n;this.init();}m.prototype.init=function(){"use strict";if(this._accountInfo===null)return;this._accountInfo.subscribe('change',function(n,o){this.inform(h.ACCOUNT_CHANGE,o);}.bind(this));};e.exports=m;});
__d("PromotedPostActionMenu",["Arbiter","CSS","Event","BoostedPostLogging","PromotedPostConstants","BoostedPostUpdateStatusConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l){function m(n,o,p){"use strict";this._menu=n;this._button=o;this._root=n.getRoot();this._ownerFlyoutId=p;this.init();}m.prototype.init=function(){"use strict";i.listen(this._button,'click',function(){var n=h.hasClass(this._button.parentNode,'openToggler')?'close':'open';j.log('action_menu_'+n,{});}.bind(this));this._menu.subscribe('itemclick',function(n,o){switch(o.item.getValue()){case l.STOP:g.inform(k.STOP,this._ownerFlyoutId);break;case l.RESUME:g.inform(k.RESUME,this._ownerFlyoutId);break;case l.DELETE:g.inform(k.DELETE,this._ownerFlyoutId);break;}}.bind(this));};e.exports=m;});
__d("BoostedPostTargetingReachBar",["AsyncRequest","DOM"],function(a,b,c,d,e,f,g,h){function i(j,k,l){"use strict";this.$BoostedPostTargetingReachBar0=j;this.$BoostedPostTargetingReachBar1=k;this.$BoostedPostTargetingReachBar2=l;}i.prototype.updateReachAndAudience=function(j,k,l,m,n,o,p){"use strict";new g().setURI('/ads/ajax/boosted/update_reach_bar.php').setData({page_id:this.$BoostedPostTargetingReachBar1,targeting_spec:j,custom_spec:k,enable_foc:l,enable_ncpp:m,reach_lower:n,reach_upper:o,campaign_length:p}).setHandler(function(q){h.setContent(this.$BoostedPostTargetingReachBar0,q.getPayload().reach_bar);h.setContent(this.$BoostedPostTargetingReachBar2,q.getPayload().reach_bar_message);}.bind(this)).send();};e.exports=i;});
__d("PromotedPostCreate",["AdManagerFunding","Arbiter","ArbiterMixin","AsyncRequest","BoostedPostAudienceConstants","BoostedPostLogging","BoostedPostPaymentInfo","BoostedPrimedDao","BoostedPostTargetingReachBar","CSS","DOM","Event","PromotedPostConstants","copyProperties","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){var v={},w=0,x=u(i);for(var y in x)if(x.hasOwnProperty(y))aa[y]=x[y];var z=x===null?null:x.prototype;aa.prototype=Object.create(z);aa.prototype.constructor=aa;aa.__superConstructor__=x;function aa(ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa){"use strict";this._urlUser=na;this._userHash=oa;this._instanceID=w++;v[this._instanceID]=this;this._component=ba;this._promotedObject=ha;this._isCouponAvailable=la.coupons;this._placement=ga;this._pageId=this._promotedObject.page_id;this._postId=this._promotedObject.post_id;this._accountInfo=ea;this._accountInfoElement=q.find(this._component,'.accountContainer');if(ca){this._budgetSelector=ca;this._budgetSelectorElement=q.find(this._component,'.fbBoostedPostBudgetWidget');}this._customAudienceSection=ma;if(ma)this._customAudienceSelector=q.find(ma,'input');this._durationSelector=da;this._currencyInfo=ia;this._currencyContainer=q.find(this._component,'.currencyContainer');this._currencyListener=null;this._paymentInfo=fa;this._actionMenu=null;this._actionMenuElement=null;this._sawCreateMode=ja;this._moreOptionsLink=q.find(this._component,'.moreOptionsLink');this._moreOptionsArea=q.find(this._component,'.promotedPostMoreOptions');this._boostedPostSpecs=qa;this._updateTargetingVisibility();this._header=ka;if(!this._isCouponAvailable)this._payForPromotionLink=q.find(this._component,'.payForPromotionLink');this._reachInfo=pa;n.setAccountID(this._boostedPostSpecs.getAdAccountID());this.initialize();}aa.prototype.initialize=function(){"use strict";if(this._sawCreateMode){r.listen(this._moreOptionsLink,'click',function(){l.log('create_more_options',this._promotedObject);p.show(this._moreOptionsArea);p.hide(this._moreOptionsLink);}.bind(this));}else{p.show(this._moreOptionsArea);p.hide(this._moreOptionsLink);h.subscribe(s.FLYOUT_SHOW,function(){new j('/ajax/ads/boosted_posts/saw_create_mode.php').send();this._sawCreateMode=true;}.bind(this));}if(this._budgetSelector){var ba=q.find(this._component,'.budgetSelectorButton');r.listen(ba,'click',function(){var ca={page_id:this._pageId,budgets:this._budgetSelector.getBudgets()};if(this._postId)ca.post_id=this._postId;l.log('budget_selector_edit_button',ca);}.bind(this));}if(this._currencyInfo){p.show(this._currencyContainer);this._currencyListener=this._currencyInfo.subscribe('change',this._currencyChangeHandler.bind(this));}this._subscribeToAccountChange();this._boostedPostSpecs.subscribe(s.ACCOUNT_CHANGE,this._accountChangeHandler.bind(this));this._boostedPostSpecs.subscribe(s.AUDIENCE_SPEC_CHANGE,this._audienceChangeHandler.bind(this));if(!this._isCouponAvailable)r.listen(this._payForPromotionLink,'click',this._payForPromotionHandler.bind(this));if(this._durationSelector){this._durationSelector.subscribe(s.DURATION_CHANGE,this._durationChanged.bind(this));this._boostedPostSpecs.subscribe(s.DURATION_CHANGE,this._durationChangeHandler.bind(this));}this._boostedPostSpecs.subscribe(s.TARGETING_SPEC_CHANGE,this._updateTargetingOptions.bind(this));this._initBudgetSelector();return this;};aa.prototype._durationChanged=function(){"use strict";var ba=parseInt(this._durationSelector.daysSelected(),10),ca=ba*(60*60*24);this._boostedPostSpecs.setCampaignLength(ca);};aa.prototype._audienceChanged=function(ba,ca){"use strict";this._boostedPostSpecs.setAudience(ca.selectedAudience);};aa.prototype._adAccountIDChanged=function(ba,ca){"use strict";this._boostedPostSpecs.setAdAccountID(ca);};aa.prototype._subscribeToAccountChange=function(){"use strict";this._accountChangeSubscription=this._accountInfo.subscribe(s.ACCOUNT_CHANGE,this._adAccountIDChanged.bind(this));};aa.prototype._unsubscribeFromAccountChange=function(){"use strict";this._accountInfo.unsubscribe(this._accountChangeSubscription);};aa.prototype._initBudgetSelector=function(){"use strict";if(!this._budgetSelector)return;this._budgetSelector.subscribe(s.BUDGET_TEXT_CHANGE,function(ba,ca){this.requestBudgetUpdate({selected_value:ca,budgets:this._budgetSelector.getBudgets(),update_reach_only:true});}.bind(this));this._budgetSelector.subscribe(s.BUDGET_MENU_CHANGE,function(ba,ca){if(this._reachInfo instanceof o)this._budgetSelector.onBudgetTextChange();var da={page_id:this._pageId,post_id:this._postId,budget:ca.value};l.log('budget_changed',da);}.bind(this));this._budgetSelector.subscribe(s.SAVE_BUTTON_DISABLE,function(ba,ca){this.inform(s.SAVE_BUTTON_DISABLE,ca);}.bind(this));};aa.prototype.loadPaymentInfo=function(){"use strict";this._paymentInfo.loadPaymentInfo();};aa.prototype.saveHandler=function(){"use strict";var ba={page_id:this._pageId,post_id:this._postId,budget:this._boostedPostSpecs.getBudget()};l.log('create_save_click',ba);this._checkForFundingSource();};aa.prototype._checkForFundingSource=function(){"use strict";this.inform(s.SAVE_BUTTON_DISABLE,true);new j('/ads/ajax/boosted/check_funding_source.php').setData({ad_account_id:this._boostedPostSpecs.getAdAccountID(),page_id:this._pageId,post_id:this._postId,config:this.getBoostedPostData().formData.boosted_post_config}).setMethod('POST').setHandler(this._actOnFundingSourceResult.bind(this)).setTimeoutHandler(30000,function(){this.inform(s.SAVE_BUTTON_DISABLE,false);}.bind(this)).send();};aa.prototype._actOnFundingSourceResult=function(ba){"use strict";var ca=ba.payload;if(ca){this._triggerSave();p.hide(this._header);}else this.openAddPaymentDialog();};aa.prototype.openAddPaymentDialog=function(){"use strict";g.addCredential('boosted_post',m.ADS_PAYMENT_APP_ID,this._paymentInfo.getAccountID(),null,this._addPaymentCallback.bind(this),null,null,null,this._urlUser,this._userHash);this.inform(s.SAVE_BUTTON_DISABLE,false);};aa.prototype.cancelHandler=function(){"use strict";this.inform(s.CANCEL,{formData:this._collectBoostedPostData()});};aa.prototype._triggerSave=function(){"use strict";this.inform(s.SAVE,this.getBoostedPostData());};aa.prototype._payForPromotionHandler=function(){"use strict";var ba={page_id:this._pageId,post_id:this._postId};l.log('add_payment_header_create_clicked',ba);this._checkForFundingSource();};aa.prototype._addPaymentCallback=function(ba){"use strict";var ca={page_id:this._pageId,post_id:this._postId,budget:this._boostedPostSpecs.getBudget(),added_payment_method:ba.credential_state};l.log('payment_flow_complete',ca);if(ba.credential_state){p.hide(this._header);this._paymentInfo.updateHasPayment(true);this._triggerSave();}};aa.prototype._collectBoostedPostData=function(){"use strict";var ba=this._boostedPostSpecs.getConfig();ba.setBudget(this._boostedPostSpecs.getBudget());ba.setPlacement(this._placement);ba.setLowerReachEstimate(this._boostedPostSpecs.getLowerReachEstimate());ba.setUpperReachEstimate(this._boostedPostSpecs.getUpperReachEstimate());return {boosted_post_config:ba.getJSONString()};};aa.prototype._getCustomAudienceTargeting=function(){"use strict";return {custom_audiences:[{id:this._customAudienceSelector.value}]};};aa.prototype._enableFoc=function(){"use strict";return (this._boostedPostSpecs.getAudience()===k.GROUPER);};aa.prototype._enableNcpp=function(){"use strict";return (this._boostedPostSpecs.getAudience()===k.NCPP);};aa.prototype._enableCustomAudience=function(){"use strict";return (this._boostedPostSpecs.getAudience()===k.CUSTOM_AUDIENCE);};aa.prototype._enableLookalike=function(){"use strict";return (this._boostedPostSpecs.getAudience()===k.LOOKALIKE);};aa.prototype._audienceChangeHandler=function(){"use strict";this._updateTargetingVisibility();if(this._budgetSelector){this._budgetSelector.showLoadingIndicator(true);this.requestBudgetUpdate({selected_value:this._budgetSelector.getFormattedValue()});}};aa.prototype._durationChangeHandler=function(){"use strict";var ba={page_id:this._pageId,post_id:this._postId,campaign_length:this._boostedPostSpecs.getCampaignLength()};l.log('duration_changed',ba);if(this._budgetSelector)this.requestBudgetUpdate({selected_value:this._budgetSelector.getFormattedValue()});};aa.prototype._currencyChangeHandler=function(ba,ca){"use strict";this._boostedPostSpecs.setCurrency(ca.value);this.requestBudgetUpdate({currency:ca.value});};aa.prototype._accountChangeHandler=function(){"use strict";var ba={config:this._collectBoostedPostData().boosted_post_config,instance_id:this._instanceID,owner_id:this._component.id,page_id:this._pageId,post_id:this._postId};if(this._isTargetingShown())t(ba,{targeting_level:this._boostedPostSpecs.getTargetingLevel(),targeting_locations:this._boostedPostSpecs.getTargetingLocations()});if(this._budgetSelector)this._budgetSelector.disable();this.inform(s.SAVE_BUTTON_DISABLE,true);n.setAccountID(this._boostedPostSpecs.getAdAccountID());new j('/ads/ajax/boosted/account_change.php').setData(ba).send();};aa.prototype.updateBudgetAndAccountInfo=function(ba,ca,da,ea){"use strict";if(this._budgetSelector){this.replaceBudgetSelector(ba,ca);this._boostedPostSpecs.setBudgetInfo(this._budgetSelector.getSelectedBudgetInfo());}if(da)q.setContent(this._accountInfoElement,da);if(ea){this._unsubscribeFromAccountChange();this._accountInfo=ea;this._subscribeToAccountChange();}if(this._reachInfo)this._reachInfo.updateReachAndAudience(this._boostedPostSpecs.getFeedTargetingSpec(),this._boostedPostSpecs.getTargetingSpec(),this._enableFoc(),this._enableNcpp(),this._boostedPostSpecs.getLowerReachEstimate(),this._boostedPostSpecs.getUpperReachEstimate(),this._boostedPostSpecs.getCampaignLength());};aa.prototype.changeAccount=function(ba,ca,da,ea,fa,ga,ha,ia,ja){"use strict";this.replaceCurrencySection(ba,ca);if(this._budgetSelector){this._boostedPostSpecs.setCurrency(da);this.replaceBudgetSelector(ia,ja);this._boostedPostSpecs.setBudgetInfo(this._budgetSelector.getSelectedBudgetInfo());}this._paymentInfo.remove();var ka=q.find(this._component,'.fbBoostedPostPaymentSection');q.replace(ka,ea);this._paymentInfo=fa;if(this._actionMenu&&this._actionMenuElement){q.replace(this._actionMenuElement,ga);this._actionMenuElement=ga;this._actionMenu=ha;}this._boostedPostSpecs.notifyAccountChangeFinished();this.inform(s.SAVE_BUTTON_DISABLE,false);};aa.prototype.replaceBudgetSelector=function(ba,ca){"use strict";if(!this._budgetSelector)return;q.replace(this._budgetSelectorElement,ba);this._budgetSelectorElement=ba;this._budgetSelector=ca;this._initBudgetSelector();};aa.prototype.replaceCurrencySection=function(ba,ca){"use strict";if(this._currencyListener)this._currencyListener.unsubscribe();if(ba&&ca){q.setContent(this._currencyContainer,ba);p.show(this._currencyContainer);}else{p.hide(this._currencyContainer);q.empty(this._currencyContainer);}this._currencyInfo=ca;if(this._currencyInfo)this._currencyListener=this._currencyInfo.subscribe('change',this._currencyChangeHandler.bind(this));};aa.prototype.setActionMenu=function(ba,ca){"use strict";this._actionMenu=ba;this._actionMenuElement=ca;};aa.prototype.userHasPaymentInfo=function(){"use strict";return this._paymentInfo.hasPaymentInfo();};aa.prototype.getBoostedPostData=function(){"use strict";return {budgetLabel:this._boostedPostSpecs.getBudgetLabel(),formData:this._collectBoostedPostData(),hasPaymentInfo:this.userHasPaymentInfo()};};aa.prototype._getSelectedCurrency=function(){"use strict";var ba=null;if(this._currencyInfo)ba=this._currencyInfo.getValue();return ba;};aa.prototype.requestBudgetUpdate=function(ba){"use strict";if(!this._budgetSelector)return;var ca={config:this._collectBoostedPostData().boosted_post_config,instance_id:this._instanceID,promoted_object:this._promotedObject,mode:'create_mode'};t(ca,ba);if(!ca.update_reach_only)this._budgetSelector.disable();this.inform(s.SAVE_BUTTON_DISABLE,true);new j('/ads/ajax/boosted/calculate_budgets.php').setData(ca).setMethod('POST').setHandler(this._onCalculateBudgetsResponse.bind(this)).send();};aa.prototype._onCalculateBudgetsResponse=function(ba){"use strict";this._updateTargetingVisibility();var ca=ba.getPayload();if(!ca)return;this.updateReachEstimation(ca.selected_value,ca.selected_budget_info,ca.menu_item_content);h.inform(s.BUDGET_TEXT_CHANGE_FINISH);};aa.prototype.setFeedTargetingSpec=function(ba,ca){"use strict";if(!ca)return;this._boostedPostSpecs.setFeedTargetingSpec(ca,ba);this._updateTargetingVisibility();};aa.prototype._updateTargetingOptions=function(){"use strict";l.log('targeting_changed',this._promotedObject);if(this._budgetSelector){this.requestBudgetUpdate({selected_value:this._budgetSelector.getFormattedValue()});}else this.inform(s.SAVE_BUTTON_DISABLE,false);};aa.prototype._updateTargetingVisibility=function(){"use strict";if(this._customAudienceSection)if(this._enableCustomAudience()){p.show(this._customAudienceSection);}else p.hide(this._customAudienceSection);this.inform(s.SAVE_BUTTON_DISABLE,false);};aa.prototype._isTargetingShown=function(){"use strict";return (this._boostedPostSpecs.hasTargetingSpec()&&!this._boostedPostSpecs.hasFeedTargetingSpec()&&this._enableNcpp());};aa.prototype.showAddPaymentHeader=function(){"use strict";p.show(this._header);};aa.prototype._disableSaveButton=function(ba){"use strict";this.inform(s.SAVE_BUTTON_DISABLE,ba);};aa.prototype.updateReachEstimation=function(ba,ca,da){"use strict";if(this._budgetSelector){this._budgetSelector.updateReachEstimation(ba,ca,da);this._boostedPostSpecs.setBudgetInfo(this._budgetSelector.getSelectedBudgetInfo());}if(this._reachInfo)this._reachInfo.updateReachAndAudience(this._boostedPostSpecs.getFeedTargetingSpec(),this._boostedPostSpecs.getTargetingSpec(),this._enableFoc(),this._enableNcpp(),this._boostedPostSpecs.getLowerReachEstimate(),this._boostedPostSpecs.getUpperReachEstimate(),this._boostedPostSpecs.getCampaignLength());};aa.updateBudgetAndAccountInfo=function(ba,ca,da,ea,fa){"use strict";v[ba].updateBudgetAndAccountInfo(ca,da,ea,fa);};aa.changeAccount=function(ba,ca,da,ea,fa,ga,ha,ia,ja,ka){"use strict";v[ba].changeAccount(ca,da,ea,fa,ga,ha,ia,ja,ka);};e.exports=aa;});
__d("PromotedPostDisclaimerText",["CSS","DOM","Event"],function(a,b,c,d,e,f,g,h,i){function j(k){"use strict";this._disclaimer=k;this._disclaimerLink=h.find(this._disclaimer,'.disclaimerLink');this._disclaimerShort=h.find(this._disclaimer,'.disclaimerShortText');this._disclaimerLong=h.find(this._disclaimer,'.disclaimerLongText');this.init();}j.prototype.init=function(){"use strict";i.listen(this._disclaimerLink,'click',function(){this.showDisclaimer();}.bind(this));};j.prototype.showDisclaimer=function(){"use strict";g.show(this._disclaimerLong);g.hide(this._disclaimerShort);};e.exports=j;});