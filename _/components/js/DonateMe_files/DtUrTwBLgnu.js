/*!CK:1044963333!*//*1396309559,178183447*/

if (self.CavalryLogger) { CavalryLogger.start_js(["zL6X7"]); }

__d("getDOMImageSize",["URI"],function(a,b,c,d,e,f,g){function h(m){m.onload=null;m.onerror=null;m.onreadystatechange=null;m._callback=null;m._thisObj=null;m._srcStr=null;m.parentNode&&m.parentNode.removeChild(m);}function i(){var m=this;if(m._callback)m._callback.call(m._thisObj,m.naturalWidth||m.width,m.naturalHeight||m.height,m._srcStr);h(m);}function j(){var m=this;if(m.readyState==='complete')i.call(m);}function k(){var m=this;if(m._callback)m._callback.call(m._thisObj,0,0,m._srcStr);h(m);}function l(m,n,o){o=o||null;if(!m){n.call(o,0,0,'');return;}var p=document.body;if(!p){setTimeout(l.bind(this,m,n,o),500);return;}var q;if(typeof m==='string'){q=m;}else if(typeof m==='object')if(typeof m.width==='number'&&typeof m.height==='number'){if(typeof m.src==='string'){q=m.src;if(m.naturalWidth&&m.naturalHeight){n.call(o,m.naturalWidth,m.naturalHeight,q);return;}}if(typeof m.uri==='string'){q=m.uri;if(m.width&&m.height){n.call(o,m.width,m.height,q);return;}}}else if(m instanceof g)q=m.toString();if(!q){n(0,0,m);return;}var r=document.createElement('img');r.onreadystatechange=j;r.onload=i;r.onerror=k;r._callback=n;r._thisObj=o;r._srcStr=q;r.src=q;r.style.cssText='position:absolute;left:0;top:0;width:auto;height:auto;clip:rect(0 0 0 0);';p.insertBefore(r,p.firstChild);}e.exports=l;});
__d("CachedDOMImageSizePool",["debounce","getDOMImageSize"],function(a,b,c,d,e,f,g,h){function i(j,k){"use strict";this.$CachedDOMImageSizePool0={};this.$CachedDOMImageSizePool1=k;this.$CachedDOMImageSizePool2=0;this.$CachedDOMImageSizePool3=j;this.$CachedDOMImageSizePool4=g(this.$CachedDOMImageSizePool5,5000,this);this.$CachedDOMImageSizePool6={};this.$CachedDOMImageSizePool7={};}i.prototype.get=function(j,k,l){"use strict";if(!j){k.call(l,0,0,j);return;}var m=this.$CachedDOMImageSizePool0[j];if(m){m.lastAccessTime=Date.now();k.call(l,m.width,m.height,m.src);}else if(this.$CachedDOMImageSizePool6[j]){this.$CachedDOMImageSizePool6[j].push(k);this.$CachedDOMImageSizePool7[j].push(l);}else{this.$CachedDOMImageSizePool6[j]=[k];this.$CachedDOMImageSizePool7[j]=[l];h(j,this.$CachedDOMImageSizePool8,this);}};i.prototype.set=function(j,k,l){"use strict";if(this.$CachedDOMImageSizePool2>this.$CachedDOMImageSizePool3)this.$CachedDOMImageSizePool4();var m=this.$CachedDOMImageSizePool0;if(j&&!m[j]){var n={width:k,height:l,src:j,lastAccessTime:Date.now()};m[j]=n;this.$CachedDOMImageSizePool2++;}};i.prototype.$CachedDOMImageSizePool8=function(j,k,l){"use strict";this.set(l,j,k);var m=this.$CachedDOMImageSizePool6[l],n=this.$CachedDOMImageSizePool7[l];for(var o=0,p=m.length;o<p;o++)m[o].call(n[o],j,k,l);delete this.$CachedDOMImageSizePool6[l];delete this.$CachedDOMImageSizePool7[l];};i.prototype.$CachedDOMImageSizePool5=function(){"use strict";var j=Date.now(),k=this.$CachedDOMImageSizePool0,l=this.$CachedDOMImageSizePool2,m=this.$CachedDOMImageSizePool1;for(var n in k){var o=k[n];if((j-o.lastAccessTime)>m){delete k[n];l--;}}this.$CachedDOMImageSizePool2=l;};e.exports=i;});
__d("BackgroundImage.react",["CachedDOMImageSizePool","React","ReactPropTypes","XUISpinner.react","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n='(-?(\\d+\\.)?\\d+(px|\\%))',o=new RegExp('^'+n+'?(\\s'+n+')?$','g'),p=new g(50,10*60*1000),q=h.createClass({displayName:'BackgroundImage',propTypes:{src:i.string,width:i.number.isRequired,height:i.number.isRequired,backgroundSize:i.oneOf(['contain','cover','containinside','coverinside']),loadingIndicatorStyle:i.oneOf(['none','large','small']),backgroundPosition:function(r,s,t){var u=r[s];if(u){l(typeof u==='string');l(u.match(o));}},onImageLoad:i.func,optimizeResizeSpeed:i.bool,onContextMenu:i.func},getInitialState:function(){return {imageWidth:null,imageHeight:null,imageSrc:this.props.src,loading:true};},getDefaultProps:function(){return {optimizeResizeSpeed:false,loadingIndicatorStyle:'none'};},componentDidMount:function(){this._resolveImageSize();},componentDidUpdate:function(r){if(this.props.src!==this.state.imageSrc)this.setState({imageWidth:0,imageHeight:0,imageSrc:this.props.src,loading:true},this._resolveImageSize);},_resolveImageSize:function(){var r=this.state.imageSrc;if(r)p.get(r,this._onImageSizeResolved,this);},render:function(){var r={width:this.props.width+'px',height:this.props.height+'px'},s=m(this.props.className,"_5f0d");return this.transferPropsTo(h.DOM.div({className:s,style:r,onContextMenu:this.props.onContextMenu},this._renderImage(),this._renderContent(),this._renderLoadingIndicator()));},_renderLoadingIndicator:function(){if(!this.state.loading||this.props.loadingIndicatorStyle==='none')return null;return (h.DOM.div({className:"_5laq _5lar"},h.DOM.div({className:"_5las"},h.DOM.div({className:"_5lat"},j({size:this.props.loadingIndicatorStyle})))));},_renderContent:function(){if(this.props.children)return (h.DOM.div({className:"_5laq"},h.DOM.div({className:"_5las"},h.DOM.div({className:"_5lat"},this.props.children))));},_renderImage:function(){if(!this.state.imageWidth||!this.state.imageHeight)return;var r=this.props.width,s=this.props.height,t,u;switch(this.props.backgroundSize){case 'cover':t='cover';u=false;break;case 'coverinside':t='cover';u=true;break;case 'contain':t='contain';u=false;break;case 'containinside':t='contain';u=true;}var v=this.state.imageWidth,w=this.state.imageHeight,x=r/s,y=v/w;if(t==='contain')if((v>r||!u)&&y>=x){v=r;w=v/y;}else if(w>s||!u){w=s;v=w*y;}if(t==='cover')if((v>r||!u)&&y>=x){w=s;v=w*y;}else if(w>s||!u){v=r;w=v/y;}var z=this._getImageStyle(v,w);return (h.DOM.img({alt:"",className:(("_5i4g")+(this.props.optimizeResizeSpeed?' '+"_5sjv":'')),style:z,src:this.state.imageSrc}));},_getImageStyle:function(r,s){var t;if(this.props.backgroundPosition){t=this.props.backgroundPosition.split(' ');}else t=['50%','50%'];return {width:Math.round(r)+'px',height:Math.round(s)+'px',left:this._getBackgroundPositionPxValue('left',t[0],r,s),top:this._getBackgroundPositionPxValue('top',t[1]||t[0],r,s)};},_getBackgroundPositionPxValue:function(r,s,t,u){var v=parseFloat(s),w=s.substr(v.toString().length);if(w==='px')return s;if(r==='left'){return Math.round((this.props.width-t)*(v/100))+'px';}else return Math.round((this.props.height-u)*(v/100))+'px';},_onImageSizeResolved:function(r,s,t){if(!this.isMounted()||this.state.imageSrc!==t)return;var u=this.props.onImageLoad?this.props.onImageLoad.bind(null,r,s):null;this.setState({imageWidth:r,imageHeight:s,loading:false},u);}});e.exports=q;});
__d("ContextualLayer.react",["ContextualLayer","React","ReactLayer","Style","invariant"],function(a,b,c,d,e,f,g,h,i,j,k){var l=h.PropTypes,m=i.createClass({propTypes:{contextRef:l.string,context:function(n,o,p){k((n.context==null)!=(n.contextRef==null));var q=n[o];if(q!=null){k(typeof q==='object');k(!h.isValidComponent(q));}}},immutableProps:{modal:null},createLayer:function(n){var o=this._getContextNode(),p={context:o,contextBounds:this.props.contextBounds,position:this.props.position,alignment:this.props.alignment,offsetX:this.props.offsetX,offsetY:this.props.offsetY,addedBehaviors:this.enumerateBehaviors(this.props.behaviors),shouldSetARIAProperties:this.props.shouldSetARIAProperties},q=new g(p,n);this._node=n;this._matchContextSize(this.props);q.conditionShow(this.props.shown);return q;},receiveProps:function(n){this.updateBehaviors(n.behaviors);var o=this._getContextNode();if(n.contextBounds){this.layer.setContextWithBounds(o,n.contextBounds);}else this.layer.setContext(o);this._matchContextSize(n);this.layer.setPosition(n.position);this.layer.setAlignment(n.alignment);this.layer.setOffsetX(n.offsetX);this.layer.setOffsetY(n.offsetY);this.layer.conditionShow(n.shown);},_getContextNode:function(){var n;if(this.props.context){n=this.props.context.getDOMNode();}else if(this.props.contextRef)n=this.getNodeForOwnerRef(this.props.contextRef);return n;},_matchContextSize:function(n){var o=this._node,p=this._getContextNode();if(n.containerWidthMatchContext)j.set(o,'width',p.offsetWidth+'px');if(n.containerHeightMatchContext)j.set(o,'height',p.offsetHeight+'px');}});e.exports=m;});
__d("AbstractTextFieldMixin.react",["ReactPropTypes","React","Keys","cx","invariant","joinClasses","mergeInto"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n={propTypes:{value:g.string,placeholder:g.string,tabIndex:g.string,maxLength:g.number,onBackspace:g.func,onBackTab:g.func,onBlur:g.func,onChange:g.func,onDownArrow:g.func,onEnter:g.func,onFocus:g.func,onKeyDown:g.func,onLeftArrow:g.func,onNoShiftEnter:g.func,onRightArrow:g.func,onShiftEnter:g.func,onShiftDownArrow:g.func,onShiftUpArrow:g.func,onTab:g.func,onUpArrow:g.func,type:g.string},getInitialState:function(){return {focused:false,value:this.props.defaultValue||''};},getValue:function(){return this.props.value!=null?''+this.props.value:this.state.value;},onInputKeyDown:function(o){var p=this.props,q=o.keyCode,r=o.shiftKey;if(q===i.BACKSPACE&&!r&&p.onBackspace){p.onBackspace(o);}else if(q===i.TAB&&!r&&p.onTab){p.onTab(o);}else if(q===i.TAB&&r&&p.onBackTab){p.onBackTab(o);}else if(q===i.UP){if(r){if(p.onShiftUpArrow)p.onShiftUpArrowAttempt(o);}else if(p.onUpArrow)p.onUpArrow(o);}else if(q===i.DOWN&&p.onDownArrow){if(r){if(p.onShiftDownArrow)p.onShiftDownArrow(o);}else if(p.onDownArrow)p.onDownArrow(o);}else if(q===i.LEFT&&p.onLeftArrow){p.onLeftArrow(o);}else if(q===i.RIGHT&&p.onRightArrow){p.onRightArrow(o);}else if(q===i.RETURN){if(p.onEnter)p.onEnter(o);if(r){if(p.onShiftEnter)p.onShiftEnter(o);}else if(p.onNoShiftEnter)p.onNoShiftEnter(o);}if(p.onKeyDown)p.onKeyDown(o);},onInputChange:function(o){if(this.props.onChange)this.props.onChange(o);this.setState({value:o.target.value});},focusInput:function(){this.getTextFieldDOM().focus();},blurInput:function(){this.getTextFieldDOM().blur();},onInputBlur:function(event){if(this.props.onBlur)this.props.onBlur(event);if(!event.isDefaultPrevented())this.setState({focused:false});},onInputFocus:function(event){if(this.props.onFocus)this.props.onFocus(event);if(!event.isDefaultPrevented())this.setState({focused:true});},getTextFieldDOM:function(){return this.refs[this.getTextFieldRef()].getDOMNode();},getTextFieldRef:function(){return 'textField';},setTextFieldPropsOn:function(o){m(o.props,{'aria-activedescendant':this.props['aria-activedescendant'],'aria-autocomplete':this.props['aria-autocomplete'],'data-testid':this.props['data-testid'],ref:this.getTextFieldRef(),onKeyDown:this.onInputKeyDown,onBlur:this.onInputBlur,onFocus:this.onInputFocus,onChange:this.onInputChange,disabled:this.props.disabled,defaultValue:this.props.defaultValue,name:this.props.name,value:this.getValue(),id:this.props.id,maxLength:this.props.maxLength,type:this.props.type||o.props.type});return o;},render:function(){var o=null;if(!this.getValue()){var p=(("_58ai")+(this.state.focused?' '+"_58aj":''));o=h.DOM.span({className:p},this.props.placeholder);}var q=l(this.props.className,"_58ak");k(this.renderTextField);return (h.DOM.label({className:q},{placeholder:o,textField:this.renderTextField()}));}};e.exports=n;});
__d("AbstractTextInput.react",["AbstractTextFieldMixin.react","React","ReactDOMInput","cx"],function(a,b,c,d,e,f,g,h,i,j){var k=h.createClass({displayName:'AbstractTextInput',mixins:[g],renderTextField:function(){return this.setTextFieldPropsOn(i({type:"text",className:"_58al",tabIndex:this.props.tabIndex,onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,onPaste:this.props.onPaste}));}});e.exports=k;});
__d("SearchableTextInput.react",["AbstractTextFieldMixin.react","AbstractTextInput.react","Event","ReactPropTypes","React","getActiveElement","merge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=k.createClass({displayName:'SearchableTextInput',propTypes:m(g.propTypes,{queryString:j.string,searchSource:j.object,searchSourceOptions:j.object,onEntriesFound:j.func.isRequired,searchOnFocus:j.bool,onPaste:j.func,onFocus:j.func,onChange:j.func}),componentDidMount:function(){if(this.props.onPaste)i.listen(this.refs.input.getTextFieldDOM(),'paste',this.props.onPaste);},_onInputFocus:function(){this.props.searchSource.bootstrap();this.props.onFocus&&this.props.onFocus();if(this.props.searchOnFocus)this.props.searchSource.search(this.props.queryString,this._onSearchCallback,this.props.searchSourceOptions);},_onSearchCallback:function(o,p){if(this.props.queryString===p)this.props.onEntriesFound(o);},_onChange:function(event){this.props.onChange&&this.props.onChange(event);var o=event.target.value;setTimeout(function(){this.props.searchSource.search(o,this._onSearchCallback,this.props.searchSourceOptions);}.bind(this));},focusInput:function(){var o=this.getTextFieldDOM();if(l()===o){this._onInputFocus();}else o.offsetHeight&&o.focus();},blurInput:function(){var o=this.getTextFieldDOM();o.offsetHeight&&o.blur();},getTextFieldDOM:function(){return this.refs.input.getTextFieldDOM();},render:function(){return this.transferPropsTo(h({ref:"input",value:this.props.queryString||'',onFocus:this._onInputFocus,onChange:this._onChange}));}});e.exports=n;});
__d("TypeaheadNavigation",[],function(a,b,c,d,e,f){var g={moveUp:function(h,i,j){var k=h.indexOf(i),l=k==-1?h.length-1:k-1;j(l==-1?null:h[l]);},moveDown:function(h,i,j){var k=h.indexOf(i)+1;j(k==h.length?null:h[k]);}};e.exports=g;});
__d("TypeaheadView.react",["ReactPropTypes","React","cx"],function(a,b,c,d,e,f,g,h,i){var j=h.createClass({displayName:'TypeaheadView',propTypes:{highlightedEntry:g.object,selectedEntry:g.object,entries:g.array.isRequired,Renderer:g.func.isRequired,extraRendererProps:g.object,queryString:g.string},_onSelect:function(k){if(this.props.onSelect)this.props.onSelect(k);},_onHighlight:function(k){this.props.onHighlight(k);},render:function(){var k=((!this.props.visible?"hidden_elem":'')),l=this.props.Renderer,m={highlightedEntry:this.props.highlightedEntry,selectedEntry:this.props.selectedEntry,entries:this.props.entries,onSelect:this._onSelect,onHighlight:this._onHighlight,onRenderHighlight:this.props.onRenderHighlight,queryString:this.props.queryString};if(this.props.extraRendererProps)for(var n in this.props.extraRendererProps)m[n]=this.props.extraRendererProps[n];var o=l(m);return (h.DOM.div({className:k},o));}});e.exports=j;});
__d("Typeahead.react",["AbstractTextFieldMixin.react","ContextualLayer.react","DOM","InputSelection","ReactPropTypes","React","ReactLayeredComponentMixin","SearchableTextInput.react","TypeaheadNavigation","TypeaheadView.react","cx","merge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=10,t=l.createClass({displayName:'Typeahead',mixins:[m],propTypes:r(g.propTypes,{inputClassName:k.string,placeholder:k.string,queryString:k.string,searchSource:k.object.isRequired,searchSourceOptions:k.object,excludedEntries:k.object,presenter:k.object.isRequired,onSelectAttempt:k.func,autoHighlight:k.bool,showEntriesOnFocus:k.bool,selectOnBlur:k.bool,focusedOnInit:k.bool,hideViewWithEntries:k.bool,entriesWidthMatchContext:k.bool,selectedEntry:k.object,onTypeaheadVisibilityChanged:k.func,onPaste:k.func}),getDefaultProps:function(){return {selectOnBlur:false,hideViewWithEntries:true,entriesWidthMatchContext:true};},getInitialState:function(){return {highlightedEntry:null,isAutoHighlight:this.props.autoHighlight,activeDescendant:null,activeEntries:[],focused:!!this.props.focusedOnInit,viewIsVisible:!!this.props.focusedOnInit};},_onRenderHighlight:function(u){var v=i.getID(u);this.setState({activeDescendant:v});},_onEntriesFound:function(u){if(this.props.excludedEntries){var v=this.props.excludedEntries;u=u.filter(function(ca){return !v.hasOwnProperty(ca.getUniqueID());});}var w=this.props.presenter,x=typeof w.sortEntries=='function'?w.sortEntries(u):u,y=x.slice(0,w.maxEntries||s);if(!y.length){this.setState({activeDescendant:null,activeEntries:y,highlightedEntry:null,isAutoHighlight:this.props.autoHighlight});this._setViewIsVisible(false);return;}var z=this.state.highlightedEntry,aa=z&&y.indexOf(z)!==-1;if(!this.props.autoHighlight){this.setState({activeEntries:y,highlightedEntry:aa?z:null});this._setViewIsVisible(true);return;}var ba=this.state.isAutoHighlight;if(ba){z=y[0];}else{z=aa?z:y[0];ba=!aa;}this.setState({activeEntries:y,highlightedEntry:z,isAutoHighlight:ba});if(this.state.focused&&this.props.showEntriesOnFocus||this.props.queryString.length>0)this._setViewIsVisible(true);},_onInputFocus:function(){if((this.state.activeEntries.length&&this.state.queryString)||this.props.showEntriesOnFocus)this._setViewIsVisible(true);this.setState({focused:true});this.props.onFocus&&this.props.onFocus();},_onInputBlur:function(){if(this.props.hideViewWithEntries){this._setViewIsVisible(false);this.clearActiveEntries();}if(this.props.selectOnBlur&&this.state.highlightedEntry)this.props.onSelectAttempt(this.state.highlightedEntry);this.setState({focused:false});this.props.onBlur&&this.props.onBlur();},_onInputClick:function(){var u=this.getTextFieldDOM(),v=j.get(u);if(v.start==v.end)u.select();this.props.onClick&&this.props.onClick();},_onEnter:function(event){if(!this.state.viewIsVisible)return;if(!this.state.highlightedEntry){event.preventDefault();return;}if(this.props.hideViewWithEntries)this._setViewIsVisible(false);if(this.props.onSelectAttempt)this.props.onSelectAttempt(this.state.highlightedEntry);event.preventDefault();},_onTab:function(event){if(this.state.viewIsVisible&&this.props.onSelectAttempt&&this.state.highlightedEntry){if(this.props.hideViewWithEntries){this._setViewIsVisible(false);event.preventDefault();}this.props.onSelectAttempt(this.state.highlightedEntry);}},_onDownArrow:function(event){event.preventDefault();o.moveDown(this.state.activeEntries,this.state.highlightedEntry,this._setHighlight);},_onUpArrow:function(event){event.preventDefault();o.moveUp(this.state.activeEntries,this.state.highlightedEntry,this._setHighlight);},_setHighlight:function(u){this.setState({highlightedEntry:u,isAutoHighlight:!u});},_onInputChange:function(event){if(this.props.onChange)this.props.onChange(event);this._setViewIsVisible(this.state.focused&&(this.props.showEntriesOnFocus||event.target.value.length>0)&&this.state.activeEntries.length>0);},_onViewHighlight:function(u){this.setState({highlightedEntry:u,isAutoHighlight:false});},_getView:function(){return (p({Renderer:this.props.presenter.ViewRenderer,extraRendererProps:this.props.presenter.extraRendererProps,highlightedEntry:this.state.highlightedEntry,selectedEntry:this.props.selectedEntry,visible:this.state.viewIsVisible,onHighlight:this._onViewHighlight,onRenderHighlight:this._onRenderHighlight,onSelect:this.props.onSelectAttempt,entries:this.state.activeEntries,queryString:this.props.queryString}));},_setViewIsVisible:function(u){if(u!==this.state.viewIsVisible){this.props.onTypeaheadVisibilityChanged&&this.props.onTypeaheadVisibilityChanged(u);this.setState({viewIsVisible:u});}},componentWillReceiveProps:function(u){if(!u.queryString&&!this.props.showEntriesOnFocus)this.clearActiveEntries();},renderLayers:function(){if(!this.props.presenter.useLayer)return {};var u=null,v=null;if(this.props.context){u=this.props.context;}else v='input';return {typeaheadView:h({containerWidthMatchContext:this.props.entriesWidthMatchContext,contextRef:v,context:u,position:"below",shown:this.state.viewIsVisible,shouldSetARIAProperties:false},this._getView())};},render:function(){var u=n({'aria-activedescendant':this.state.activeDescendant,'aria-autocomplete':"list",ref:"input",className:this.props.inputClassName,queryString:this.props.queryString,placeholder:this.props.placeholder,searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,searchOnFocus:!!this.props.showEntriesOnFocus,onEntriesFound:this._onEntriesFound,onBlur:this._onInputBlur,onFocus:this._onInputFocus,onChange:this._onInputChange,onDownArrow:this._onDownArrow,onUpArrow:this._onUpArrow,onTab:this._onTab,onEnter:this._onEnter,onBackspace:this.props.onBackspace,onPaste:this.props.onPaste,onClick:this._onInputClick}),v=null;if(!this.props.presenter.useLayer)v=this._getView();return this.transferPropsTo(l.DOM.span({className:"_58ah"},{searchableInput:u,view:v}));},componentDidMount:function(){if(this.props.focusedOnInit)this.refs.input.focusInput();},clearActiveEntries:function(){this.setState({activeDescendant:null,activeEntries:[],highlightedEntry:null});},focusInput:function(){this.refs.input.focusInput();},blurInput:function(){this.refs.input.blur();},getTextFieldDOM:function(){return this.refs.input.getTextFieldDOM();}});e.exports=t;});
__d("XUITypeaheadTextOnlyView.react",["ReactPropTypes","React","TypeaheadViewItem","cx"],function(a,b,c,d,e,f,g,h,i,j){var k=h.createClass({displayName:'XUITypeaheadTextOnlyViewItem',mixins:[i.Mixin],propTypes:i.propTypes,render:function(){var m=this.props.entry,n=(("_599m")+(this.props.highlighted?' '+"_599n":''));return (h.DOM.li({key:m.getUniqueID(),className:n,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight},h.DOM.div({className:"_599p"},m.getTitle())));}}),l=h.createClass({displayName:'XUITypeaheadTextOnlyView',propTypes:{highlightedEntry:g.object,entries:g.array.isRequired,onSelect:g.func.isRequired,onHighlight:g.func.isRequired,onRenderHighlight:g.func},_renderItem:function(m){var n=m===this.props.highlightedEntry;return (k({entry:m,highlighted:n,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight}));},render:function(){var m=(("_599r")+(!this.props.entries.length?' '+"_599s":''));return (h.DOM.ul({className:m},this.props.entries.map(this._renderItem)));}});e.exports=l;});
__d("XUITypeaheadView.react",["BackgroundImage.react","ImageBlock.react","ReactPropTypes","React","TypeaheadViewItem","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=j.createClass({displayName:'XUITypeaheadViewItem',mixins:[k.Mixin],propTypes:k.propTypes,render:function(){var o=this.props.entry,p=o.getSubtitle().split(' \u00b7 ')[0],q=p?j.DOM.div({className:"_599q"},p):null,r=o.getPhoto()?g({width:32,height:32,backgroundSize:"cover",src:o.getPhoto()}):j.DOM.span(null),s=(("_599m")+(!q?' '+"_5mne":'')+(this.props.highlighted?' '+"_599n":''));return (j.DOM.li({className:s,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight},h({spacing:"medium"},r,j.DOM.div(null,j.DOM.div({className:"_599p"},o.getTitle()),q))));}}),n=j.createClass({displayName:'XUITypeaheadView',propTypes:{highlightedEntry:i.object,entries:i.array.isRequired,onSelect:i.func.isRequired,onHighlight:i.func,onRenderHighlight:i.func},_renderItem:function(o){var p=o===this.props.highlightedEntry;return (m({key:o.getUniqueID(),entry:o,highlighted:p,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight}));},render:function(){var o=(("_599r")+(!this.props.entries.length?' '+"_599s":''));return (j.DOM.ul({className:o},this.props.entries.map(this._renderItem)));}});e.exports=n;});
__d("XUITypeahead.react",["ReactPropTypes","React","Typeahead.react","XUITypeaheadTextOnlyView.react","XUITypeaheadView.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m={ViewRenderer:k,useLayer:true},n={ViewRenderer:j,useLayer:true},o=h.createClass({displayName:'XUITypeahead',propTypes:{autoHighlight:g.bool,maxEntries:g.number,onBlur:g.func,onChange:g.func.isRequired,onFocus:g.func,onSelectAttempt:g.func.isRequired,placeholder:g.string,queryString:g.string,searchSource:g.object.isRequired,searchSourceOptions:g.object,selectOnBlur:g.bool,showEntriesOnFocus:g.bool,focusedOnInit:g.bool,tallInput:g.bool,viewStyle:g.oneOf(['textonly','rich'])},getDefaultProps:function(){return {viewStyle:'rich'};},componentWillMount:function(){if(this.props.maxEntries)m.maxEntries=n.maxEntries=this.props.maxEntries;},focusInput:function(){this.refs.typeahead.focusInput();},render:function(){var p=(("_55r1")+(!!this.props.tallInput?' '+"_55r2":'')),q=this.props.viewStyle=='rich'?m:n;return this.transferPropsTo(i({inputClassName:p,ref:"typeahead",presenter:q,excludedEntries:this.props.excludedEntries}));}});e.exports=o;});
__d("requiredIfPropIsTruthy",["invariant"],function(a,b,c,d,e,f,g){function h(i,j){return function(k,l,m){if(!k[i])return;g(k[l]!==undefined);j(k,l,m);};}e.exports=h;});
__d("TimelineChecklistMixin",["OrderedMap","ReactPropTypes","endsWith","requiredIfPropIsTruthy"],function(a,b,c,d,e,f,g,h,i,j){var k={propTypes:{baseName:h.string.isRequired,fetchOnScroll:h.bool,imageSize:h.number,multiSelect:h.bool,onChange:h.func,options:h.array,overflow:h.oneOf(['scroll','show']),pagerEndpoint:j('showPager',h.string),pagerPlaceholder:j('showPager',h.string),showPager:h.bool},methods:{clearSelection:function(){this._uncheckAllOptions();},addOption:function(l,m,n,o,p,q){!this.props.multiSelect&&this._uncheckAllOptions();var r=g.fromArray([{id:l,title:m,subtitle:n,image:o,checked:!!p,name:q}],function(s){return s.id;});this.setState({options:this.state.options.merge(r)});if(this._optionWasAdded)setTimeout(function(){this._optionWasAdded(l);}.bind(this),0);},getSelection:function(){var l={};this.state.options.forEach(function(m,n){if(m.checked)l[n]=m;});return l;},getInitialState:function(){var l=g.fromArray(this.props.options,function(m){return m.id;});return {options:l,showPager:this.props.showPager};},_getOptionNameOrFallback:function(l){var m=l.name||this.props.baseName;if(this.props.multiSelect&&!i(m,'[]'))m+='['+l.id+']';return m;},_changeHandler:function(event){var l=event.target;!this.props.multiSelect&&this._uncheckAllOptions();this.state.options.get(l.value).checked=l.checked;this.setState({options:this.state.options});this.props.onChange&&this.props.onChange();},_exhaustionHandler:function(){this.setState({showPager:false});},_fetchHandler:function(l){var m=l.options;if(m.length>0){var n=this.state.options.merge(g.fromArray(m,function(o){return o.id;}));this.setState({options:n});}else this.setState({showPager:false});},_uncheckAllOptions:function(){this.setState({options:this.state.options.map(function(l){l.checked=false;return l;})});}}};e.exports=k;});
__d("AbstractSearchSource",["Deferred","emptyFunction","mixInto"],function(a,b,c,d,e,f,g,h,i){function j(){}var k={bootstrap:function(l){l=l||h;if(this._bootstrapped){l();return;}if(this._bootstrapDeferred)return this._bootstrapDeferred.addCallback(l);this._bootstrapDeferred=new g();this._bootstrapDeferred.addCallback(l);this.bootstrapImpl(function(){this._bootstrapped=true;this._bootstrapDeferred.succeed();this._bootstrapDeferred=null;}.bind(this));return this._bootstrapDeferred;},search:function(l,m,n){this.searchImpl(l,m,n);},bootstrapImpl:function(l){l();},searchImpl:function(l,m,n){throw new Error('Abstract method #searchImpl is not implemented.');}};i(j,k);j.Mixin=k;e.exports=j;});
__d("SearchSourceCallbackManager",["createObjectFrom","invariant"],function(a,b,c,d,e,f,g,h){function i(k){"use strict";this.$SearchSourceCallbackManager0=k.parseFn;h(typeof this.$SearchSourceCallbackManager0==='function');this.$SearchSourceCallbackManager1=k.matchFn;h(typeof this.$SearchSourceCallbackManager1==='function');this.$SearchSourceCallbackManager2=k.alwaysPrefixMatch||false;this.$SearchSourceCallbackManager3=k.indexFn||j;this.reset();}i.prototype.search=function(k,l,m){"use strict";var n=this.$SearchSourceCallbackManager4(k,l,m);if(n)return 0;this.$SearchSourceCallbackManager5.push({queryString:k,callback:l,options:m});var o=this.$SearchSourceCallbackManager5.length-1;this.$SearchSourceCallbackManager6.push(o);return o;};i.prototype.$SearchSourceCallbackManager4=function(k,l,m){"use strict";var n=this.$SearchSourceCallbackManager7(k),o=!!this.$SearchSourceCallbackManager8[k];if(!n.length){l([],k);return o;}var p=n.map(function(q){return this.$SearchSourceCallbackManager9[q];},this);l(p,k);return o;};i.prototype.$SearchSourceCallbackManagera=function(){"use strict";var k=this.$SearchSourceCallbackManager6;this.$SearchSourceCallbackManager6=[];k.forEach(this.$SearchSourceCallbackManagerb,this);};i.prototype.$SearchSourceCallbackManagerb=function(k){"use strict";var l=this.$SearchSourceCallbackManager5[k];if(!l)return;var m=this.$SearchSourceCallbackManager4(l.queryString,l.callback,l.options);if(m){delete this.$SearchSourceCallbackManager5[k];return;}this.$SearchSourceCallbackManager6.push(k);};i.prototype.reset=function(){"use strict";this.$SearchSourceCallbackManager9={};this.$SearchSourceCallbackManagerc={};this.$SearchSourceCallbackManagerd={};this.$SearchSourceCallbackManagere={};this.$SearchSourceCallbackManager8={};this.$SearchSourceCallbackManager6=[];this.$SearchSourceCallbackManager5=[undefined];};i.prototype.addLocalEntries=function(k){"use strict";k.forEach(function(l){var m=l.getUniqueID(),n=this.$SearchSourceCallbackManager3(l);this.$SearchSourceCallbackManager9[m]=l;this.$SearchSourceCallbackManagerc[m]=n;var o=this.$SearchSourceCallbackManager0(n);o.tokens.forEach(function(p){if(!this.$SearchSourceCallbackManagerd.hasOwnProperty(p))this.$SearchSourceCallbackManagerd[p]={};this.$SearchSourceCallbackManagerd[p][m]=true;},this);},this);this.$SearchSourceCallbackManagera();};i.prototype.addQueryEntries=function(k,l){"use strict";var m=this.$SearchSourceCallbackManager7(l),n=this.$SearchSourceCallbackManager0(l).flatValue;this.$SearchSourceCallbackManagere[n]=g(m,true);k.forEach(function(o){var p=o.getUniqueID();this.$SearchSourceCallbackManager9[p]=o;this.$SearchSourceCallbackManagerc[p]=this.$SearchSourceCallbackManager3(o);this.$SearchSourceCallbackManagere[n][p]=true;},this);this.$SearchSourceCallbackManagera();};i.prototype.unsubscribe=function(k){"use strict";delete this.$SearchSourceCallbackManager5[k];};i.prototype.removeEntry=function(k){"use strict";delete this.$SearchSourceCallbackManager9[k];};i.prototype.getAllEntriesMap=function(){"use strict";return this.$SearchSourceCallbackManager9;};i.prototype.setQueryStringAsExhausted=function(k){"use strict";this.$SearchSourceCallbackManager8[k]=true;};i.prototype.unsetQueryStringAsExhausted=function(k){"use strict";delete this.$SearchSourceCallbackManager8[k];};i.prototype.$SearchSourceCallbackManager7=function(k){"use strict";var l=this.$SearchSourceCallbackManagerf(k,this.$SearchSourceCallbackManagerg(k)),m=this.$SearchSourceCallbackManagerf(k,this.$SearchSourceCallbackManagerh(k)),n=l.concat(m),o={},p=[];n.forEach(function(q){if(!o[q]&&this.$SearchSourceCallbackManager9[q]!==undefined){p.push(q);o[q]=true;}},this);return p;};i.prototype.$SearchSourceCallbackManagerf=function(k,l){"use strict";var m=this.$SearchSourceCallbackManageri(k,l),n=this.$SearchSourceCallbackManager9;function o(p,q){if(m[p]!==m[q])return m[p]?-1:1;var r=n[p],s=n[q];if(r.getOrder()!==s.getOrder())return r.getOrder()-s.getOrder();var t=r.getTitle().length,u=s.getTitle().length;if(t!==u)return t-u;return r.getUniqueID()-s.getUniqueID();}return l.sort(o).slice();};i.prototype.$SearchSourceCallbackManageri=function(k,l){"use strict";var m={};l.forEach(function(n){m[n]=this.$SearchSourceCallbackManager1(k,this.$SearchSourceCallbackManagerc[n]);},this);return m;};i.prototype.$SearchSourceCallbackManagerg=function(k){"use strict";var l=this.$SearchSourceCallbackManager0(k,this.$SearchSourceCallbackManager2),m=this.$SearchSourceCallbackManager2?l.sortedTokens:l.tokens,n=m.length,o=l.isPrefixQuery?n-1:null,p={},q={},r={},s=false,t={},u=0;m.forEach(function(w,x){if(t.hasOwnProperty(w))return;u++;t[w]=true;for(var y in this.$SearchSourceCallbackManagerd){var z=(y===w&&!p.hasOwnProperty(y)),aa=false;if(!z)aa=((this.$SearchSourceCallbackManager2||o===x)&&y.indexOf(w)===0);if(!z&&!aa)continue;if(y===w){if(q.hasOwnProperty(y))s=true;p[y]=true;}else{if(p.hasOwnProperty(y)||q.hasOwnProperty(y))s=true;q[y]=true;}for(var ba in this.$SearchSourceCallbackManagerd[y])if(x===0||(r.hasOwnProperty(ba)&&r[ba]==u-1))r[ba]=u;}},this);var v=Object.keys(r).filter(function(w){return r[w]==u;});if(s||u<n)v=this.$SearchSourceCallbackManagerj(k,v);return v;};i.prototype.$SearchSourceCallbackManagerh=function(k){"use strict";var l=this.$SearchSourceCallbackManager0(k).flatValue,m=this.$SearchSourceCallbackManagerk(l);if(this.$SearchSourceCallbackManagere.hasOwnProperty(l))return m;return this.$SearchSourceCallbackManagerj(k,m);};i.prototype.$SearchSourceCallbackManagerk=function(k){"use strict";var l=0,m=null,n=this.$SearchSourceCallbackManagere;Object.keys(n).forEach(function(o){if(k.indexOf(o)===0&&o.length>l){l=o.length;m=o;}});return (n.hasOwnProperty(m)?Object.keys(n[m]):[]);};i.prototype.$SearchSourceCallbackManagerj=function(k,l){"use strict";return l.filter(function(m){return this.$SearchSourceCallbackManager1(k,this.$SearchSourceCallbackManagerc[m]);},this);};function j(k){return [k.getTitle(),k.getKeywordString()].join(' ');}e.exports=i;});
__d("TimelineChecklistScrollMixin",["Animation","Style","Vector","highlight","startsWith","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=250,n=100,o=125,p=null,q={scrollToBottom:function(){this._scrollTo(this.refs.container.getDOMNode().scrollHeight);},scrollToOption:function(s){if(!this.state.options.has(s))return;var t=this.refs.container.getDOMNode(),u=this.refs[s].getDOMNode(),v=u.offsetTop+u.offsetHeight,w=t.scrollTop+t.offsetHeight,x=function(){var y=this._getBackgroundColor();y&&j(u,null,y);}.bind(this);if(u.offsetTop<t.scrollTop){this._scrollTo(u.offsetTop-1,x);}else if(v>w){this._scrollTo(v-t.offsetHeight,x);}else{x();return;}},_getBackgroundColor:function(){var s=this.refs.container.getDOMNode();while(s){var t=h.get(s,'backgroundColor');if(!r(t))return t;s=s.parentElement;}return null;},_scrollHandler:function(){if(!p)p=l(function(){if(!this.props.fetchOnScroll||!this.state.showPager)return;var s=this.refs.container.getDOMNode(),t=i.getElementDimensions(s).y,u=s.scrollHeight-s.scrollTop-t;u>m||this.refs.pager.fetchMore();},o,this);p();},_scrollTo:function(s,t){new g(this.refs.container.getDOMNode()).to('scrollTop',s).ease(g.ease.end).duration(n).ondone(function(){t&&t();}).go();}};function r(s){if(!k(s,'rgba'))return false;var t=s.split(',');return t.length===4&&parseFloat(t[3])===0;}e.exports=q;});
__d("TimelineChecklistItem.react",["ReactPropTypes","React","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){var l=h.createClass({displayName:'TimelineChecklistItem',propTypes:{context:g.oneOf(['block','inline']),paddingLeft:g.oneOf(['none','small','normal']),paddingRight:g.oneOf(['none','small','normal'])},getDefaultProps:function(){return {context:'block',paddingLeft:'normal',paddingRight:'normal'};},render:function(){j(Array.isArray(this.props.children)&&(this.props.children.length===2||this.props.children.length===3));var m,n,o;if(this.props.children.length===3){m=this.props.children[0];n=this.props.children[1];o=this.props.children[2];}else{m=null;n=this.props.children[0];o=this.props.children[1];}var p=m||n;p.props.className=k(p.props.className,"_14ku");if(m)m.props.className=k(m.props.className,"_5jou");n.props.className=k(n.props.className,"_5jov");o.props.className=k(o.props.className,"_14kv");var q=[m,n,o],r=this.props.context==='block'?h.DOM.div(null,q):h.DOM.span(null,q),s=this.props.paddingLeft,t=this.props.paddingRight;r.props.className=(("_5j7e")+(s==='none'?' '+"_14kw":'')+(s==='small'?' '+"_14kx":'')+(t==='none'?' '+"_14ky":'')+(t==='small'?' '+"_14kz":''));return this.transferPropsTo(r);}});e.exports=l;});
__d("TimelineChecklistPager.react",["AsyncRequest","ReactPropTypes","React","XUIText.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k){var l=i.createClass({displayName:'TimelineChecklistPager',props:{endpoint:h.string.isRequired,onExhaustion:h.func.isRequired,onFetch:h.func,placeholder:h.string.isRequired},fetchMore:function(){if(this.state.loading||!this.state.endpoint)return;this.setState({loading:true});(new g()).setURI(this.state.endpoint).setHandler(this._fetchHandler).send();},getInitialState:function(){return {endpoint:this.props.endpoint,loading:false};},render:function(){var m=(("_5ueb")+(this.state.loading?' '+"_5ued":''));return (i.DOM.div({className:m,onClick:this._clickHandler},j({size:"small",weight:"bold"},this.props.placeholder),i.DOM.div({className:"_5uec"})));},_clickHandler:function(event){this.fetchMore();},_fetchHandler:function(m){var n=m.getPayload();this.setState({endpoint:n.endpoint,loading:false});this.props.onFetch&&this.props.onFetch(n);!n.endpoint&&this.props.onExhaustion();}});e.exports=l;});
__d("TimelineChecklist.react",["React","TimelineChecklistMixin","TimelineChecklistScrollMixin","Image.react","TimelineChecklistItem.react","TimelineChecklistPager.react","XUIText.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=32,p=g.createClass({displayName:'TimelineChecklist',mixins:[h.methods,i],propTypes:h.propTypes,getDefaultProps:function(){return {overflow:'show',imageSize:o};},render:function(){var q=[];this.state.options.forEach(function(v,w){var x=null;if(v.image)x=g.DOM.span(null,j({alt:v.title,height:this.props.imageSize,src:v.image,width:this.props.imageSize}));var y=null;if(v.subtitle)y=g.DOM.span({className:"_49ua"},v.subtitle);var z=(("_49ub")+(v.checked?' '+"_49uc":'')+(v.focused?' '+"_49ud":''));q.push(g.DOM.label({className:z,key:w,ref:w},k({context:"inline",paddingLeft:this.props.paddingLeft,paddingRight:this.props.paddingRight},x,g.DOM.span(null,m({className:"_49ue",size:"small",weight:"bold"},v.title),y),g.DOM.span({className:"_49uf"},g.DOM.span({className:"_49ug"}),g.DOM.input({checked:v.checked,className:"_49uh",name:this._getOptionNameOrFallback(v),onBlur:this._blurHandler,onChange:this._changeHandler,onFocus:this._focusHandler,type:"checkbox",value:w})))));},this);var r=null;if(this.state.showPager)r=l({endpoint:this.props.pagerEndpoint,onExhaustion:this._exhaustionHandler,onFetch:this._fetchHandler,placeholder:this.props.pagerPlaceholder,ref:"pager"});var s=this.props.overflow==='scroll',t=((s?"_49ui":'')+(s?' '+"scrollable":'')),u=g.DOM.div({className:t,ref:"container"},g.DOM.fieldset({className:"_49uj"},q,r));if(this.props.fetchOnScroll&&this.state.showPager&&s)u.props.onScroll=this._scrollHandler;return this.transferPropsTo(u);},_blurHandler:function(event){this.state.options.get(event.target.value).focused=false;this.setState({options:this.state.options});},_focusHandler:function(event){this.setState({options:this.state.options.map(function(q,r){q.focused=r===event.target.value;return q;})});}});e.exports=p;});
__d("TimelineSingleTypeahead.react",["DOM","ReactPropTypes","React","CloseButton.react","XUITypeahead.react","csx","cx","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=i.createClass({displayName:'TimelineSingleTypeahead',propTypes:{excludedEntries:h.object,onBlur:h.func,onChange:h.func,onFocus:h.func,onSelectAttempt:h.func,placeholder:h.string,queryName:h.string,requireSelection:h.bool,searchSource:h.object.isRequired,selectedEntry:h.object,selectionName:h.string,selectOnBlur:h.bool,showEntriesOnFocus:h.bool,tallInput:h.bool},getDefaultProps:function(){return {requireSelection:false,selectedEntry:null,selectionName:'selected_id',queryName:'query'};},componentDidUpdate:function(){var p=this._getTextInputNode(),q=p.scrollWidth>p.clientWidth;if(this.state.useMask!==q)this.setState({useMask:q});},getInitialState:function(){return {queryString:'',selectedEntry:this.props.selectedEntry,useMask:false};},render:function(){var p=this.state.selectedEntry,q=this.state.queryString,r=null;if(this.state.useMask)r=i.DOM.div({className:"_5rrw"});var s=null;if(p)s=j({'aria-label':n._("Remove {item}",{item:p.getTitle()}),className:"_5rrv",onClick:this._clearButtonClickHandler,size:"small"});var t=null;if(p){t=i.DOM.input({name:this.props.selectionName,type:"hidden",value:p.getUniqueID()});}else if(q)t=i.DOM.input({name:this.props.queryName,type:"hidden",value:q});var u=(("_5rru")+(this.props.tallInput?' '+"_5rrx":'')+(!!p?' '+"_5rry":''));return (i.DOM.div({className:u},k({excludedEntries:this.props.excludedEntries,onBlur:this._blurHandler,onChange:this._changeHandler,onFocus:this.props.onFocus,onSelectAttempt:this._selectHandler,placeholder:this.props.placeholder,queryString:p?p.getTitle():q,ref:"typeahead",selectOnBlur:this.props.selectOnBlur,searchSource:this.props.searchSource,showEntriesOnFocus:this.props.showEntriesOnFocus,tallInput:this.props.tallInput}),r,s,t));},clearSelection:function(){this.setState({queryString:'',selectedEntry:null});},_blurHandler:function(){if(this.props.requireSelection&&!this.state.selectedEntry)this.clearSelection();},_changeHandler:function(event){this.setState({queryString:event.target.value,selectedEntry:null});this.props.onChange&&this.props.onChange(event);},_selectHandler:function(p){this.setState({selectedEntry:p});this.props.onSelectAttempt&&this.props.onSelectAttempt(p);},_clearButtonClickHandler:function(event){this.clearSelection();var p=this._getTextInputNode();setTimeout(p.focus.bind(p),0);},_getTextInputNode:function(){return g.find(this.refs.typeahead.getDOMNode(),"._58al");}});e.exports=o;});
__d("TimelineTypeaheadContainer.react",["React","cx"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:'TimelineTypeaheadContainer',render:function(){return (g.DOM.div({className:"_5w1b"},this.props.children));}});e.exports=i;});
__d("TimelineTypeaheadChecklist.react",["ReactPropTypes","React","TimelineChecklist.react","TimelineSingleTypeahead.react","TimelineTypeaheadContainer.react","XUITypeahead.react","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=h.createClass({displayName:'TimelineTypeaheadChecklist',propTypes:{excludedEntries:g.object,placeholder:g.string.isRequired,requireSelection:g.bool,searchSource:g.object.isRequired,typeaheadName:g.string,queryName:function(o,p,q){if(!o.multiSelect)m(o[p]);}},getDefaultProps:function(){return {overflow:'scroll'};},getInitialState:function(){return {queryString:''};},render:function(){var o=null;if(this.props.multiSelect){o=l({excludedEntries:this.props.excludedEntries,onBlur:this._typeaheadBlurHandler,onChange:this._typeaheadChangeHandler,queryString:this.state.queryString});}else o=j({requireSelection:this.props.requireSelection,selectionName:this.props.typeaheadName,queryName:this.props.queryName});o.props.onSelectAttempt=this._selectHandler;o.props.placeholder=this.props.placeholder;o.props.ref='typeahead';o.props.searchSource=this.props.searchSource;var p=this.transferPropsTo(i({onChange:this._checklistChangeHandler,ref:"checklist"}));return (h.DOM.div(null,p,k(null,o)));},_checklistChangeHandler:function(){this.props.multiSelect||this.refs.typeahead.clearSelection();},_selectHandler:function(o){if(!o)return;if(!this.props.multiSelect){this.refs.checklist.clearSelection();return;}this.refs.checklist.addOption(o.getUniqueID(),o.getTitle(),o.getSubtitle(),o.getPhoto(),true,this.props.typeaheadName);this.setState({queryString:''});setTimeout(function(){this.refs.checklist.scrollToOption(o.getUniqueID());}.bind(this),0);},_typeaheadBlurHandler:function(){this.props.requireSelection&&this.setState({queryString:''});},_typeaheadChangeHandler:function(event){this.setState({queryString:event.target.value});}});e.exports=n;});
__d("WebAsyncSearchSource",["AbstractSearchSource","AsyncRequest","SearchSourceCallbackManager","SearchableEntry","TokenizeUtil","copyProperties","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){for(var n in g)if(g.hasOwnProperty(n))p[n]=g[n];var o=g===null?null:g.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=g;function p(q){"use strict";this.$WebAsyncSearchSource0=q.bootstrapRequests;this.$WebAsyncSearchSource1=q.queryRequests;this.$WebAsyncSearchSource2=q.auxiliaryFields;this.$WebAsyncSearchSource3=q.asyncErrorHandler||m;this.$WebAsyncSearchSource4=q.packageFn||this.$WebAsyncSearchSource5;this.$WebAsyncSearchSource6=q.getAllForEmptyQuery;this.$WebAsyncSearchSource7=[];this.$WebAsyncSearchSource8=new i({parseFn:k.parse,matchFn:k.isQueryMatch,indexFn:q.indexFn});}p.prototype.bootstrapImpl=function(q){"use strict";if(!this.$WebAsyncSearchSource0||!this.$WebAsyncSearchSource0.length){q();return;}var r=this.$WebAsyncSearchSource0.length,s=0;this.$WebAsyncSearchSource0.forEach(function(t){this.$WebAsyncSearchSource9({},t,function(u){var v=this.$WebAsyncSearchSourcea(u);this.$WebAsyncSearchSource8.addLocalEntries(v);this.$WebAsyncSearchSource7=this.$WebAsyncSearchSource7.concat(v);s++;if(s===r){q();q=null;}}.bind(this));}.bind(this));};p.prototype.searchImpl=function(q,r,s){"use strict";if(this.$WebAsyncSearchSource6&&q===''){this.getBootstrappedEntries(function(y){r(y,q);});return;}var t=null,u={},v=this.$WebAsyncSearchSource8.search(q,function(y){if(!t){t=y;t.forEach(function(z){u[z.getUniqueID()]=true;});}else y.forEach(function(z){var aa=z.getUniqueID();if(!u[aa]){t.push(z);u[aa]=true;}});r(t,q);},s);if(!v||!this.$WebAsyncSearchSource1||!this.$WebAsyncSearchSource1.length)return;var w={value:q,existing_ids:t&&t.map(function(y){return y.getUniqueID();}).join(',')},x=this.$WebAsyncSearchSource1.length;this.$WebAsyncSearchSource1.forEach(function(y){this.$WebAsyncSearchSource9(w,y,function(z){this.$WebAsyncSearchSourceb(z,q);x--;if(!x)this.$WebAsyncSearchSource8.setQueryStringAsExhausted(q);}.bind(this));},this);};p.prototype.getBootstrappedEntries=function(q){"use strict";return this.bootstrap(function(){q(this.$WebAsyncSearchSource7||[]);}.bind(this));};p.prototype.getAllEntriesMap=function(){"use strict";return this.$WebAsyncSearchSource8.getAllEntriesMap();};p.prototype.$WebAsyncSearchSource9=function(q,r,s){"use strict";new h(r.uri).setData(l({},q,r.data)).setMethod('GET').setReadOnly(true).setHandler(s).setErrorHandler(this.$WebAsyncSearchSource3).send();};p.prototype.$WebAsyncSearchSourcea=function(q){"use strict";var r=q.getPayload().entries||q.getPayload()||[];return r.map(this.$WebAsyncSearchSource4.bind(this));};p.prototype.$WebAsyncSearchSourcec=function(q){"use strict";this.$WebAsyncSearchSource8.addLocalEntries(this.$WebAsyncSearchSourcea(q));};p.prototype.$WebAsyncSearchSourceb=function(q,r){"use strict";var s=this.$WebAsyncSearchSourcea(q);if(s.length)this.$WebAsyncSearchSource8.addQueryEntries(s,r);};p.prototype.$WebAsyncSearchSource5=function(q,r){"use strict";return new j({uniqueID:q.uniqueID||q.uid,order:q.index||r,title:q.title||q.text,subtitle:q.subtitle||q.category||q.subtext,keywordString:q.keywordString||q.tokens,type:q.type,photo:q.photo,uri:q.path,auxiliaryData:this.$WebAsyncSearchSourced(q)});};p.prototype.$WebAsyncSearchSourced=function(q){"use strict";var r;if(this.$WebAsyncSearchSource2){r={};for(var s in this.$WebAsyncSearchSource2){var t=this.$WebAsyncSearchSource2[s];r[s]=q[t];}}if(q.aux_data){r=r||{};l(r,q.aux_data);}return r;};e.exports=p;});